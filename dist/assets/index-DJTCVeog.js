import{u as Ji,j as e,R as wl,N as Ul,r as b,B as Fl,a as Yl,b as Lt,d as Kl}from"./vendor-react-B0Xi4u7S.js";import{H as ql,L as $l,P as $t,A as bs,E as vs,G as ke,S as ys,I as Ss,M as Gl,U as Ts,a as Es,B as Hl,V as Hi,b as Ue,c as Vl,T as Kt,C as js,d as qt,e as Ql,F as _t,f as Wl,g as Zl,h as Xl,i as As,j as Jl,k as en,l as tn,m as an,n as Ns,o as ea,p as pe,q as Se,r as sn,s as Ut,t as Ft,u as Ei,Z as Ls,v as ln,X as Vi,w as nn,x as Rs,y as rn,z as on,D as Ht,J as Qi,K as dn,N as cn,O as un,Q as pn,R as _s,W as mn,Y as xn,_ as hn,$ as fn,a0 as mi,a1 as Xa,a2 as Ja,a3 as gn}from"./vendor-ui-BXLfhbLL.js";import{i as bn}from"./vendor-editor-BvsJV83P.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))m(v);new MutationObserver(v=>{for(const S of v)if(S.type==="childList")for(const g of S.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&m(g)}).observe(document,{childList:!0,subtree:!0});function d(v){const S={};return v.integrity&&(S.integrity=v.integrity),v.referrerPolicy&&(S.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?S.credentials="include":v.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function m(v){if(v.ep)return;v.ep=!0;const S=d(v);fetch(v.href,S)}})();const vn=({menuItems:a,user:n,onLogout:d})=>{const m=n?.role||"secondary",v=Ji(),S=A=>(A||"").toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),g=A=>A&&(A==="/frontend-settings"||A==="/admin/frontend-settings"||A==="/general-settings"||A==="/admin/general-settings"?"/general-settings?tab=general":A),T={Layout:$t,Home:tn,Menu:en,Maximize:Jl,Type:As,Star:Xl,Anchor:Zl,Info:Wl,FileText:_t,List:Ql,Calendar:qt,Clock:js,Trophy:Kt,Award:Vl,Image:Ue,Video:Hi,BookOpen:Hl,Phone:Es,Users:Ts,Monitor:Gl,Inbox:Ss,Settings:ys,Globe:ke,Eye:vs,Activity:bs},z=({name:A,className:R})=>{const I=T[A];return I?e.jsx(I,{className:R,size:18}):e.jsx($t,{className:R,size:18})},k=A=>{const R=g(A);return R?R.includes("?")?v.pathname+v.search===R:v.pathname===R:!1},U=(A,R,I)=>e.jsx("li",{className:"sidebar-item",children:e.jsxs(Ul,{to:g(I||A.path)||"#",className:()=>`sidebar-link ${k(g(I||A.path))?"active":""}`,children:[(A.icon||R)&&e.jsx(z,{name:A.icon||R||"",className:"sidebar-icon"}),e.jsx("span",{className:"sidebar-text",children:A.title}),A.badge&&e.jsx("span",{className:`badge ${A.badge.color} sidebar-badge`,children:A.badge.text})]})}),w=A=>{const R=["/frontend-settings","/general-settings","/users-management"],I=new Set(["/","/admin"]);return A.map(be=>{const me=be.children?w(be.children):void 0,W=g(be.path),q=(W||"").toLowerCase(),ne=S(be.title||"");return m==="secondary"&&R.some(Ie=>W?.toLowerCase().startsWith(Ie))||I.has(q)||ne==="panel ana sehife"||ne==="dashboard"||!W&&(!me||me.length===0)?null:{...be,path:W,children:me}}).filter(Boolean)},M=A=>{const R=new Set;return A.filter(I=>{const C=S(I.title||"");return!C||R.has(C)?!1:(R.add(C),!0)})},L=A=>{const R=S(A);return R==="ana sehife / naviqasiya / footer"?"Ana Səhifə":R==="sosyal"?"Sosial Media":A},Z=A=>{const R=g(A.path||"")||"";return R.includes("page=privacypolicypage")||R.includes("page=termsofservicepage")?"legal":R.startsWith("/users-management")||R.startsWith("/general-settings")||R.startsWith("/applications")?"management":"content"},j=A=>{const R=g(A.path||"")||"",I=S(A.title||"");return R.includes("page=home")?10:R.includes("page=about")?20:R.includes("mode=news")?30:R.includes("mode=events")?40:R.includes("mode=drivers")?50:R.includes("mode=videos")?60:R.includes("page=rulespage")?70:R.includes("page=contactpage")?80:R.includes("page=privacypolicypage")?90:R.includes("page=termsofservicepage")?100:R.startsWith("/users-management")?110:R.includes("tab=general")?120:R.includes("tab=social")||I==="sosial media"?130:R.startsWith("/applications")?140:999},B={content:"SAYT MƏZMUNU",legal:"HÜQUQİ SƏHİFƏLƏR",management:"İDARƏETMƏ"},V=M(w(a)).map(A=>({...A,title:L(A.title)})).sort((A,R)=>j(A)-j(R)),$={content:[],legal:[],management:[]};return V.forEach(A=>{$[Z(A)].push(A)}),e.jsxs("aside",{className:"sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs("div",{className:"brand-logo",children:[e.jsx(ql,{className:"logo-icon",size:24,fill:"currentColor"}),e.jsxs("span",{className:"brand-name",children:["FORSAJ",e.jsx("span",{children:"PANEL"})]})]})}),e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"sidebar-section-label",children:"ƏSAS NAVİQASİYA"}),["content","legal","management"].map(A=>{const R=$[A];return R.length?e.jsxs("div",{className:"sidebar-group",children:[e.jsx("div",{className:"sidebar-section-label sidebar-subsection-label",children:B[A]}),e.jsx("ul",{className:"sidebar-menu",children:R.map(I=>{const C=I.children?.find(me=>!!me.path)?.path,be=I.path||C;return e.jsx(wl.Fragment,{children:U(I,I.icon,be)},`${I.title}-${be||"no-path"}`)})})]},A):null}),V.length===0&&e.jsx("div",{className:"empty-sidebar-msg",children:e.jsx("p",{children:"Menyu boşdur"})})]}),e.jsx("div",{className:"sidebar-footer",children:e.jsxs("button",{className:"logout-btn",onClick:d,children:[e.jsx($l,{size:18}),e.jsx("span",{children:"Çıxış"})]})})]})},yn=({user:a})=>e.jsx("header",{className:"header",children:e.jsxs("div",{className:"header-right",children:[e.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"view-site-btn",children:[e.jsx(an,{size:16})," Sayta Bax"]}),e.jsxs("div",{className:"header-profile",children:[e.jsxs("div",{className:"profile-info",children:[e.jsx("span",{className:"profile-name",children:a?.name||"Forsaj İdarəçisi"}),e.jsx("span",{className:"profile-status",children:a?.role==="master"?"Baş Admin":"Sayt Redaktoru"})]}),e.jsx("img",{src:`https://ui-avatars.com/api/?name=${a?.name||"Admin"}&background=random`,alt:"Profil"})]})]})});let Sn={data:""},Tn=a=>{if(typeof window=="object"){let n=(a?a.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(a||document.head).appendChild(n),n.firstChild}return a||Sn},En=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jn=/\/\*[^]*?\*\/|  +/g,es=/\n+/g,rt=(a,n)=>{let d="",m="",v="";for(let S in a){let g=a[S];S[0]=="@"?S[1]=="i"?d=S+" "+g+";":m+=S[1]=="f"?rt(g,S):S+"{"+rt(g,S[1]=="k"?"":n)+"}":typeof g=="object"?m+=rt(g,n?n.replace(/([^,])+/g,T=>S.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,z=>/&/.test(z)?z.replace(/&/g,T):T?T+" "+z:z)):S):g!=null&&(S=/^--/.test(S)?S:S.replace(/[A-Z]/g,"-$&").toLowerCase(),v+=rt.p?rt.p(S,g):S+":"+g+";")}return d+(n&&v?n+"{"+v+"}":v)+m},Xe={},Is=a=>{if(typeof a=="object"){let n="";for(let d in a)n+=d+Is(a[d]);return n}return a},An=(a,n,d,m,v)=>{let S=Is(a),g=Xe[S]||(Xe[S]=(z=>{let k=0,U=11;for(;k<z.length;)U=101*U+z.charCodeAt(k++)>>>0;return"go"+U})(S));if(!Xe[g]){let z=S!==a?a:(k=>{let U,w,M=[{}];for(;U=En.exec(k.replace(jn,""));)U[4]?M.shift():U[3]?(w=U[3].replace(es," ").trim(),M.unshift(M[0][w]=M[0][w]||{})):M[0][U[1]]=U[2].replace(es," ").trim();return M[0]})(a);Xe[g]=rt(v?{["@keyframes "+g]:z}:z,d?"":"."+g)}let T=d&&Xe.g?Xe.g:null;return d&&(Xe.g=Xe[g]),((z,k,U,w)=>{w?k.data=k.data.replace(w,z):k.data.indexOf(z)===-1&&(k.data=U?z+k.data:k.data+z)})(Xe[g],n,m,T),g},Nn=(a,n,d)=>a.reduce((m,v,S)=>{let g=n[S];if(g&&g.call){let T=g(d),z=T&&T.props&&T.props.className||/^go/.test(T)&&T;g=z?"."+z:T&&typeof T=="object"?T.props?"":rt(T,""):T===!1?"":T}return m+v+(g??"")},"");function Ai(a){let n=this||{},d=a.call?a(n.p):a;return An(d.unshift?d.raw?Nn(d,[].slice.call(arguments,1),n.p):d.reduce((m,v)=>Object.assign(m,v&&v.call?v(n.p):v),{}):d,Tn(n.target),n.g,n.o,n.k)}let Cs,Wi,Zi;Ai.bind({g:1});let tt=Ai.bind({k:1});function Ln(a,n,d,m){rt.p=n,Cs=a,Wi=d,Zi=m}function dt(a,n){let d=this||{};return function(){let m=arguments;function v(S,g){let T=Object.assign({},S),z=T.className||v.className;d.p=Object.assign({theme:Wi&&Wi()},T),d.o=/ *go\d+/.test(z),T.className=Ai.apply(d,m)+(z?" "+z:"");let k=a;return a[0]&&(k=T.as||a,delete T.as),Zi&&k[0]&&Zi(T),Cs(k,T)}return v}}var Rn=a=>typeof a=="function",ji=(a,n)=>Rn(a)?a(n):a,_n=(()=>{let a=0;return()=>(++a).toString()})(),Os=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");a=!n||n.matches}return a}})(),In=20,ta="default",ks=(a,n)=>{let{toastLimit:d}=a.settings;switch(n.type){case 0:return{...a,toasts:[n.toast,...a.toasts].slice(0,d)};case 1:return{...a,toasts:a.toasts.map(g=>g.id===n.toast.id?{...g,...n.toast}:g)};case 2:let{toast:m}=n;return ks(a,{type:a.toasts.find(g=>g.id===m.id)?1:0,toast:m});case 3:let{toastId:v}=n;return{...a,toasts:a.toasts.map(g=>g.id===v||v===void 0?{...g,dismissed:!0,visible:!1}:g)};case 4:return n.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(g=>g.id!==n.toastId)};case 5:return{...a,pausedAt:n.time};case 6:let S=n.time-(a.pausedAt||0);return{...a,pausedAt:void 0,toasts:a.toasts.map(g=>({...g,pauseDuration:g.pauseDuration+S}))}}},vi=[],Ds={toasts:[],pausedAt:void 0,settings:{toastLimit:In}},Ge={},Ms=(a,n=ta)=>{Ge[n]=ks(Ge[n]||Ds,a),vi.forEach(([d,m])=>{d===n&&m(Ge[n])})},Bs=a=>Object.keys(Ge).forEach(n=>Ms(a,n)),Cn=a=>Object.keys(Ge).find(n=>Ge[n].toasts.some(d=>d.id===a)),Ni=(a=ta)=>n=>{Ms(n,a)},On={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},kn=(a={},n=ta)=>{let[d,m]=b.useState(Ge[n]||Ds),v=b.useRef(Ge[n]);b.useEffect(()=>(v.current!==Ge[n]&&m(Ge[n]),vi.push([n,m]),()=>{let g=vi.findIndex(([T])=>T===n);g>-1&&vi.splice(g,1)}),[n]);let S=d.toasts.map(g=>{var T,z,k;return{...a,...a[g.type],...g,removeDelay:g.removeDelay||((T=a[g.type])==null?void 0:T.removeDelay)||a?.removeDelay,duration:g.duration||((z=a[g.type])==null?void 0:z.duration)||a?.duration||On[g.type],style:{...a.style,...(k=a[g.type])==null?void 0:k.style,...g.style}}});return{...d,toasts:S}},Dn=(a,n="blank",d)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,...d,id:d?.id||_n()}),Qt=a=>(n,d)=>{let m=Dn(n,a,d);return Ni(m.toasterId||Cn(m.id))({type:2,toast:m}),m.id},ge=(a,n)=>Qt("blank")(a,n);ge.error=Qt("error");ge.success=Qt("success");ge.loading=Qt("loading");ge.custom=Qt("custom");ge.dismiss=(a,n)=>{let d={type:3,toastId:a};n?Ni(n)(d):Bs(d)};ge.dismissAll=a=>ge.dismiss(void 0,a);ge.remove=(a,n)=>{let d={type:4,toastId:a};n?Ni(n)(d):Bs(d)};ge.removeAll=a=>ge.remove(void 0,a);ge.promise=(a,n,d)=>{let m=ge.loading(n.loading,{...d,...d?.loading});return typeof a=="function"&&(a=a()),a.then(v=>{let S=n.success?ji(n.success,v):void 0;return S?ge.success(S,{id:m,...d,...d?.success}):ge.dismiss(m),v}).catch(v=>{let S=n.error?ji(n.error,v):void 0;S?ge.error(S,{id:m,...d,...d?.error}):ge.dismiss(m)}),a};var Mn=1e3,Bn=(a,n="default")=>{let{toasts:d,pausedAt:m}=kn(a,n),v=b.useRef(new Map).current,S=b.useCallback((w,M=Mn)=>{if(v.has(w))return;let L=setTimeout(()=>{v.delete(w),g({type:4,toastId:w})},M);v.set(w,L)},[]);b.useEffect(()=>{if(m)return;let w=Date.now(),M=d.map(L=>{if(L.duration===1/0)return;let Z=(L.duration||0)+L.pauseDuration-(w-L.createdAt);if(Z<0){L.visible&&ge.dismiss(L.id);return}return setTimeout(()=>ge.dismiss(L.id,n),Z)});return()=>{M.forEach(L=>L&&clearTimeout(L))}},[d,m,n]);let g=b.useCallback(Ni(n),[n]),T=b.useCallback(()=>{g({type:5,time:Date.now()})},[g]),z=b.useCallback((w,M)=>{g({type:1,toast:{id:w,height:M}})},[g]),k=b.useCallback(()=>{m&&g({type:6,time:Date.now()})},[m,g]),U=b.useCallback((w,M)=>{let{reverseOrder:L=!1,gutter:Z=8,defaultPosition:j}=M||{},B=d.filter(A=>(A.position||j)===(w.position||j)&&A.height),V=B.findIndex(A=>A.id===w.id),$=B.filter((A,R)=>R<V&&A.visible).length;return B.filter(A=>A.visible).slice(...L?[$+1]:[0,$]).reduce((A,R)=>A+(R.height||0)+Z,0)},[d]);return b.useEffect(()=>{d.forEach(w=>{if(w.dismissed)S(w.id,w.removeDelay);else{let M=v.get(w.id);M&&(clearTimeout(M),v.delete(w.id))}})},[d,S]),{toasts:d,handlers:{updateHeight:z,startPause:T,endPause:k,calculateOffset:U}}},Pn=tt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zn=tt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wn=tt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Un=dt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Pn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${a=>a.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Fn=tt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Yn=dt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${a=>a.secondary||"#e0e0e0"};
  border-right-color: ${a=>a.primary||"#616161"};
  animation: ${Fn} 1s linear infinite;
`,Kn=tt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qn=tt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,$n=dt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${a=>a.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Gn=dt("div")`
  position: absolute;
`,Hn=dt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Vn=tt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qn=dt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Vn} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Wn=({toast:a})=>{let{icon:n,type:d,iconTheme:m}=a;return n!==void 0?typeof n=="string"?b.createElement(Qn,null,n):n:d==="blank"?null:b.createElement(Hn,null,b.createElement(Yn,{...m}),d!=="loading"&&b.createElement(Gn,null,d==="error"?b.createElement(Un,{...m}):b.createElement($n,{...m})))},Zn=a=>`
0% {transform: translate3d(0,${a*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Xn=a=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${a*-150}%,-1px) scale(.6); opacity:0;}
`,Jn="0%{opacity:0;} 100%{opacity:1;}",er="0%{opacity:1;} 100%{opacity:0;}",tr=dt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ir=dt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ar=(a,n)=>{let d=a.includes("top")?1:-1,[m,v]=Os()?[Jn,er]:[Zn(d),Xn(d)];return{animation:n?`${tt(m)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${tt(v)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},sr=b.memo(({toast:a,position:n,style:d,children:m})=>{let v=a.height?ar(a.position||n||"top-center",a.visible):{opacity:0},S=b.createElement(Wn,{toast:a}),g=b.createElement(ir,{...a.ariaProps},ji(a.message,a));return b.createElement(tr,{className:a.className,style:{...v,...d,...a.style}},typeof m=="function"?m({icon:S,message:g}):b.createElement(b.Fragment,null,S,g))});Ln(b.createElement);var lr=({id:a,className:n,style:d,onHeightUpdate:m,children:v})=>{let S=b.useCallback(g=>{if(g){let T=()=>{let z=g.getBoundingClientRect().height;m(a,z)};T(),new MutationObserver(T).observe(g,{subtree:!0,childList:!0,characterData:!0})}},[a,m]);return b.createElement("div",{ref:S,className:n,style:d},v)},nr=(a,n)=>{let d=a.includes("top"),m=d?{top:0}:{bottom:0},v=a.includes("center")?{justifyContent:"center"}:a.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Os()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(d?1:-1)}px)`,...m,...v}},rr=Ai`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xi=16,or=({reverseOrder:a,position:n="top-center",toastOptions:d,gutter:m,children:v,toasterId:S,containerStyle:g,containerClassName:T})=>{let{toasts:z,handlers:k}=Bn(d,S);return b.createElement("div",{"data-rht-toaster":S||"",style:{position:"fixed",zIndex:9999,top:xi,left:xi,right:xi,bottom:xi,pointerEvents:"none",...g},className:T,onMouseEnter:k.startPause,onMouseLeave:k.endPause},z.map(U=>{let w=U.position||n,M=k.calculateOffset(U,{reverseOrder:a,gutter:m,defaultPosition:n}),L=nr(w,M);return b.createElement(lr,{id:U.id,key:U.id,onHeightUpdate:k.updateHeight,className:U.visible?rr:"",style:L},U.type==="custom"?ji(U.message,U):v?v(U):b.createElement(sr,{toast:U,position:w}))}))},E=ge;const yi="Ümumi Arxiv",dr="forsaj_gallery_version",cr=new Set(["","umumi arxiv","ümumi arxiv","general archive","default","archive","arxiv"]),Te=a=>(a||"").trim()||yi,ts=(a,n)=>{const d=String(a||"").trim().toLocaleLowerCase("az");if(d==="past"||d==="kecmis"||d==="keçmiş")return"past";if(d==="planned"||d==="gelecek"||d==="gələcək")return"planned";const m=new Date(String(n||"").trim());if(!Number.isNaN(m.getTime())){const v=new Date;if(v.setHours(0,0,0,0),m.getTime()<v.getTime())return"past"}return"planned"},Fi=a=>{const n=Te(a).toLocaleLowerCase("az").normalize("NFC").trim();return cr.has(n)},ur=(a,n)=>{const d=Number(a);return Number.isFinite(d)?d:n},pr=(a,n)=>{const d=ur(a?.id,Date.now()+n+1),m=String(a?.title||a?.alt||`Şəkil ${n+1}`).trim(),v=String(a?.url||a?.path||"").trim(),S=Number(a?.eventId??a?.event_id),g=Number.isFinite(S)?S:null,T=Te(typeof a?.album=="string"?a.album:typeof a?.event=="string"?a.event:"");return{id:d,title:m||`Şəkil ${n+1}`,url:v,album:T,eventId:g}},mr={toolbar:[[{header:[2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},is=["Shield","Users","Leaf","Zap"],Yi={Shield:Ei,Users:Ts,Leaf:ln,Zap:Ls},xr=["ShieldCheck","Truck","Globe","Zap"],hr={ShieldCheck:Rs,Truck:nn,Globe:ke,Zap:Ls},Ki=["Info","Settings","ShieldAlert","Leaf","FileText"],fr=[{title:"Səhifə və Sistem",subtitle:"Səhifə başlığı, status və sistem mesajları",ids:["PAGE_TITLE","PAGE_SUBTITLE","ONLINE_STATUS_LABEL","FORM_TOAST_REQUIRED","FORM_TOAST_SUCCESS","FORM_TOAST_ERROR"]},{title:"Baş Ofis",subtitle:"Ofis məlumatları və əsas əlaqə sahələri",ids:["OFFICE_LABEL","ADDRESS_LINE_1","ADDRESS_LINE_2","WORK_HOURS","PHONE_LABEL","PHONE_NUMBER","EMAIL_LABEL","EMAIL_Address"]},{title:"Departamentlər",subtitle:"Departament kartları və e-poçt məlumatları",ids:["DEPT_HQ_TITLE","DEPT_HQ_DESC","DEPT_HQ_EMAIL","DEPT_PR_TITLE","DEPT_PR_DESC","DEPT_PR_EMAIL","DEPT_TECH_TITLE","DEPT_TECH_DESC","DEPT_TECH_EMAIL"]},{title:"Form",subtitle:"Müraciət formu sahələri və seçimlər",ids:["FORM_TITLE","FORM_STATUS_LABEL","FORM_METHOD","FORM_CONTENT_TYPE","FIELD_NAME_LABEL","FIELD_NAME_PLACEHOLDER","FIELD_CONTACT_LABEL","FIELD_CONTACT_PLACEHOLDER","FIELD_TOPIC_LABEL","TOPIC_GENERAL","TOPIC_PILOT","TOPIC_TECH","FIELD_MESSAGE_LABEL","FIELD_MESSAGE_PLACEHOLDER","BTN_SEND"]}],as={privacypolicypage:[{title:"Səhifə Başlığı",subtitle:"Ümumi başlıq və tarix məlumatları",ids:["PAGE_TITLE","PAGE_SUBTITLE","INTRO_TEXT","UPDATED_LABEL","UPDATED_DATE"]},{title:"Mətn Bölmələri",subtitle:"Məxfilik siyasətinin əsas maddələri",ids:["SECTION_1_TITLE","SECTION_1_BODY","SECTION_2_TITLE","SECTION_2_BODY","SECTION_3_TITLE","SECTION_3_BODY","SECTION_4_TITLE","SECTION_4_BODY","SECTION_5_TITLE","SECTION_5_BODY","SECTION_6_TITLE","SECTION_6_BODY","SECTION_7_TITLE","SECTION_7_BODY","SECTION_8_TITLE","SECTION_8_BODY","SECTION_9_TITLE","SECTION_9_BODY"]},{title:"Əlaqə",subtitle:"Səhifənin sonunda görünən əlaqə məlumatları",ids:["CONTACT_TITLE","CONTACT_EMAIL","CONTACT_WEBSITE"]}],termsofservicepage:[{title:"Səhifə Başlığı",subtitle:"Ümumi başlıq və tarix məlumatları",ids:["PAGE_TITLE","PAGE_SUBTITLE","INTRO_TEXT","UPDATED_LABEL","UPDATED_DATE"]},{title:"Mətn Bölmələri",subtitle:"Xidmət şərtlərinin əsas maddələri",ids:["SECTION_1_TITLE","SECTION_1_BODY","SECTION_2_TITLE","SECTION_2_BODY","SECTION_3_TITLE","SECTION_3_BODY","SECTION_4_TITLE","SECTION_4_BODY","SECTION_5_TITLE","SECTION_5_BODY","SECTION_6_TITLE","SECTION_6_BODY","SECTION_7_TITLE","SECTION_7_BODY","SECTION_8_TITLE","SECTION_8_BODY"]},{title:"Əlaqə",subtitle:"Səhifənin sonunda görünən əlaqə məlumatları",ids:["CONTACT_TITLE","CONTACT_EMAIL","CONTACT_WEBSITE"]}]},Ps=/^val-(icon|title|desc)-(.+)$/i,ss=a=>{const n=String(a||"").trim().match(Ps);return n?{field:n[1].toLowerCase(),suffix:n[2]}:null},gr={navbar:"Üst menudakı düymə adları və keçidlərini buradan yeniləyin.",hero:"Ana səhifənin ilk ekranında görünən başlıq, alt başlıq və düymələr.",marquee:"Ana səhifədə sürüşən məlumat zolağının məzmunu.",categoryleaders:"Ana səhifə liderlər bölməsi başlıq və məlumatları.",nextrace:'Ana səhifədəki "NÖVBƏTİ YARIŞ" bölməsinin başlıq və CTA mətnləri.',videoarchive:'Ana səhifədəki "VİDEO ARXİVİ" bölməsinin başlıq və izah mətnləri.',news:'Ana səhifədəki "SON XƏBƏRLƏR" bölməsinin başlıq və izah mətnləri.',partners:'Ana səhifənin alt hissəsindəki "RƏSMİ TƏRƏFDAŞLARIMIZ" kartları.',footer:"Saytın alt hissəsi (footer) mətnləri, linkləri və əlaqə məlumatları.",about:"Haqqımızda səhifəsindəki əsas başlıqlar, mətnlər və dəyərlər.",newspage:"Xəbərlər səhifəsi başlıq və üst mətn sahələri.",eventspage:"Tədbirlər səhifəsi başlıq və forma ilə bağlı mətnlər.",drivers:"Sürücülər bölməsinin kateqoriya və cədvəl başlıqları.",gallerypage:"Qalereya səhifəsi tab və başlıq məzmunları.",contactpage:"Əlaqə səhifəsində ofis, departament və form mətnləri.",rulespage:"Qaydalar səhifəsi tablar, sənəd düymələri və maddələr.",privacypolicypage:"Privacy Policy səhifəsində başlıq, maddələr və əlaqə məlumatları.",termsofservicepage:"Terms of Service səhifəsində başlıq, maddələr və əlaqə məlumatları."},ls={PAGE_TITLE:"Səhifənin ən üstündə görünən əsas başlıq.",PAGE_SUBTITLE:"Başlığın altında görünən qısa izah mətni.",SECTION_TITLE:"Bu blokun üstündə görünən etiket mətnidir.",INTRO_TEXT:"Səhifə girişində görünən giriş mətni.",UPDATED_LABEL:"Yenilənmə tarixindən əvvəl görünən etiket.",UPDATED_DATE:"Səhifədə göstərilən son yenilənmə tarixi.",CONTACT_TITLE:"Səhifə sonundakı əlaqə bölməsi başlığı.",CONTACT_EMAIL:"Səhifə sonundakı e-mail ünvanı.",CONTACT_WEBSITE:"Səhifə sonundakı veb sayt linki."},hi=a=>{if(!a)return"";const n=a.replace(/\\+\[/g,"[").replace(/\\+\]/g,"]");if(!/\[(\/?)(B|I|U|S|CENTER|FONT|URL|IMG|COLOR|SIZE|QUOTE|CODE|LIST|\*)[\]=\s\w"':#.,+-]*\]/i.test(n))return n;let m=n;return m=m.replace(/\[CENTER\]([\s\S]*?)\[\/CENTER\]/gi,'<div style="text-align:center;">$1</div>'),m=m.replace(/\[FONT=([^\]]+)\]([\s\S]*?)\[\/FONT\]/gi,'<span style="font-family:$1;">$2</span>'),m=m.replace(/\[B\]([\s\S]*?)\[\/B\]/gi,"<strong>$1</strong>"),m=m.replace(/\[I\]([\s\S]*?)\[\/I\]/gi,"<em>$1</em>"),m=m.replace(/\[U\]([\s\S]*?)\[\/U\]/gi,'<span style="text-decoration:underline;">$1</span>'),m=m.replace(/\[S\]([\s\S]*?)\[\/S\]/gi,"<strike>$1</strike>"),m=m.replace(/\[URL=([^\]]+)\]([\s\S]*?)\[\/URL\]/gi,'<a href="$1" target="_blank" rel="noopener noreferrer">$2</a>'),m=m.replace(/\[IMG\]([\s\S]*?)\[\/IMG\]/gi,'<img src="$1" style="max-width:100%;" />'),m=m.replace(/\[COLOR=([^\]]+)\]([\s\S]*?)\[\/COLOR\]/gi,'<span style="color:$1;">$2</span>'),m=m.replace(/\[SIZE=([^\]]+)\]([\s\S]*?)\[\/SIZE\]/gi,'<span style="font-size:$1px;">$2</span>'),m=m.replace(/\[QUOTE\]([\s\S]*?)\[\/QUOTE\]/gi,"<blockquote>$1</blockquote>"),m=m.replace(/\[CODE\]([\s\S]*?)\[\/CODE\]/gi,"<pre><code>$1</code></pre>"),m=m.replace(/\r?\n/g,"<br />"),m},fi=({value:a,onChange:n,id:d,readOnly:m=!1})=>e.jsx("div",{className:"quill-editor-wrapper",id:d,children:e.jsx(bn,{theme:"snow",value:a||"",onChange:n,modules:m?{toolbar:!1}:mr,readOnly:m,placeholder:"Məzmunu daxil edin..."})}),ot=a=>{if(/^[A-Z0-9_]+$/.test(a.id))return a.id.trim();const n=(a.label||"").trim();return n.startsWith("KEY:")?n.replace(/^KEY:\s*/i,"").trim():""},br=/\b[A-Z0-9]+(?:_[A-Z0-9]+)+\b/,Vt=a=>br.test((a||"").trim()),Si=a=>a.replace(/_/g," ").replace(/\s+/g," ").trim(),Re=a=>{if(!a)return"";let n=a;for(let m=0;m<4;m++){const S=(new DOMParser().parseFromString(n,"text/html").body.textContent||"").trim();if(!S||S===n)break;n=S}return(new DOMParser().parseFromString(n,"text/html").body.textContent||"").replace(/\u00a0/g," ").replace(/\s+/g," ").trim()},Rt=a=>{const n=(a||"").trim();if(!n)return"";if(/^(https?:)?\/\//i.test(n))return n;const d=n.startsWith("/")?n:`/${n}`;return`${window.location.origin}${d}`},vr=a=>{const n=(a||"").trim();if(!n)return"";if(/^https?:\/\//i.test(n)){try{const d=new URL(n);if(d.pathname.startsWith("/uploads/"))return`${d.pathname}${d.search}${d.hash}`}catch{}return n}return n.startsWith("/")?n:`/${n}`},zs=a=>/&(?:lt|gt|nbsp|quot|amp);|<\/?[a-z][^>]*>/i.test(a||""),yr=a=>/<(ul|ol|li|a|img|iframe|video|table|h[1-6])\b|\[(b|i|u|url|img|center)\]/i.test(a||""),Sr=a=>!!(ot(a)||xt(a.id)||a.id.startsWith("txt-")||a.id.startsWith("val-")||a.id.startsWith("RULES_")||a.id.startsWith("PAGE_")||a.id.startsWith("BTN_")||a.id.startsWith("DOC_")||zs(a.value||"")&&!yr(a.value||"")),Je="label-stat-",et="value-stat-",xt=a=>a.startsWith(Je)||a.startsWith(et),ns=a=>a.startsWith(Je)?a.slice(Je.length):a.startsWith(et)?a.slice(et.length):"",gi=(a,n)=>ot(a)?n!=="label":!0,Tr=a=>!ot(a),rs=a=>{const n=ot(a),d=Re(a.value||""),m=Re(a.label||"");if(n&&Vt(d)){const v=d.toUpperCase();if(v===n.toUpperCase()||m&&v===m.toUpperCase())return!0}return!!(!n&&Vt(d))},bi=a=>a&&gr[a]||"",Er=a=>{const n=Re(a.label||"");if(n&&!Vt(n))return n;const d=ot(a);return Si(d||n||(a.id||"").replace(/-/g," "))},jr=(a,n)=>{const m=(ot(a)||a.id||"").trim();if(ls[m])return ls[m];const v=m.match(/^SECTION_(\d+)_TITLE$/);if(v)return`${v[1]}. maddənin başlıq mətni.`;const S=m.match(/^SECTION_(\d+)_BODY$/);return S?`${S[1]}. maddənin izah mətni.`:n==="partners"&&/^PARTNER_\d+_NAME$/.test(m)?"Partner kartında görünən ad.":n==="partners"&&/^PARTNER_\d+_TAG$/.test(m)?"Partner kartında hover zamanı görünən etiket.":n==="partners"&&/^PARTNER_\d+_ICON$/.test(m)?"Partner kartında istifadə olunan ikon adı.":n==="partners"&&/^PARTNER_\d+_USE_IMAGE$/.test(m)?"Kartın ikon yoxsa görsəl ilə göstərilməsini təyin edir.":n==="partners"&&/^PARTNER_\d+_IMAGE_ID$/.test(m)?"Bu partner üçün bağlı şəkil ID-si.":"Bu mətn saytda olduğu kimi göstərilir."},os=/^PARTNER_(\d+)_(NAME|TAG|ICON|USE_IMAGE|IMAGE_ID)$/,Ar=/^RULE_TAB_(\d+)_(ID|TITLE|ICON|DOC_NAME|DOC_BUTTON|DOC_URL)$/,Nr=/^RULE_TAB_(\d+)_ITEM_(\d+)_(TITLE|DESC)$/,qi=/^RULE_TAB_\d+_(?:ID|TITLE|ICON|DOC_NAME|DOC_BUTTON|DOC_URL|ITEM_\d+_(?:TITLE|DESC))$/,Lr=a=>a==="NAME"?"name":a==="TAG"?"tag":a==="ICON"?"icon":a==="USE_IMAGE"?"useImage":a==="IMAGE_ID"?"imageId":null,Yt={hero:"Hero Bölməsi",marquee:"Marquee Yazısı",navbar:"Menyu və Naviqasiya",about:"HAQQIMIZDA",mission_vision:"Missiya və Vizyon",values:"Dəyərlərimiz",eventspage:"Tədbirlər Səhifəsi",newspage:"Xəbər Səhifəsi",gallerypage:"Qalereya Səhifəsi",contactpage:"Əlaqə Səhifəsi",rulespage:"Qaydalar Səhifəsi",news:"Xəbərlər",drivers:"Sürücülər",categoryleaders:"Kateqoriya Liderləri",gallery:"Qalereya",videos:"Videolar",videoarchive:"Video Arxiv",privacypolicypage:"Məxfilik Siyasəti",termsofservicepage:"Xidmət Şərtləri",footer:"Footer",partners:"Tərəfdaşlar",offroadinfo:"Offroad Nədir?",whatisoffroad:"Offroad Nədir?",nextrace:"Növbəti Yarış",site:"Sayt Ayarları",settings:"Ümumi Parametrlər",general:"SİSTEM AYARLARI",app:"Tətbiq Ayarları"},ht={home:["navbar","hero","marquee","categoryleaders","nextrace","videoarchive","news","partners","footer"],abouttab:["about"],newstab:["newspage"],eventstab:["eventspage"],driverstab:["drivers"],gallerytab:["gallerypage","gallery","videos","videoarchive"],rulestab:["rulespage","privacypolicypage","termsofservicepage"],contacttab:["contactpage"]},Ti=Object.entries(ht).reduce((a,[n,d])=>(d.forEach(m=>{a[m]=n}),a),{}),Rr=new Set(["privacypolicypage","termsofservicepage"]),_r=[{id:"all",label:"Hamısı"},{id:"navbar",label:"Naviqasiya"},{id:"footer",label:"Footer"}],Ir={all:ht.home,navbar:["navbar"],footer:["footer"]},ds=a=>{if(!a)return[];if(Rr.has(a))return[a];if(ht[a])return ht[a];const n=Ti[a];return n&&ht[n]?ht[n]:[a]},$i="forsaj_site_content_version",cs="forsaj_grouped_page_collapsed_v1",us="forsaj_section_collapsed_v1",ye=(a,n)=>Number.isFinite(a)?a:n,Cr=()=>{const[a,n]=b.useState([]),[d,m]=b.useState(0),[v,S]=b.useState(!1),[g,T]=b.useState(!1),[z,k]=b.useState(0),[U,w]=b.useState(""),[M,L]=b.useState(!1),[Z,j]=b.useState(!1),[B,V]=b.useState(!1),[$,A]=b.useState([]),[R,I]=b.useState(null),[C,be]=b.useState(""),[me,W]=b.useState(""),[q,ne]=b.useState(()=>{try{const t=localStorage.getItem(cs),i=t?JSON.parse(t):{};return i&&typeof i=="object"?i:{}}catch{return{}}}),[oe,Ie]=b.useState(()=>{try{const t=localStorage.getItem(us),i=t?JSON.parse(t):{};return i&&typeof i=="object"?i:{}}catch{return{}}}),[je,He]=b.useState([]),[ze,de]=b.useState(null),[Q,we]=b.useState({}),[Ve,ft]=b.useState([]),[c,O]=b.useState(null),[D,X]=b.useState({}),[J,ce]=b.useState([]),[le,Qe]=b.useState(null),[De,Li]=b.useState({}),Ri=Ji(),ia=new URLSearchParams(Ri.search),_i=ia.get("mode"),Ae=ia.get("page"),[te,Me]=b.useState("extract"),[Ii,aa]=b.useState("modal"),[Ct,gt]=b.useState([]),sa=b.useRef(!1),[ct,Ot]=b.useState(null),[Ye,ut]=b.useState({}),[Ci,kt]=b.useState(yi),[bt,Oi]=b.useState(""),[ki,Dt]=b.useState("all"),[la,na]=b.useState(""),ra=b.useRef(null),[oa,Mt]=b.useState("all");b.useEffect(()=>{Me(_i||"extract")},[_i,Ae]),b.useEffect(()=>{if(te!=="extract")return;const t=Ae?Ti[Ae]:null;if(Ae&&(Ae==="home"||t==="home")){if(Ae==="navbar"){Mt("navbar");return}if(Ae==="footer"){Mt("footer");return}Mt("all");return}Mt("all")},[te,Ae]),b.useEffect(()=>{localStorage.setItem(cs,JSON.stringify(q))},[q]),b.useEffect(()=>{localStorage.setItem(us,JSON.stringify(oe))},[oe]);const[Be,it]=b.useState([]),[xe,Bt]=b.useState(null),[vt,Pt]=b.useState(null),[Ce,yt]=b.useState({}),da=async()=>{try{const i=await(await fetch("/api/site-content")).json();if(Array.isArray(i)){const h=["hero","marquee","navbar","about","mission_vision","values","rulespage","eventspage","newspage","gallerypage","contactpage","privacypolicypage","termsofservicepage","news","drivers","driverspage","categoryleaders","gallery","videos","videoarchive","footer","partners","offroadinfo","whatisoffroad","nextrace","site","settings","general","app"],o=[...i],f=y=>{const N=y.sections||[],_=y.images||[],P=(G,ie,ue)=>{N.some(Nt=>Nt.id===G)||N.push({id:G,type:"text",label:ie,value:ue})},he=(G,ie,ue)=>{_.some(Nt=>Nt.id===G)||_.push({id:G,path:ie,alt:ue,type:"remote",order:_.length})};if(P("PAGE_TITLE","Səhifə Başlığı","HAQQIMIZDA"),P("PAGE_SUBTITLE","Səhifə Alt Başlığı","BİZİM HEKAYƏMİZ // MİSSİYAMIZ VƏ GƏLƏCƏYİMİZ"),P("txt-est-2018-motorsp-949","About Üst Başlıq","EST. 2018 // MOTORSPORT MƏRKƏZİ"),P("txt-forsaj-club-az-rba-66","About Ana Başlıq",'"FORSAJ CLUB" AZƏRBAYCANIN OFFROAD MƏDƏNİYYƏTİNİ PEŞƏKAR SƏVİYYƏYƏ ÇATDIRMAQ ÜÇÜN YARADILMIŞDIR.'),P("txt-bi-zi-m-mi-ssi-yamiz-424","Missiya Başlığı","BİZİM MİSSİYAMIZ"),P("txt-az-rbaycan-n-h-r-bir-45","Missiya Təsviri","Azərbaycanın hər bir guşəsində offroad idmanını təbliğ etmək, yerli pilotları beynəlxalq standartlara uyğun yetişdirmək və təbiəti qoruyaraq ekstremal adrenalin təcrübəsi bəxş etmək."),P("txt-h-d-fi-mi-z-dakar-ral-50","Missiya Hədəf Mətni","HƏDƏFİMİZ: DAKAR RALLİ 2026"),P("txt-bi-zi-m-baxi-imiz-944","Vizyon Başlığı","BİZİM BAXIŞIMIZ"),P("txt-regionun-n-b-y-k-mo-901","Vizyon Təsviri","Regionun ən böyük motorsport hubuna çevrilmək, rəqəmsal və fiziki infrastrukturlarla pilotlarımızı dəstəkləmək və motorsportu hər kəs üçün əlçatan bir ehtirasa çevirmək."),P("txt-qafqazin-li-der-klubu-758","Vizyon Şüarı","QAFQAZIN LİDER KLUBUNA ÇEVRİLMƏK"),P("txt-fundamental-pri-nsi-pl-219","Dəyərlər Alt Başlıq","FUNDAMENTAL PRİNSİPLƏR"),P("txt-sas-d-y-rl-ri-mi-z-482","Dəyərlər Başlığı","ƏSAS DƏYƏRLƏRİMİZ"),P("val-icon-1","Dəyər 1 İkonu","Shield"),P("val-title-1","Dəyər 1 Başlıq","TƏHLÜKƏSİZLİK"),P("val-desc-1","Dəyər 1 Təsvir","EKSTREMAL İDMANDA CAN SAĞLIĞI BİZİM BİR NÖMRƏLİ QAYDAMIZDIR. BÜTÜN TEXNİKALARIMIZ FIA STANDARTLARINA UYĞUN YOXLANILIR."),P("val-icon-2","Dəyər 2 İkonu","Users"),P("val-title-2","Dəyər 2 Başlıq","İCMA RUHU"),P("val-desc-2","Dəyər 2 Təsvir","FORSAJ BİR KLUBDAN DAHA ÇOX, SADİQ VƏ BÖYÜK BİR AİLƏDİR. BİRİMİZ HAMIMIZ, HAMIMIZ BİRİMİZ ÜÇÜN!"),P("val-icon-3","Dəyər 3 İkonu","Leaf"),P("val-title-3","Dəyər 3 Başlıq","TƏBİƏTİ QORU"),P("val-desc-3","Dəyər 3 Təsvir","BİZ OFFROAD EDƏRKƏN TƏBİƏTƏ ZƏRƏR VERMƏMƏYİ ÖZÜMÜZƏ BORC BİLİRİK. EKOLOJİ BALANS BİZİM ÜÇÜN MÜQƏDDƏSDİR."),P("val-icon-4","Dəyər 4 İkonu","Zap"),P("val-title-4","Dəyər 4 Başlıq","MÜKƏMMƏLLİK"),P("val-desc-4","Dəyər 4 Təsvir","HƏR YARIŞDA, HƏR DÖNGƏDƏ DAHA YAXŞI OLMAĞA ÇALIŞIRIQ. TƏLİMLƏRİMİZ PEŞƏKAR İNSTRUKTORLAR TƏRƏFİNDƏN İDARƏ OLUNUR."),N.some(G=>G.id.includes("label-stat"))&&N.some(G=>G.id.includes("value-stat"))){y.sections=N,ae(y,["PAGE_TITLE","PAGE_SUBTITLE","txt-est-2018-motorsp-949"]),he("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),y.images=_;return}[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}].forEach((G,ie)=>{const ue=`${ie+1}`;N.push({id:`label-stat-${ue}`,type:"text",label:`Statistika Etiketi ${ie+1}`,value:G.label}),N.push({id:`value-stat-${ue}`,type:"text",label:`Statistika Dəyəri ${ie+1}`,value:G.value})}),y.sections=N,ae(y,["PAGE_TITLE","PAGE_SUBTITLE","txt-est-2018-motorsp-949"]),he("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),y.images=_},F=y=>{const N=y.sections||[],_=y.images||[],P=(ee,G,ie)=>{N.some(ue=>ue.id===ee)||N.push({id:ee,type:"text",label:G,value:ie})},he=ee=>{_.some(G=>G.id===ee)||_.push({id:ee,path:"",alt:ee,type:"local",order:_.length})};P("SECTION_TITLE","Bölmə Başlığı","RƏSMİ TƏRƏFDAŞLARIMIZ"),[{name:"AZMF",tag:"OFFICIAL PARTNER",icon:"ShieldCheck"},{name:"OFFROAD AZ",tag:"OFFICIAL PARTNER",icon:"Truck"},{name:"GLOBAL 4X4",tag:"OFFICIAL PARTNER",icon:"Globe"},{name:"RACE TECH",tag:"OFFICIAL PARTNER",icon:"Zap"}].forEach((ee,G)=>{const ie=G+1;P(`PARTNER_${ie}_NAME`,`Tərəfdaş ${ie} Ad`,ee.name),P(`PARTNER_${ie}_TAG`,`Tərəfdaş ${ie} Etiket`,ee.tag),P(`PARTNER_${ie}_ICON`,`Tərəfdaş ${ie} İkon`,ee.icon),P(`PARTNER_${ie}_USE_IMAGE`,`Tərəfdaş ${ie} Görsel İstifadə`,"false"),P(`PARTNER_${ie}_IMAGE_ID`,`Tərəfdaş ${ie} Görsel ID`,`partner-image-${ie}`),he(`partner-image-${ie}`)}),y.sections=N,y.images=_},H=y=>{const N=y.sections||[],_=(P,he,Le,ee)=>{const G=N.findIndex(ie=>ie.id===P);if(G===-1){N.push({id:P,type:"text",label:he,value:Le,...ee?{url:ee}:{}});return}ee&&!N[G].url&&(N[G].url=ee)};_("text-3","Hero Düymə 1","YARIŞLARA BAX","events"),_("text-4","Hero Düymə 2","HAQQIMIZDA","about"),y.sections=N},Y=(y,N)=>{const _=y.sections||[];N.forEach(P=>{const he=_.findIndex(Le=>Le.id===P.id);if(he===-1){_.push({id:P.id,type:"text",label:P.label,value:P.value,...P.url?{url:P.url}:{}});return}P.url&&!_[he].url&&(_[he].url=P.url)}),y.sections=_},ae=(y,N)=>{const _=y.sections||[];if(_.length===0||N.length===0)return;const P=new Map(N.map((ee,G)=>[ee,G])),he=_.filter(ee=>P.has(ee.id)).sort((ee,G)=>P.get(ee.id)-P.get(G.id)),Le=_.filter(ee=>!P.has(ee.id));y.sections=[...he,...Le].map((ee,G)=>({...ee,order:G}))},ve=y=>{Y(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"ƏLAQƏ"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"GET IN TOUCH // CONTACT CENTER"},{id:"OFFICE_LABEL",label:"Ofis Bölmə Başlığı",value:"BAŞ OFİS"},{id:"ADDRESS_LINE_1",label:"Ünvan Sətir 1",value:"AZADLIQ 102, BAKI"},{id:"ADDRESS_LINE_2",label:"Ünvan Sətir 2",value:"AZƏRBAYCAN // SECTOR_01"},{id:"WORK_HOURS",label:"İş Saatı",value:"09:00 - 18:00"},{id:"ONLINE_STATUS_LABEL",label:"Onlayn Status Mətni",value:"ONLINE"},{id:"PHONE_LABEL",label:"Telefon Başlığı",value:"ƏLAQƏ NÖMRƏSİ"},{id:"PHONE_NUMBER",label:"Telefon Nömrəsi",value:"+994 50 123 45 67"},{id:"EMAIL_LABEL",label:"E-poçt Başlığı",value:"E-POÇT ÜNVANI"},{id:"EMAIL_Address",label:"Əsas E-poçt Ünvanı",value:"PROTOCOL@FORSAJ.AZ"},{id:"DEPT_HQ_TITLE",label:"Departament 1 Başlıq",value:"BAŞ OFİS"},{id:"DEPT_HQ_DESC",label:"Departament 1 Təsvir",value:"ÜMUMİ SORĞULAR VƏ İDARƏETMƏ"},{id:"DEPT_HQ_EMAIL",label:"Departament 1 E-poçt",value:"HQ@FORSAJ.AZ"},{id:"DEPT_PR_TITLE",label:"Departament 2 Başlıq",value:"MEDİA VƏ PR"},{id:"DEPT_PR_DESC",label:"Departament 2 Təsvir",value:"MƏTBUAT VƏ ƏMƏKDAŞLIQ"},{id:"DEPT_PR_EMAIL",label:"Departament 2 E-poçt",value:"PR@FORSAJ.AZ"},{id:"DEPT_TECH_TITLE",label:"Departament 3 Başlıq",value:"TEXNİKİ DƏSTƏK"},{id:"DEPT_TECH_DESC",label:"Departament 3 Təsvir",value:"PİLOTLAR ÜÇÜN TEXNİKİ YARDIM"},{id:"DEPT_TECH_EMAIL",label:"Departament 3 E-poçt",value:"TECH@FORSAJ.AZ"},{id:"FORM_TITLE",label:"Form Başlığı",value:"MÜRACİƏT FORMU"},{id:"FORM_STATUS_LABEL",label:"Form Status Mətni",value:"STATUS: ONLINE"},{id:"FORM_METHOD",label:"Form Method",value:"POST"},{id:"FORM_CONTENT_TYPE",label:"Form Content-Type",value:"application/json"},{id:"FIELD_NAME_LABEL",label:"Ad Soyad Label",value:"AD VƏ SOYAD"},{id:"FIELD_NAME_PLACEHOLDER",label:"Ad Soyad Placeholder",value:"AD SOYAD DAXİL EDİN"},{id:"FIELD_CONTACT_LABEL",label:"Əlaqə Label",value:"ƏLAQƏ VASİTƏSİ"},{id:"FIELD_CONTACT_PLACEHOLDER",label:"Əlaqə Placeholder",value:"TELEFON VƏ YA EMAIL"},{id:"FIELD_TOPIC_LABEL",label:"Müraciət İstiqaməti Label",value:"MÜRACİƏT İSTİQAMƏTİ"},{id:"TOPIC_GENERAL",label:"Mövzu Seçimi 1",value:"ÜMUMİ SORĞU"},{id:"TOPIC_PILOT",label:"Mövzu Seçimi 2",value:"PİLOT QEYDİYYATI"},{id:"TOPIC_TECH",label:"Mövzu Seçimi 3",value:"TEXNİKİ YARDIM"},{id:"FIELD_MESSAGE_LABEL",label:"Mesaj Label",value:"MESAJINIZ"},{id:"FIELD_MESSAGE_PLACEHOLDER",label:"Mesaj Placeholder",value:"BURADA YAZIN..."},{id:"BTN_SEND",label:"Form Göndər Düyməsi",value:"MESAJI GÖNDƏR"},{id:"FORM_TOAST_REQUIRED",label:"Form Boş Sahə Xəbərdarlığı",value:"Zəhmət olmasa bütün sahələri doldurun."},{id:"FORM_TOAST_SUCCESS",label:"Form Uğurlu Göndəriş Mesajı",value:"Müraciətiniz uğurla göndərildi!"},{id:"FORM_TOAST_ERROR",label:"Form Xəta Mesajı",value:"Gondərilmə zamanı xəta baş verdi."},{id:"FOOTER_NEWSLETTER_TITLE",label:"Abunə Başlığı",value:"XƏBƏRDAR OL"},{id:"FOOTER_NEWSLETTER_DESC",label:"Abunə Təsviri",value:"Yarış təqvimi və xəbərlərdən anında xəbərdar olmaq üçün abunə olun."}])},nt=y=>{Y(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"TƏDBİRLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"OFFICIAL EVENT CALENDAR // FORSAJ CLUB"},{id:"BTN_JOIN_EVENT",label:"Tədbirə Qoşul Düyməsi",value:"TƏDBİRƏ QOŞUL"},{id:"SIDEBAR_QUESTION_TITLE",label:"Sual Kartı Başlığı",value:"SUALINIZ VAR?"},{id:"SIDEBAR_QUESTION_DESC",label:"Sual Kartı Təsviri",value:"YARIŞLA BAĞLI ƏLAVƏ SUALLARINIZ ÜÇÜN BİZİMLƏ ƏLAQƏ SAXLAYIN."},{id:"BTN_CONTACT",label:"Sual Kartı Əlaqə Düyməsi",value:"ƏLAQƏ"},{id:"MODAL_TITLE",label:"İştirak Modal Başlığı",value:"YARIŞDA İŞTİRAK"},{id:"JOIN_AS_PILOT",label:"Pilot Kart Başlığı",value:"PİLOT KİMİ QATIL"},{id:"JOIN_PILOT_DESC",label:"Pilot Kart Təsviri",value:"TEXNİKİ REQLAMENTƏ UYĞUN OLARAQ"},{id:"JOIN_AS_SPECTATOR",label:"İzləyici Kart Başlığı",value:"İZLƏYİCİ KİMİ QATIL"},{id:"JOIN_SPECTATOR_DESC",label:"İzləyici Kart Təsviri",value:"YARIŞI TRİBUNADAN İZLƏ"},{id:"BTN_BACK",label:"Geri Düyməsi",value:"GERİ QAYIT"},{id:"PILOT_REG_TITLE",label:"Pilot Qeydiyyatı Başlığı",value:"PİLOT QEYDİYYATI"},{id:"FIELD_NAME",label:"Ad Soyad Label",value:"AD VƏ SOYAD"},{id:"PLACEHOLDER_NAME",label:"Ad Soyad Placeholder",value:"Tam ad daxil edin"},{id:"FIELD_PHONE",label:"Telefon Label",value:"TELEFON"},{id:"FIELD_CAR_MODEL",label:"Avtomobil Label",value:"AVTOMOBİLİN MARKA/MODELİ"},{id:"PLACEHOLDER_CAR",label:"Avtomobil Placeholder",value:"Məs: Toyota LC 105"},{id:"FIELD_TIRE_SIZE",label:"Təkər Label",value:"TƏKƏR ÖLÇÜSÜ"},{id:"PLACEHOLDER_TIRE",label:"Təkər Placeholder",value:"Məs: 35 DÜYM"},{id:"FIELD_ENGINE",label:"Mühərrik Label",value:"MÜHƏRRİK HƏCMİ"},{id:"PLACEHOLDER_ENGINE",label:"Mühərrik Placeholder",value:"Məs: 4.4L"},{id:"FIELD_CLUB",label:"Klub Label",value:"TƏMSİL ETDİYİ KLUB"},{id:"BTN_COMPLETE_REG",label:"Qeydiyyatı Tamamla Düyməsi",value:"QEYDİYYATI TAMAMLA"},{id:"PILOT_FORM_TOAST_REQUIRED",label:"Pilot Form Boş Sahə Xəbərdarlığı",value:"Zəhmət olmasa bütün sahələri doldurun."},{id:"PILOT_FORM_TOAST_SUCCESS",label:"Pilot Form Uğurlu Göndəriş Mesajı",value:"Qeydiyyat müraciətiniz uğurla göndərildi!"},{id:"PILOT_FORM_TOAST_ERROR",label:"Pilot Form Xəta Mesajı",value:"Gondərilmə zamanı xəta baş verdi."},{id:"PLACEHOLDER_PHONE",label:"Telefon Placeholder",value:"+994 -- --- -- --"},{id:"SPECTATOR_TICKET_URL",label:"İzləyici Bilet Linki",value:"https://iticket.az",url:"https://iticket.az"},{id:"CLUB_OPTION_1",label:"Klub Seçimi 1",value:"Fərdi İştirakçı"},{id:"CLUB_OPTION_2",label:"Klub Seçimi 2",value:"Club 4X4"},{id:"CLUB_OPTION_3",label:"Klub Seçimi 3",value:"Extreme 4X4"},{id:"CLUB_OPTION_4",label:"Klub Seçimi 4",value:"Forsaj Club"},{id:"CLUB_OPTION_5",label:"Klub Seçimi 5",value:"Offroad.az"},{id:"CLUB_OPTION_6",label:"Klub Seçimi 6",value:"Overland 4X4"},{id:"CLUB_OPTION_7",label:"Klub Seçimi 7",value:"PatrolClub.az"},{id:"CLUB_OPTION_8",label:"Klub Seçimi 8",value:"Victory Club"},{id:"CLUB_OPTION_9",label:"Klub Seçimi 9",value:"Zəfər 4X4 Club"}])},We=y=>{Y(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"XƏBƏRLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"MOTORSPORT MAGAZINE // SEASON 2024"}]),ae(y,["PAGE_TITLE","PAGE_SUBTITLE"])},zt=y=>{Y(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"QALEREYA"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"XRONOLOJİ MOTORSPORT ARXİVİ // FORSAJ CLUB"},{id:"TAB_PHOTOS",label:"Tab Foto",value:"FOTOLAR"},{id:"TAB_VIDEOS",label:"Tab Video",value:"VİDEOLAR"},{id:"DYNAMIC_COLLECTION",label:"Dinamik Kolleksiya Alt Başlıq",value:"CANLI ARXİV // YENİLƏNƏN MƏZMUN"},{id:"TOTAL_LABEL",label:"Toplam Etiketi",value:"TOPLAM"},{id:"TYPE_PHOTO",label:"Foto Tipi",value:"FOTO"},{id:"TYPE_VIDEO",label:"Video Tipi",value:"VİDEO"}])},wt=y=>{Y(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"SÜRÜCÜLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"OFFICIAL PILOT STANDINGS // SEASON 2024"}])},ri=y=>{Y(y,[{id:"FOOTER_LOGO_ALT",label:"Footer Logo Alt",value:"Forsaj Logo"},{id:"FOOTER_ABOUT_TEXT",label:"Footer Haqqında Mətn",value:"Azərbaycanın ən prestijli motorsport mərkəzi. Sərhədsiz offroad həyəcanını bizimlə yaşayın."},{id:"FOOTER_ADDRESS_LABEL",label:"Footer Ünvan Başlığı",value:"ÜNVAN"},{id:"FOOTER_CONTACT_LABEL",label:"Footer Əlaqə Başlığı",value:"ƏLAQƏ"},{id:"FOOTER_NAV_TITLE",label:"Footer Naviqasiya Başlığı",value:"NAVİQASİYA"},{id:"FOOTER_MOTORSPORT_TITLE",label:"Footer Motorsport Başlığı",value:"MOTORSPORT"},{id:"FOOTER_NEWSLETTER_TITLE",label:"Footer Abunə Başlığı",value:"XƏBƏRDAR OL"},{id:"FOOTER_NEWSLETTER_DESC",label:"Footer Abunə Təsviri",value:"Yarış təqvimi və xəbərlərdən anında xəbərdar olmaq üçün abunə olun."},{id:"FOOTER_NEWSLETTER_PLACEHOLDER",label:"Footer Abunə Placeholder",value:"EMAIL DAXİL EDİN"},{id:"FOOTER_COPYRIGHT",label:"Footer Copyright",value:"© 2024 FORSAJ CLUB. ALL RIGHTS RESERVED."},{id:"FOOTER_PRIVACY_LABEL",label:"Footer Privacy Link Mətni",value:"Privacy Policy",url:"privacy"},{id:"FOOTER_TERMS_LABEL",label:"Footer Terms Link Mətni",value:"Terms of Service",url:"terms"}]);const N=y.sections||[],_=(P,he)=>{const Le=N.findIndex(G=>G.id===P);if(Le===-1)return;const ee=String(N[Le].url||"").trim();(!ee||ee==="#")&&(N[Le].url=he)};_("FOOTER_PRIVACY_LABEL","privacy"),_("FOOTER_TERMS_LABEL","terms"),y.sections=N},oi=y=>{Y(y,[{id:"LEADER_TITLE_SUFFIX",label:"Lider Başlıq Suffix",value:"LİDERİ"},{id:"EMPTY_DRIVER_NAME",label:"Boş Sürücü Adı",value:"---"},{id:"EMPTY_DRIVER_TEAM",label:"Boş Komanda Adı",value:"---"}])},di=y=>{Y(y,[{id:"RACE_IMAGE_ALT",label:"Növbəti Yarış Görsel Alt",value:"Next Race"}])},Ze=y=>{Y(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"QAYDALAR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"FORSAJ MOTORSPORT OFFICIAL RULES"}]);const N=y.sections||[],_=(G,ie)=>(N.find(ue=>ue.id===G)?.value||ie).trim()||ie,P=[{index:1,id:"pilot",title:_("RULES_PILOT_TITLE","PİLOT PROTOKOLU"),icon:"Info",items:[{index:1,title:_("RULES_PILOT_SUB1","İSTİFADƏÇİ ÖHDƏLİKLƏRİ"),desc:_("RULES_PILOT_DESC1","HƏR BİR İŞTİRAKÇI FEDERASİYANIN MÜƏYYƏN ETDİYİ BÜTÜN TEXNİKİ VƏ ETİK NORMALARI QEYD-ŞƏRTSİZ QƏBUL EDİR.")},{index:2,title:_("RULES_PILOT_SUB2","DİSKVALİFİKASİYA"),desc:_("RULES_PILOT_DESC2","PROTOKOLDAN KƏNARA ÇIXMAQ VƏ YA HAKİM QƏRARLARINA ETİRAZ ETMƏK DƏRHAL DİSKVALİFİKASİYA İLƏ NƏTİCƏLƏNƏ BİLƏR.")},{index:3,title:_("RULES_PILOT_SUB3","TEXNİKİ TƏLƏBLƏR"),desc:_("RULES_PILOT_DESC3","BÜTÜN AVADANLIQLAR YARIŞDAN 24 SAAT ƏVVƏL TEXNİKİ KOMİSSİYA TƏRƏFİNDƏN YOXLANILMALI VƏ TƏHLÜKƏSİZLİK SERTİFİKATI İLƏ TƏMİN EDİLMƏLİDİR.")}]},{index:2,id:"technical",title:_("RULES_TECH_TITLE","TEXNİKİ NORMARTİVLƏR"),icon:"Settings",items:[{index:1,title:_("RULES_TECH_SUB1","TƏKƏR ÖLÇÜLƏRİ"),desc:_("RULES_TECH_DESC1","PRO CLASS ÜÇÜN MAKSİMUM TƏKƏR ÖLÇÜSÜ 37 DÜYM, AMATEUR CLASS ÜÇÜN İSƏ 33 DÜYM OLARAQ MÜƏYYƏN EDİLMİŞDİR.")},{index:2,title:_("RULES_TECH_SUB2","MÜHƏRRİK GÜCÜ"),desc:_("RULES_TECH_DESC2","MÜHƏRRİK ÜZƏRİNDƏ APARILAN MODİFİKASİYALAR KATEQORİYA ÜZRƏ LİMİTLƏRİ AŞMAMALIDIR. TURBO SİSTEMLƏRİ YALNIZ XÜSUSİ KLASLARDA İCAZƏLİDİR.")},{index:3,title:_("RULES_TECH_SUB3","ASQI SİSTEMİ"),desc:_("RULES_TECH_DESC3","AVTOMOBİLİN KLİRENSİ (YERDƏN HÜNDÜRLÜYÜ) VƏ ASQI ARTIKULYASİYASI TƏHLÜKƏSİZLİK STANDARTLARINA UYĞUN OLMALIDIR.")}]},{index:3,id:"safety",title:_("RULES_SAFETY_TITLE","TƏHLÜKƏSİZLİK QAYDALARI"),icon:"ShieldAlert",items:[{index:1,title:_("RULES_SAFETY_SUB1","KARKAS TƏLƏBİ"),desc:_("RULES_SAFETY_DESC1","BÜTÜN AÇIQ VƏ YA MODİFİKASİYA OLUNMUŞ AVTOMOBİLLƏRDƏ FIA STANDARTLARINA UYĞUN TƏHLÜKƏSİZLİK KARKASI (ROLL CAGE) MƏCBURİDİR.")},{index:2,title:_("RULES_SAFETY_SUB2","YANĞIN SÖNDÜRMƏ"),desc:_("RULES_SAFETY_DESC2","HƏR BİR AVTOMOBİLDƏ ƏN AZI 2 KİLOQRAMLIQ, ASAN ƏLÇATAN YERDƏ YERLƏŞƏN YANĞINSÖNDÜRƏN BALON OLMALIDIR.")},{index:3,title:_("RULES_SAFETY_SUB3","KƏMƏR VƏ DƏBİLQƏ"),desc:_("RULES_SAFETY_DESC3","5 NÖQTƏLİ TƏHLÜKƏSİZLİK KƏMƏRLƏRİ VƏ SERTİFİKATLI KASKALARIN (DƏBİLQƏLƏRİN) İSTİFADƏSİ BÜTÜN MƏRHƏLƏLƏRDƏ MƏCBURİDİR.")}]},{index:4,id:"eco",title:_("RULES_ECO_TITLE","EKOLOJİ MƏSULİYYƏT"),icon:"Leaf",items:[{index:1,title:_("RULES_ECO_SUB1","TULLANTILARIN İDARƏ EDİLMƏSİ"),desc:_("RULES_ECO_DESC1",'YARIŞ ƏRAZİSİNDƏ VƏ TRASDA HƏR HANSI BİR TULLANTININ ATILMASI QƏTİ QADAĞANDIR. İŞTİRAKÇILAR "LEAVE NO TRACE" PRİNSİPİNƏ ƏMƏL ETMƏLİDİR.')},{index:2,title:_("RULES_ECO_SUB2","MAYE SIZMALARI"),desc:_("RULES_ECO_DESC2","AVTOMOBİLDƏN YAĞ VƏ YA SOYUDUCU MAYE SIZMASI OLDUĞU TƏQDİRDƏ PİLOT DƏRHAL DAYANMALI VƏ ƏRAZİNİN ÇİRKLƏNMƏSİNİN QARŞISINI ALMALIDIR.")},{index:3,title:_("RULES_ECO_SUB3","MARŞRUTDAN KƏNARA ÇIXMAMAQ"),desc:_("RULES_ECO_DESC3","TƏBİİ ÖRTÜYÜ QORUMAQ MƏQSƏDİ İLƏ MÜƏYYƏN OLUNMUŞ TRASDANKƏNAR SÜRÜŞLƏR VƏ YA YAŞIL SAHƏLƏRƏ ZƏRƏR VERMƏK QADAĞANDIR.")}]}],he=[];P.forEach((G,ie)=>{const ue=ie+1;he.push({id:`RULE_TAB_${ue}_ID`,type:"text",label:`Qayda Sekməsi ${ue} ID`,value:G.id},{id:`RULE_TAB_${ue}_TITLE`,type:"text",label:`Qayda Sekməsi ${ue} Başlıq`,value:G.title},{id:`RULE_TAB_${ue}_ICON`,type:"text",label:`Qayda Sekməsi ${ue} İkon`,value:G.icon}),G.items.forEach((Nt,zl)=>{const pi=zl+1;he.push({id:`RULE_TAB_${ue}_ITEM_${pi}_TITLE`,type:"text",label:`Sekmə ${ue} Maddə ${pi} Başlıq`,value:Nt.title},{id:`RULE_TAB_${ue}_ITEM_${pi}_DESC`,type:"text",label:`Sekmə ${ue} Maddə ${pi} Təsvir`,value:Nt.desc})})});const Le=new Set(N.map(G=>G.id)),ee=he.filter(G=>!Le.has(G.id));y.sections=[...N,...ee]},ci=y=>{Y(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"MƏXFİLİK SİYASƏTİ (PRIVACY POLICY)"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"MƏLUMATLARIN QORUNMASI VƏ İSTİFADƏ ŞƏRTLƏRİ"},{id:"INTRO_TEXT",label:"Giriş Mətni",value:"Bu Məxfilik Siyasəti forsaj.az (“Sayt”, “biz”, “bizim”) tərəfindən istifadəçilərdən toplanan məlumatların növlərini, istifadə qaydasını və qorunmasını izah edir."},{id:"UPDATED_LABEL",label:"Yenilənmə Tarixi Etiketi",value:"Son yenilənmə tarixi"},{id:"UPDATED_DATE",label:"Yenilənmə Tarixi",value:"18 Fevral 2026"},{id:"SECTION_1_TITLE",label:"Bölmə 1 Başlıq",value:"1. Ümumi Məlumat"},{id:"SECTION_1_BODY",label:"Bölmə 1 Mətn",value:"Bu Məxfilik Siyasəti forsaj.az (“Sayt”, “biz”, “bizim”) tərəfindən istifadəçilərdən toplanan məlumatların növlərini, istifadə qaydasını və qorunmasını izah edir. Saytdan istifadə etməklə bu siyasətin şərtlərini qəbul etmiş olursunuz."},{id:"SECTION_2_TITLE",label:"Bölmə 2 Başlıq",value:"2. Toplanan Məlumatlar"},{id:"SECTION_2_BODY",label:"Bölmə 2 Mətn",value:`Şəxsi məlumatlar:
- Ad və soyad
- Elektron poçt ünvanı
- Telefon nömrəsi (təqdim edildiyi halda)

Texniki məlumatlar:
- IP ünvan
- Brauzer növü və cihaz məlumatları
- Saytda fəaliyyət məlumatları (baxışlar, kliklər və s.)`},{id:"SECTION_3_TITLE",label:"Bölmə 3 Başlıq",value:"3. Məlumatların İstifadə Məqsədi"},{id:"SECTION_3_BODY",label:"Bölmə 3 Mətn",value:`Toplanan məlumatlar aşağıdakı məqsədlərlə istifadə olunur:
- Xidmətlərin təqdim edilməsi və inkişaf etdirilməsi
- İstifadəçi sorğularına cavab verilməsi
- Təhlükəsizliyin təmin olunması
- Statistik və analitik təhlillər aparılması`},{id:"SECTION_4_TITLE",label:"Bölmə 4 Başlıq",value:"4. Cookies (Kukilər)"},{id:"SECTION_4_BODY",label:"Bölmə 4 Mətn",value:"Sayt istifadəçi təcrübəsini yaxşılaşdırmaq üçün kukilərdən istifadə edə bilər. İstifadəçi brauzer vasitəsilə kukiləri deaktiv edə bilər."},{id:"SECTION_5_TITLE",label:"Bölmə 5 Başlıq",value:"5. Məlumatların Üçüncü Tərəflərlə Paylaşılması"},{id:"SECTION_5_BODY",label:"Bölmə 5 Mətn",value:`Şəxsi məlumatlar yalnız aşağı hallarda üçüncü tərəflərlə paylaşıla bilər:
- Qanunvericiliyin tələbi olduqda
- Texniki və xidmət tərəfdaşları ilə əməkdaşlıq çərçivəsində
- İstifadəçinin razılığı ilə`},{id:"SECTION_6_TITLE",label:"Bölmə 6 Başlıq",value:"6. Məlumat Təhlükəsizliyi"},{id:"SECTION_6_BODY",label:"Bölmə 6 Mətn",value:"Biz şəxsi məlumatların qorunması üçün müvafiq texniki və inzibati təhlükəsizlik tədbirləri tətbiq edirik."},{id:"SECTION_7_TITLE",label:"Bölmə 7 Başlıq",value:"7. İstifadəçi Hüquqları"},{id:"SECTION_7_BODY",label:"Bölmə 7 Mətn",value:`İstifadəçilər:
- Öz məlumatlarına çıxış tələb edə bilər
- Düzəliş və ya silinmə tələb edə bilər
- Məlumatların işlənməsinə etiraz edə bilər`},{id:"SECTION_8_TITLE",label:"Bölmə 8 Başlıq",value:"8. Siyasətdə Dəyişikliklər"},{id:"SECTION_8_BODY",label:"Bölmə 8 Mətn",value:"Bu siyasət zaman-zaman yenilənə bilər. Yenilənmiş versiya saytda dərc edildiyi tarixdən qüvvəyə minir."},{id:"SECTION_9_TITLE",label:"Bölmə 9 Başlıq",value:"9. Əlaqə"},{id:"SECTION_9_BODY",label:"Bölmə 9 Mətn",value:`Email: info@forsaj.az
Veb sayt: https://forsaj.az`},{id:"CONTACT_TITLE",label:"Əlaqə Bölməsi Başlığı",value:"Əlaqə"},{id:"CONTACT_EMAIL",label:"Əlaqə E-poçtu",value:"info@forsaj.az"},{id:"CONTACT_WEBSITE",label:"Əlaqə Vebsaytı",value:"https://forsaj.az"}])},Ui=y=>{Y(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"XİDMƏT ŞƏRTLƏRİ (TERMS OF SERVICE)"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"İSTİFADƏ QAYDALARI VƏ HÜQUQİ ŞƏRTLƏR"},{id:"INTRO_TEXT",label:"Giriş Mətni",value:"forsaj.az saytından istifadə etməklə siz bu Xidmət Şərtlərini qəbul etmiş olursunuz."},{id:"UPDATED_LABEL",label:"Yenilənmə Tarixi Etiketi",value:"Son yenilənmə tarixi"},{id:"UPDATED_DATE",label:"Yenilənmə Tarixi",value:"18 Fevral 2026"},{id:"SECTION_1_TITLE",label:"Bölmə 1 Başlıq",value:"1. Qəbul"},{id:"SECTION_1_BODY",label:"Bölmə 1 Mətn",value:"forsaj.az saytından istifadə etməklə siz bu Xidmət Şərtlərini qəbul etmiş olursunuz."},{id:"SECTION_2_TITLE",label:"Bölmə 2 Başlıq",value:"2. Xidmətin Təsviri"},{id:"SECTION_2_BODY",label:"Bölmə 2 Mətn",value:"forsaj.az avtomobil, motorsport, off-road və Forsaj icması ilə bağlı məlumat, tədbir və digər rəqəmsal xidmətlər təqdim edir."},{id:"SECTION_3_TITLE",label:"Bölmə 3 Başlıq",value:"3. İstifadə Qaydaları"},{id:"SECTION_3_BODY",label:"Bölmə 3 Mətn",value:`İstifadəçi:
- Saytdan yalnız qanuni məqsədlərlə istifadə etməlidir
- Digər istifadəçilərin hüquqlarını pozmamalıdır
- Saytın texniki sisteminə zərər verə biləcək hərəkətlər etməməlidir`},{id:"SECTION_4_TITLE",label:"Bölmə 4 Başlıq",value:"4. Əqli Mülkiyyət Hüquqları"},{id:"SECTION_4_BODY",label:"Bölmə 4 Mətn",value:"Saytda yerləşdirilən bütün məzmun (mətnlər, şəkillər, videolar, loqo və s.) müəllif hüquqları ilə qorunur və icazəsiz istifadə edilə bilməz."},{id:"SECTION_5_TITLE",label:"Bölmə 5 Başlıq",value:"5. Məsuliyyətin Məhdudlaşdırılması"},{id:"SECTION_5_BODY",label:"Bölmə 5 Mətn",value:"Sayt və xidmətlər “olduğu kimi” təqdim olunur. Texniki nasazlıq və ya fasilələrə görə sayt rəhbərliyi məsuliyyət daşımır."},{id:"SECTION_6_TITLE",label:"Bölmə 6 Başlıq",value:"6. Dəyişiklik Hüququ"},{id:"SECTION_6_BODY",label:"Bölmə 6 Mətn",value:"Biz bu şərtləri istənilən vaxt dəyişdirmək hüququnu özümüzdə saxlayırıq. Yenilənmiş versiya saytda dərc edildiyi tarixdən qüvvəyə minir."},{id:"SECTION_7_TITLE",label:"Bölmə 7 Başlıq",value:"7. Tətbiq Olunan Qanun"},{id:"SECTION_7_BODY",label:"Bölmə 7 Mətn",value:"Bu Xidmət Şərtləri Azərbaycan Respublikasının qanunvericiliyinə uyğun tənzimlənir."},{id:"SECTION_8_TITLE",label:"Bölmə 8 Başlıq",value:"8. Əlaqə"},{id:"SECTION_8_BODY",label:"Bölmə 8 Mətn",value:`Email: info@forsaj.az
Veb sayt: https://forsaj.az`},{id:"CONTACT_TITLE",label:"Əlaqə Bölməsi Başlığı",value:"Əlaqə"},{id:"CONTACT_EMAIL",label:"Əlaqə E-poçtu",value:"info@forsaj.az"},{id:"CONTACT_WEBSITE",label:"Əlaqə Vebsaytı",value:"https://forsaj.az"}])};h.forEach(y=>{const N=o.find(_=>_.id===y);N?y==="about"?f(N):y==="partners"?F(N):y==="hero"?H(N):y==="contactpage"?ve(N):y==="eventspage"?nt(N):y==="newspage"?We(N):y==="gallerypage"?zt(N):y==="driverspage"?wt(N):y==="footer"?ri(N):y==="categoryleaders"?oi(N):y==="nextrace"?di(N):y==="rulespage"?Ze(N):y==="privacypolicypage"?ci(N):y==="termsofservicepage"&&Ui(N):o.push({id:y,title:Yt[y]||y,sections:[{id:`${y}-default`,type:"text",label:"Bölmə",value:""}],images:[]})});const re=o.find(y=>y.id==="about");re&&f(re);const jt=o.find(y=>y.id==="partners");jt&&F(jt);const At=o.find(y=>y.id==="hero");At&&H(At);const Fa=o.find(y=>y.id==="contactpage");Fa&&ve(Fa);const Ya=o.find(y=>y.id==="eventspage");Ya&&nt(Ya);const Ka=o.find(y=>y.id==="newspage");Ka&&We(Ka);const qa=o.find(y=>y.id==="gallerypage");qa&&zt(qa);const $a=o.find(y=>y.id==="driverspage");$a&&wt($a);const Ga=o.find(y=>y.id==="footer");Ga&&ri(Ga);const Ha=o.find(y=>y.id==="categoryleaders");Ha&&oi(Ha);const Va=o.find(y=>y.id==="nextrace");Va&&di(Va);const Qa=o.find(y=>y.id==="rulespage");Qa&&Ze(Qa);const Wa=o.find(y=>y.id==="privacypolicypage");Wa&&ci(Wa);const Za=o.find(y=>y.id==="termsofservicepage");Za&&Ui(Za);const ui=new Map(h.map((y,N)=>[y,N]));o.sort((y,N)=>{const _=ui.has(y.id)?ui.get(y.id):Number.MAX_SAFE_INTEGER,P=ui.has(N.id)?ui.get(N.id):Number.MAX_SAFE_INTEGER;return _!==P?_-P:(y.title||y.id).localeCompare(N.title||N.id)});const Pl=o.map(y=>({...y,sections:(y.sections||[]).map((N,_)=>{if(N.type!=="text")return N;const he=Sr(N)?Re(N.value||""):(N.value||"").replace(/\u00a0/g," "),Le=zs(N.label||"")?Re(N.label||""):N.label;return{...N,label:Le,value:he,...N.url?{url:Rt(N.url)}:{},order:ye(N.order,_)}}).sort((N,_)=>ye(N.order,0)-ye(_.order,0)),images:(y.images||[]).map((N,_)=>({...N,order:ye(N.order,_)})).sort((N,_)=>ye(N.order,0)-ye(_.order,0))}));n(Pl)}const[s,l,r,u,p,x]=await Promise.all([fetch(`/api/all-images?v=${Date.now()}`).then(h=>h.json()).catch(()=>({})),fetch(`/api/events?v=${Date.now()}`,{cache:"no-store"}).then(h=>h.json()).catch(()=>[]),fetch(`/api/news?v=${Date.now()}`,{cache:"no-store"}).then(h=>h.json()).catch(()=>[]),fetch(`/api/drivers?v=${Date.now()}`,{cache:"no-store"}).then(h=>h.json()).catch(()=>[]),fetch(`/api/gallery-photos?v=${Date.now()}`,{cache:"no-store"}).then(h=>h.json()).catch(()=>[]),fetch(`/api/videos?v=${Date.now()}`,{cache:"no-store"}).then(h=>h.json()).catch(()=>[])]);if(s?.local&&A(s.local),Array.isArray(l)){const h=l.map(o=>({...o,status:ts(o?.status,o?.date),youtubeUrl:String(o?.youtubeUrl||o?.youtube_url||o?.url||"").trim()}));He(h),h.length>0&&ze===null&&(de(h[0].id),we(h[0]))}if(Array.isArray(r)&&(ft(r),r.length>0&&c===null&&(O(r[0].id),X({...r[0]}))),Array.isArray(u)&&(it(u),u.length>0&&xe===null&&Bt(u[0].id)),Array.isArray(p)){const h=p.map((o,f)=>pr(o,f));gt(h),h.length===0&&(Ot(null),ut({}))}Array.isArray(x)&&(ce(x),x.length>0&&le===null&&ja(x[0].id))}catch(t){console.error("Content load error:",t)}};b.useEffect(()=>{da()},[]),b.useEffect(()=>{if(!a.length)return;const t=a.findIndex(x=>x.id==="about");if(t===-1||(a[t].sections||[]).some(x=>xt(x.id)))return;const l=[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}],r=[...a],u={...r[t]},p=[...u.sections||[]];l.forEach((x,h)=>{const o=`${h+1}`;p.push({id:`${Je}${o}`,type:"text",label:`Statistika Etiketi ${h+1}`,value:x.label},{id:`${et}${o}`,type:"text",label:`Statistika Dəyəri ${h+1}`,value:x.value})}),u.sections=p,r[t]=u,n(r)},[a]),b.useEffect(()=>{sa.current||(sa.current=!0)},[]),b.useEffect(()=>{const t=new URLSearchParams(Ri.search),i=t.get("mode"),s=t.get("page");if(i&&["extract","events","event-management","news","drivers","videos","photos"].includes(i))Me(i);else if(s){Me("extract");const l=ds(s),r=a.findIndex(u=>l.includes(u.id));r!==-1&&m(r)}},[Ri.search,a]);const Ys=async()=>{T(!0),w("Front-end komponentləri skan edilir..."),k(30);const t=Date.now(),i=E.loading("Sinxronizasiya başladı...");try{const s=await fetch("/api/extract-content",{method:"POST"});if(!s.ok){const x=await s.text();throw new Error(x||"Extraction failed")}k(60),w("Bulud bazası ilə sinxronizasiya edilir...");const l=await s.json(),r=l.pages||l,u=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!u.ok){const x=await u.text();throw new Error(x||"Save failed")}k(90),n(r);const p=Date.now()-t;p<800&&await new Promise(x=>setTimeout(x,800-p)),k(100),w("Tamamlandı!"),setTimeout(()=>{T(!1),localStorage.setItem("forsaj_extracted","true"),localStorage.setItem($i,Date.now().toString()),E.success("Sinxronizasiya tamamlandı! Baza yeniləndi.",{id:i})},500)}catch(s){console.error("Extraction error:",s),T(!1),E.error(`Sinxronizasiya xətası: ${s.message}`,{id:i})}},Oe=(t,i,s,l)=>{const r=[...a],u=r[t].sections.findIndex(p=>p.id===i);if(u!==-1){const p=r[t].sections[u];if(!gi(p,s))return;let x=l;const o=!!ot(p)||xt(p.id)||p.id.startsWith("val-")||p.id.startsWith("txt-");(s==="value"||s==="label")&&o&&(x=Re(l)),r[t].sections[u][s]=x,n(r)}},Ks=(t,i)=>{const s=a[t];if(!s)return;const l=s.sections.find(u=>u.id===i);if(!l||!l.url)return;const r=Rt(l.url);r&&r!==l.url&&Oe(t,i,"url",r)},ca=(t,i,s)=>{const l=[...a],r=l[t].images.findIndex(u=>u.id===i);r!==-1&&(l[t].images[r].alt=s,n(l))},qs=()=>{if(!C.trim()){E.error("Başlıq daxil edin!");return}const i={id:C.toLowerCase().replace(/\s+/g,"-"),title:C,sections:[{id:"text-0",type:"text",label:"Bölmə",value:"Yeni bölmə məzmunu..."}],images:[]};n([...a,i]),m(a.length),L(!1),be(""),E.success("Yeni bölmə əlavə edildi!")},ua=(t,i,s)=>{if(d<0||d>=a.length)return;const l=[...a],r=l[d];if(r){if(t==="text"){const u=`text-${r.sections.length}-${Date.now()}`,p=r.sections.reduce((x,h,o)=>Math.max(x,ye(h.order,o)),-1)+1;r.sections.push({id:u,type:"text",label:"Bölmə",value:"Yeni mətn sahəsi...",order:p}),E.success("Yeni mətn sahəsi əlavə edildi")}else{const u=`img-${r.images.length}-${Date.now()}`,p=r.images.reduce((x,h,o)=>Math.max(x,ye(h.order,o)),-1)+1;r.images.push({id:u,path:"",alt:"",type:"local",order:p}),E.success("Yeni şəkil sahəsi əlavə edildi")}n(l)}},pa=(t,i,s=d)=>{if(s<0||s>=a.length)return;const l=[...a],r=l[s];r&&(t==="text"?(r.sections=r.sections.filter(u=>u.id!==i),r.sections=r.sections.map((u,p)=>({...u,order:p}))):(r.images=r.images.filter(u=>u.id!==i),r.images=r.images.map((u,p)=>({...u,order:p}))),n(l),E.success("Sahə silindi"))},Wt=(t,i,s,l=d)=>{if(l<0||l>=a.length)return;const r=[...a],u=r[l];if(!u)return;const p=t==="text"?u.sections:u.images,x=p.findIndex(f=>f.id===i);if(x===-1)return;const h=s==="up"?x-1:x+1;if(h<0||h>=p.length)return;const o=p[x];p[x]=p[h],p[h]=o,t==="text"?u.sections=(u.sections||[]).map((f,F)=>({...f,order:F})):u.images=(u.images||[]).map((f,F)=>({...f,order:F})),n(r)},Di=(t=d)=>{if(t<0||t>=a.length)return;const i=[...a],s=i[t];if(!s||s.id!=="about")return;const l=`${Date.now()}`;s.sections.push({id:`${Je}${l}`,type:"text",label:"Statistika Etiketi",value:"YENİ STATİSTİKA"},{id:`${et}${l}`,type:"text",label:"Statistika Dəyəri",value:"0+"}),n(i),E.success("Yeni statistika əlavə edildi")},Zt=(t,i,s,l=d)=>{if(l<0||l>=a.length)return;const r=[...a],u=r[l];if(!u||u.id!=="about")return;const p=i==="label"?`${Je}${t}`:`${et}${t}`,x=u.sections.findIndex(o=>o.id===p),h=Re(s);x!==-1?u.sections[x].value=h:u.sections.push({id:p,type:"text",label:i==="label"?"Statistika Etiketi":"Statistika Dəyəri",value:h}),n(r)},ma=(t,i=d)=>{if(i<0||i>=a.length)return;const s=[...a],l=s[i];!l||l.id!=="about"||(l.sections=l.sections.filter(r=>r.id!==`${Je}${t}`&&r.id!==`${et}${t}`),n(s),E.success("Statistika silindi"))},xa=(t=d)=>{const i=[...a];let s=t;if((s<0||s>=i.length||!["about","values"].includes(i[s]?.id))&&(s=i.findIndex(u=>u.id==="about")),s<0||s>=i.length)return;const l=i[s],r=`${Date.now()}`;l.sections.push({id:`val-icon-${r}`,type:"text",label:"İkon Kodu (Shield/Users/Leaf/Zap)",value:"Shield"},{id:`val-title-${r}`,type:"text",label:"Dəyər Başlığı",value:"YENİ DƏYƏR"},{id:`val-desc-${r}`,type:"text",label:"Dəyər Təsviri",value:"Dəyər təsvirini daxil edin."}),n(i),E.success("Yeni dəyər əlavə edildi")},Mi=(t,i,s,l=d)=>{if(l<0||l>=a.length)return;const r=[...a],u=r[l];if(!u||!["about","values"].includes(u.id))return;const p=`val-${i}-${t}`,x=(u.sections||[]).findIndex(o=>o.id===p),h=i==="icon"?String(s||"").trim():Re(s);if(x!==-1)u.sections[x].value=h;else{const o=i==="icon"?"İkon Kodu (Shield/Users/Leaf/Zap)":i==="title"?"Dəyər Başlığı":"Dəyər Təsviri";u.sections.push({id:p,type:"text",label:o,value:h})}n(r)},$s=(t,i=d)=>{if(i<0||i>=a.length)return;const s=[...a],l=s[i];!l||!["about","values"].includes(l.id)||(l.sections=(l.sections||[]).filter(r=>{const u=ss(r.id);return!u||u.suffix!==t}),n(s),E.success("Dəyər silindi"))},St=t=>{if(!t)return[];const i=new Map;return(t.sections||[]).forEach(s=>{const l=s.id.match(os);if(!l)return;const r=Number(l[1]),u=Lr(l[2]);if(!u)return;const p=i.get(r)||{index:r,name:"",tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${r}`};p[u]=s.value||"",i.set(r,p)}),Array.from(i.values()).sort((s,l)=>s.index-l.index)},at=t=>(t.imageId||"").trim()||`partner-image-${t.index}`,Xt=(t,i=d)=>{if(i<0||i>=a.length)return;const s=[...a],l=s[i];if(!l||l.id!=="partners")return;const r=(l.sections||[]).filter(o=>!os.test(o.id)),u=[];t.forEach(o=>{const f=at(o);u.push({id:`PARTNER_${o.index}_NAME`,type:"text",label:`Tərəfdaş ${o.index} Ad`,value:o.name},{id:`PARTNER_${o.index}_TAG`,type:"text",label:`Tərəfdaş ${o.index} Etiket`,value:o.tag},{id:`PARTNER_${o.index}_ICON`,type:"text",label:`Tərəfdaş ${o.index} İkon`,value:o.icon},{id:`PARTNER_${o.index}_USE_IMAGE`,type:"text",label:`Tərəfdaş ${o.index} Görsel İstifadə`,value:o.useImage},{id:`PARTNER_${o.index}_IMAGE_ID`,type:"text",label:`Tərəfdaş ${o.index} Görsel ID`,value:f})});const p=l.images||[],x=new Set(t.map(o=>at(o))),h=[...p];x.forEach(o=>{h.some(f=>f.id===o)||h.push({id:o,path:"",alt:o,type:"local",order:h.length})}),l.sections=[...r,...u],l.images=h.map((o,f)=>({...o,order:f})),n(s)},Jt=(t,i,s,l=d)=>{const r=St(a[l]).map(u=>u.index===t?{...u,[i]:s}:u);Xt(r,l)},Gs=(t=d)=>{const i=St(a[t]),s=(i[i.length-1]?.index||0)+1;i.push({index:s,name:`PARTNER ${s}`,tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${s}`}),Xt(i,t)},Hs=(t,i=d)=>{const s=St(a[i]).filter(l=>l.index!==t);Xt(s,i)},ha=(t,i,s=d)=>{const l=St(a[s]),r=l.findIndex(h=>h.index===t);if(r===-1)return;const u=i==="up"?r-1:r+1;if(u<0||u>=l.length)return;const p=l[r];l[r]=l[u],l[u]=p;const x=l.map((h,o)=>({...h,index:o+1,imageId:at({...h,index:o+1})}));Xt(x,s)},fa=(t,i=d)=>{if(i<0||i>=a.length)return"";const s=[...a],l=s[i];if(!l||l.id!=="partners")return"";const r=at(t);if((l.images||[]).find(x=>x.id===r))return r;const p=[...l.images||[]];return p.push({id:r,path:"",alt:t.name||`Partner ${t.index}`,type:"local",order:p.length}),l.images=p,n(s),r},ga=(t,i,s=d)=>{if(s<0||s>=a.length)return;const l=at(t),r=[...a],u=r[s];if(!u||u.id!=="partners")return;const p=[...u.images||[]];let x=p.findIndex(h=>h.id===l);x===-1&&(p.push({id:l,path:"",alt:t.name||`Partner ${t.index}`,type:"local",order:p.length}),x=p.length-1),typeof i.path=="string"&&(p[x].path=i.path),typeof i.alt=="string"&&(p[x].alt=i.alt),u.images=p.map((h,o)=>({...h,order:o})),n(r)},ba=(t,i)=>Re(t||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||i,Vs=[{id:"pilot",icon:"Info",titleKey:"RULES_PILOT_TITLE",titleFallback:"PİLOT PROTOKOLU",docNameFallback:"PILOT_PROTOKOLU.PDF",items:[{titleKey:"RULES_PILOT_SUB1",titleFallback:"İSTİFADƏÇİ ÖHDƏLİKLƏRİ",descKey:"RULES_PILOT_DESC1",descFallback:"HƏR BİR İŞTİRAKÇI FEDERASİYANIN MÜƏYYƏN ETDİYİ BÜTÜN TEXNİKİ VƏ ETİK NORMALARI QEYD-ŞƏRTSİZ QƏBUL EDİR."},{titleKey:"RULES_PILOT_SUB2",titleFallback:"DİSKVALİFİKASİYA",descKey:"RULES_PILOT_DESC2",descFallback:"PROTOKOLDAN KƏNARA ÇIXMAQ VƏ YA HAKİM QƏRARLARINA ETİRAZ ETMƏK DƏRHAL DİSKVALİFİKASİYA İLƏ NƏTİCƏLƏNƏ BİLƏR."},{titleKey:"RULES_PILOT_SUB3",titleFallback:"TEXNİKİ TƏLƏBLƏR",descKey:"RULES_PILOT_DESC3",descFallback:"BÜTÜN AVADANLIQLAR YARIŞDAN 24 SAAT ƏVVƏL TEXNİKİ KOMİSSİYA TƏRƏFİNDƏN YOXLANILMALI VƏ TƏHLÜKƏSİZLİK SERTİFİKATI İLƏ TƏMİN EDİLMƏLİDİR."}]},{id:"technical",icon:"Settings",titleKey:"RULES_TECH_TITLE",titleFallback:"TEXNİKİ NORMARTİVLƏR",docNameFallback:"TEXNIKI_NORMATIVLER.PDF",items:[{titleKey:"RULES_TECH_SUB1",titleFallback:"TƏKƏR ÖLÇÜLƏRİ",descKey:"RULES_TECH_DESC1",descFallback:"PRO CLASS ÜÇÜN MAKSİMUM TƏKƏR ÖLÇÜSÜ 37 DÜYM, AMATEUR CLASS ÜÇÜN İSƏ 33 DÜYM OLARAQ MÜƏYYƏN EDİLMİŞDİR."},{titleKey:"RULES_TECH_SUB2",titleFallback:"MÜHƏRRİK GÜCÜ",descKey:"RULES_TECH_DESC2",descFallback:"MÜHƏRRİK ÜZƏRİNDƏ APARILAN MODİFİKASİYALAR KATEQORİYA ÜZRƏ LİMİTLƏRİ AŞMAMALIDIR. TURBO SİSTEMLƏRİ YALNIZ XÜSUSİ KLASLARDA İCAZƏLİDİR."},{titleKey:"RULES_TECH_SUB3",titleFallback:"ASQI SİSTEMİ",descKey:"RULES_TECH_DESC3",descFallback:"AVTOMOBİLİN KLİRENSİ (YERDƏN HÜNDÜRLÜYÜ) VƏ ASQI ARTIKULYASİYASI TƏHLÜKƏSİZLİK STANDARTLARINA UYĞUN OLMALIDIR."}]},{id:"safety",icon:"ShieldAlert",titleKey:"RULES_SAFETY_TITLE",titleFallback:"TƏHLÜKƏSİZLİK QAYDALARI",docNameFallback:"TEHLUKESIZLIK_QAYDALARI.PDF",items:[{titleKey:"RULES_SAFETY_SUB1",titleFallback:"KARKAS TƏLƏBİ",descKey:"RULES_SAFETY_DESC1",descFallback:"BÜTÜN AÇIQ VƏ YA MODİFİKASİYA OLUNMUŞ AVTOMOBİLLƏRDƏ FIA STANDARTLARINA UYĞUN TƏHLÜKƏSİZLİK KARKASI (ROLL CAGE) MƏCBURİDİR."},{titleKey:"RULES_SAFETY_SUB2",titleFallback:"YANĞIN SÖNDÜRMƏ",descKey:"RULES_SAFETY_DESC2",descFallback:"HƏR BİR AVTOMOBİLDƏ ƏN AZI 2 KİLOQRAMLIQ, ASAN ƏLÇATAN YERDƏ YERLƏŞƏN YANĞINSÖNDÜRƏN BALON OLMALIDIR."},{titleKey:"RULES_SAFETY_SUB3",titleFallback:"KƏMƏR VƏ DƏBİLQƏ",descKey:"RULES_SAFETY_DESC3",descFallback:"5 NÖQTƏLİ TƏHLÜKƏSİZLİK KƏMƏRLƏRİ VƏ SERTİFİKATLI KASKALARIN (DƏBİLQƏLƏRİN) İSTİFADƏSİ BÜTÜN MƏRHƏLƏLƏRDƏ MƏCBURİDİR."}]},{id:"eco",icon:"Leaf",titleKey:"RULES_ECO_TITLE",titleFallback:"EKOLOJİ MƏSULİYYƏT",docNameFallback:"EKOLOJI_MESULIYYET.PDF",items:[{titleKey:"RULES_ECO_SUB1",titleFallback:"TULLANTILARIN İDARƏ EDİLMƏSİ",descKey:"RULES_ECO_DESC1",descFallback:'YARIŞ ƏRAZİSİNDƏ VƏ TRASDA HƏR HANSI BİR TULLANTININ ATILMASI QƏTİ QADAĞANDIR. İŞTİRAKÇILAR "LEAVE NO TRACE" PRİNSİPİNƏ ƏMƏL ETMƏLİDİR.'},{titleKey:"RULES_ECO_SUB2",titleFallback:"MAYE SIZMALARI",descKey:"RULES_ECO_DESC2",descFallback:"AVTOMOBİLDƏN YAĞ VƏ YA SOYUDUCU MAYE SIZMASI OLDUĞU TƏQDİRDƏ PİLOT DƏRHAL DAYANMALI VƏ ƏRAZİNİN ÇİRKLƏNMƏSİNİN QARŞISINI ALMALIDIR."},{titleKey:"RULES_ECO_SUB3",titleFallback:"MARŞRUTDAN KƏNARA ÇIXMAMAQ",descKey:"RULES_ECO_DESC3",descFallback:"TƏBİİ ÖRTÜYÜ QORUMAQ MƏQSƏDİ İLƏ MÜƏYYƏN OLUNMUŞ TRASDANKƏNAR SÜRÜŞLƏR VƏ YA YAŞIL SAHƏLƏRƏ ZƏRƏR VERMƏK QADAĞANDIR."}]}],ei=(t,i,s)=>{const l=Re((t.find(r=>r.id===i)?.value||"").toString());return!l||Vt(l)?s:l},Qs=t=>{const i=ei(t,"BTN_DOWNLOAD_PDF","PDF YÜKLƏ"),s=Rt((t.find(l=>l.id==="BTN_DOWNLOAD_PDF")?.url||"").toString());return Vs.map((l,r)=>({index:r+1,id:l.id,title:ei(t,l.titleKey,l.titleFallback),icon:l.icon,docName:l.docNameFallback,docButton:i,docUrl:s,items:l.items.map((u,p)=>({index:p+1,title:ei(t,u.titleKey,u.titleFallback),desc:ei(t,u.descKey,u.descFallback)}))}))},Bi=t=>ba(t||"",""),Ke=t=>{if(!t||t.id!=="rulespage")return[];const i=new Map;(t.sections||[]).forEach(x=>{const h=x.id.match(Ar);if(h){const f=Number(h[1]),F=h[2],H=i.get(f)||{id:`tab-${f}`,title:"",icon:"Info",docName:"",docButton:"",docUrl:"",items:new Map};F==="ID"&&(H.id=x.value||`tab-${f}`),F==="TITLE"&&(H.title=x.value||""),F==="ICON"&&(H.icon=x.value||"Info"),F==="DOC_NAME"&&(H.docName=x.value||""),F==="DOC_BUTTON"&&(H.docButton=x.value||""),F==="DOC_URL"&&(H.docUrl=Rt(x.url||x.value||"")),i.set(f,H);return}const o=x.id.match(Nr);if(o){const f=Number(o[1]),F=Number(o[2]),H=o[3],Y=i.get(f)||{id:`tab-${f}`,title:"",icon:"Info",docName:"",docButton:"",docUrl:"",items:new Map},ae=Y.items.get(F)||{title:"",desc:""};H==="TITLE"&&(ae.title=x.value||""),H==="DESC"&&(ae.desc=x.value||""),Y.items.set(F,ae),i.set(f,Y)}});const s=Array.from(i.entries()).sort((x,h)=>x[0]-h[0]).map(([x,h])=>({index:x,id:h.id||`tab-${x}`,title:h.title||"",icon:h.icon||"Info",docName:h.docName||"",docButton:h.docButton||"",docUrl:h.docUrl||"",items:Array.from(h.items.entries()).sort((o,f)=>o[0]-f[0]).map(([o,f])=>({index:o,title:f.title||"",desc:f.desc||""}))})).filter(x=>x.title||x.items.length>0),l=Qs(t.sections||[]);if(!s.length)return l;const r=new Map;s.forEach(x=>{r.set(Bi(x.id||x.title||""),x)});const u=new Set,p=l.map(x=>{const h=Bi(x.id||x.title||""),o=r.get(h);return o?(u.add(h),{...x,...o,id:o.id||x.id,title:o.title||x.title,icon:o.icon||x.icon,docName:o.docName||x.docName,docButton:o.docButton||x.docButton,docUrl:o.docUrl||x.docUrl,items:o.items&&o.items.length>0?o.items:x.items}):x});return s.forEach(x=>{const h=Bi(x.id||x.title||"");u.has(h)||p.push(x)}),p.map((x,h)=>({...x,index:h+1}))},st=(t,i=d)=>{if(i<0||i>=a.length)return;const s=[...a],l=s[i];if(!l||l.id!=="rulespage")return;const r=(l.sections||[]).filter(p=>!qi.test(p.id)),u=[];return t.forEach((p,x)=>{const h=x+1,o=ba(p.id||p.title||"",`tab-${h}`),f=Re(p.title||`SEKME ${h}`),F=Ki.includes(p.icon)?p.icon:"Info",H=Re(p.docName||`${o.toUpperCase()}_PROTOKOLU.PDF`),Y=Re(p.docButton||"PDF YÜKLƏ"),ae=vr(p.docUrl||"");u.push({id:`RULE_TAB_${h}_ID`,type:"text",label:`Qayda Sekməsi ${h} ID`,value:o},{id:`RULE_TAB_${h}_TITLE`,type:"text",label:`Qayda Sekməsi ${h} Başlıq`,value:f},{id:`RULE_TAB_${h}_ICON`,type:"text",label:`Qayda Sekməsi ${h} İkon`,value:F},{id:`RULE_TAB_${h}_DOC_NAME`,type:"text",label:`Sekmə ${h} Sənəd Adı`,value:H},{id:`RULE_TAB_${h}_DOC_BUTTON`,type:"text",label:`Sekmə ${h} Sənəd Düyməsi`,value:Y},{id:`RULE_TAB_${h}_DOC_URL`,type:"text",label:`Sekmə ${h} Sənəd Linki`,value:ae,...ae?{url:ae}:{}}),(p.items||[]).forEach((ve,nt)=>{const We=nt+1;u.push({id:`RULE_TAB_${h}_ITEM_${We}_TITLE`,type:"text",label:`Sekmə ${h} Maddə ${We} Başlıq`,value:Re(ve.title||"")},{id:`RULE_TAB_${h}_ITEM_${We}_DESC`,type:"text",label:`Sekmə ${h} Maddə ${We} Təsvir`,value:Re(ve.desc||"")})})}),l.sections=[...r,...u].map((p,x)=>({...p,order:x})),n(s),s},va=(t=d)=>{const i=Ke(a[t]),s=i.length+1;i.push({index:s,id:`tab-${s}`,title:`SEKME ${s}`,icon:"Info",docName:`TAB_${s}_PROTOKOLU.PDF`,docButton:"PDF YÜKLƏ",docUrl:"",items:[{index:1,title:"YENİ MADDƏ",desc:"Maddə təsviri..."}]}),st(i,t),E.success("Yeni sekmə əlavə edildi")},ya=(t,i=d)=>{const s=Ke(a[i]).filter((l,r)=>r!==t);st(s,i),E.success("Sekmə silindi")},ti=(t,i,s=d)=>{const l=Ke(a[s]),r=i==="up"?t-1:t+1;if(r<0||r>=l.length)return;const u=l[t];l[t]=l[r],l[r]=u,st(l,s)},Pe=(t,i,s,l=d)=>{const r=Ke(a[l]);r[t]&&(r[t]={...r[t],[i]:s},st(r,l))},Sa=(t,i=d)=>{const s=Ke(a[i]);if(!s[t])return;const l=(s[t].items?.length||0)+1;s[t].items=[...s[t].items||[],{index:l,title:`MADDƏ ${l}`,desc:"Maddə təsviri..."}],st(s,i)},Ta=(t,i,s=d)=>{const l=Ke(a[s]);l[t]&&(l[t].items=(l[t].items||[]).filter((r,u)=>u!==i),st(l,s))},ii=(t,i,s,l,r=d)=>{const u=Ke(a[r]);!u[t]||!u[t].items[i]||(u[t].items[i]={...u[t].items[i],[s]:l},st(u,r))},Pi=(t,i)=>{I({pageIdx:t,imgId:i}),j(!0)},zi=async(t,i)=>{const s=new FormData;s.append("image",t);const l=E.loading(i?.loadingText||"Şəkil yüklənir...");try{const r=await fetch("/api/upload-image",{method:"POST",body:s});if(r.ok){const u=await r.json();return E.success(i?.successText||"Şəkil uğurla yükləndi",{id:l}),u.url}else throw new Error("Upload fail")}catch(r){return console.error("Upload error:",r),E.error(i?.errorText||"Görsəl yüklənərkən xəta baş verdi",{id:l}),null}},qe=async t=>zi(t),Ws=async t=>t.type!=="application/pdf"&&!t.name.toLowerCase().endsWith(".pdf")?(E.error("Yalnız PDF faylı yüklənə bilər"),null):zi(t,{loadingText:"PDF yüklənir...",successText:"PDF uğurla yükləndi",errorText:"PDF yüklənərkən xəta baş verdi"}),Zs=async t=>{try{(await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&localStorage.setItem($i,Date.now().toString())}catch(i){console.error("Silent save failed:",i)}},Ea=async(t,i,s=d)=>{const l=await Ws(t);if(!l)return;const r=Ke(a[s]);if(!r[i])return;r[i]={...r[i],docName:t.name,docUrl:l};const u=st(r,s);u&&te==="extract"&&await Zs(u)},Xs=async(t,i,s)=>{const l=t.target.files?.[0];if(!l)return;const r=await qe(l);if(r){const u=[...a],p=u[i].images.findIndex(x=>x.id===s);p!==-1&&(u[i].images[p].path=r,u[i].images[p].type="local",n(u))}},Js=t=>{if(!R)return;const i=[...a];if(B){const s=`img-${i[R.pageIdx].images.length}-${Date.now()}`;i[R.pageIdx].images.push({id:s,path:t,alt:"Daxil edildi",type:"local"}),V(!1)}else{const s=i[R.pageIdx].images.findIndex(l=>l.id===R.imgId);s!==-1&&(i[R.pageIdx].images[s].path=t,i[R.pageIdx].images[s].type="local")}n(i),j(!1),E.success("Şəkil seçildi")},Tt=async()=>{S(!0);const t=E.loading("Yadda saxlanılır...");try{const i=Date.now().toString();if(te==="extract"||te==="event-management"){const s=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw new Error(await s.text())}else if(te==="events"){const s=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)});if(!s.ok)throw new Error(await s.text())}else if(te==="news"){const s=await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)});if(!s.ok)throw new Error(await s.text())}else if(te==="drivers"){const s=await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Be)});if(!s.ok)throw new Error(await s.text())}else if(te==="videos"){const s=await fetch("/api/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)});if(!s.ok)throw new Error(await s.text())}else if(te==="photos"){const s=await fetch("/api/gallery-photos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ct)});if(!s.ok)throw new Error(await s.text())}localStorage.setItem($i,i),(te==="photos"||te==="videos"||te==="events")&&localStorage.setItem(dr,i),E.success("Dəyişikliklər bulud bazasına qeyd edildi!",{id:t}),await da()}catch(i){console.error("Save error:",i),E.error(`Yadda saxlama xətası: ${i.message} `,{id:t})}finally{S(!1)}},el=t=>{const i=je.find(s=>s.id===t);i&&(de(t),we({...i}))},_e=(t,i,s)=>{const l=s||ze;we(r=>{const p=!s||s===ze?{...r,[t]:i}:r;return l&&He(x=>x.map(h=>h.id===l?{...h,[t]:i}:h)),p})},tl=()=>{const t=je.length>0?Math.max(...je.map(s=>s.id))+1:1,i={id:t,title:"Yeni Tədbir",date:new Date().toISOString().split("T")[0],location:"Bakı",category:"OFFROAD",img:"https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?q=80&w=2070&auto=format&fit=crop",description:"",rules:"",youtubeUrl:"",status:"planned"};He([...je,i]),de(t),we(i),E.success("Yeni tədbir yaradıldı")},il=async(t,i)=>{i.stopPropagation(),window.confirm("Bu tədbiri silmək istədiyinizə əminsiniz?")&&(He(je.filter(s=>s.id!==t)),ze===t&&de(null),E.success("Tədbir silindi"))},al=t=>{const i=Ve.find(s=>s.id===t);i&&(O(t),X({...i}))},pt=(t,i,s)=>{const l=s||c;X(r=>{const p=!s||s===c?{...r,[t]:i}:r;return l&&ft(x=>x.map(h=>h.id===l?{...h,[t]:i}:h)),p})},sl=()=>{const t=Ve.length>0?Math.max(...Ve.map(s=>s.id))+1:1,i={id:t,title:"Yeni Xəbər",date:new Date().toISOString().split("T")[0],img:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=2070&auto=format&fit=crop",description:"",category:"BLOQ",status:"draft"};ft([...Ve,i]),O(t),X(i),E.success("Yeni xəbər yaradıldı")},ja=t=>{Qe(t);const i=J.find(s=>s.id===t);i&&Li({...i})},ai=(t,i,s)=>{const l=le;Li(r=>{let p={...r,[t]:i};if(t==="youtubeUrl"){const x=Aa(i);x&&(p={...p,videoId:x,thumbnail:`https://img.youtube.com/vi/${x}/maxresdefault.jpg`})}return l&&ce(x=>x.map(h=>{if(h.id===l){let o={...h,[t]:i};if(t==="youtubeUrl"){const f=Aa(i);f&&(o.videoId=f,o.thumbnail=`https://img.youtube.com/vi/${f}/maxresdefault.jpg`)}return o}return h})),p})},Aa=t=>{const i=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,s=t.match(i);return s&&s[2].length===11?s[2]:null},Na=(t=Ct)=>t.reduce((s,l)=>{const r=Number(l.id);return Number.isFinite(r)&&r>s?r:s},0)+1,ll=t=>{Ot(t);const i=Ct.find(s=>s.id===t);if(i){const s=Te(i.album),l=i.eventId?je.find(r=>r.id===i.eventId):je.find(r=>Te(r.title)===s);ut({...i,album:s}),kt(s),Oi(l?String(l.id):"")}},nl=()=>{const t=la.trim();if(!t){E.error("Albom adı daxil edin");return}const i=Te(t);if(Fi(i)){E.error("Xüsusi albom adı yazın (Ümumi Arxiv olmaz)");return}kt(i),Dt(i),na(""),E.success(`Albom seçildi: ${i}`)},rl=t=>{if(Oi(t),!t)return;const i=Number(t);if(!Number.isFinite(i))return;const s=je.find(r=>r.id===i);if(!s)return;const l=Te(s.title);kt(l),Dt(l)},ol=()=>{const t=Na(),i=Te(Ci);if(Fi(i)){E.error("Əvvəlcə albom seçin və ya event albomu təyin edin");return}const s=Number(bt),l=bt&&Number.isFinite(s)?s:null,r={id:t,title:"Yeni Şəkil",url:"",album:i,eventId:l};gt(u=>[...u,r]),Dt(i),Ot(t),ut({...r})},dl=async(t,i)=>{i.stopPropagation(),window.confirm("Bu şəkli silmək istədiyinizə əminsiniz?")&&(gt(s=>s.filter(l=>l.id!==t)),ct===t&&(Ot(null),ut({})),E.success("Şəkil silindi"))},si=(t,i)=>{ut(s=>{const l={...s,[t]:i};return t==="album"&&(l.album=Te(i),kt(l.album)),ct!==null&&gt(r=>r.map(u=>u.id===ct?l:u)),l})},cl=t=>{const i=Number(t),s=t&&Number.isFinite(i)?i:null,l=s!==null?je.find(r=>r.id===s):null;Oi(t),ut(r=>{const u={...r,eventId:s,album:Te(l?l.title:r.album)};return kt(u.album||yi),ct!==null&&gt(p=>p.map(x=>x.id===ct?u:x)),u})},ul=async t=>{const i=t.target.files?.[0];if(!i)return;const s=await qe(i);s&&si("url",s)},pl=async t=>{const i=Array.from(t.target.files||[]);if(!i.length)return;const s=Te(Ci);if(Fi(s)){E.error("Çoxlu yükləmə üçün əvvəlcə albom seçin"),t.target.value="";return}const l=Number(bt),r=bt&&Number.isFinite(l)?l:null;let u=Na();const p=[];for(const x of i){const h=await qe(x);if(!h)continue;const o=(x.name||"").replace(/\.[^/.]+$/,"").trim()||`Şəkil ${u}`;p.push({id:u,title:o,url:h,album:s,eventId:r}),u+=1}if(!p.length){E.error("Şəkillər yüklənmədi"),t.target.value="";return}gt(x=>[...x,...p]),Dt(s),Ot(p[0].id),ut({...p[0]}),E.success(`${p.length} şəkil "${s}" albomuna əlavə edildi`),p.length!==i.length&&E.error(`${i.length-p.length} fayl yüklənmədi`),t.target.value=""},ml=()=>{const t=J.length>0?Math.max(...J.map(s=>s.id))+1:1,i={id:t,title:"Yeni Video",youtubeUrl:"",videoId:"",duration:"00:00",thumbnail:"",created_at:new Date().toISOString()};ce([...J,i]),Qe(t),Li(i),E.success("Yeni video əlavə edildi")},xl=async(t,i)=>{i.stopPropagation(),window.confirm("Bu videonu silmək istədiyinizə əminsiniz?")&&(ce(J.filter(s=>s.id!==t)),le===t&&Qe(null),E.success("Video silindi"))},hl=async(t,i)=>{i.stopPropagation(),window.confirm("Bu xəbəri silmək istədiyinizə əminsiniz?")&&(ft(Ve.filter(s=>s.id!==t)),c===t&&O(null),E.success("Xəbər silindi"))},fl=t=>{Bt(t),Pt(null),yt({})},gl=t=>{Pt(t);const s=Be.find(l=>l.id===xe)?.drivers.find(l=>l.id===t);s&&yt({...s})},mt=(t,i)=>{!xe||!vt||yt(s=>{const l={...s,[t]:i};return it(r=>r.map(u=>u.id===xe?{...u,drivers:u.drivers.map(p=>p.id===vt?l:p)}:u)),l})},bl=()=>{if(!xe){E.error("Öncə kateqoriya seçin və ya yaradın");return}const t=Date.now(),i={id:t,rank:99,name:"Yeni Sürücü",license:"PILOT LICENSE",team:"TEAM NAME",wins:0,points:0,img:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=400&fit=crop"};it(s=>s.map(l=>l.id===xe?{...l,drivers:[...l.drivers,i]}:l)),Pt(t),yt(i),E.success("Yeni sürücü siyahıya əlavə edildi")},vl=t=>{window.confirm("Bu sürücünü silmək istədiyinizə əminsiniz?")&&(it(i=>i.map(s=>s.id===xe?{...s,drivers:s.drivers.filter(l=>l.id!==t)}:s)),vt===t&&(Pt(null),yt({})),E.success("Sürücü silindi"))},yl=async()=>{const t=Ce,i=Be.map(l=>l.id===xe?{...l,drivers:l.drivers.map(r=>r.id===vt?{...r,...t}:r)}:l);S(!0);const s=E.loading("Yadda saxlanılır...");try{if(!(await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw new Error("Yadda saxlama uğursuz oldu");it(i),E.success("Bütün sürücü məlumatları qeyd edildi",{id:s})}catch{E.error("Xəta baş verdi",{id:s})}finally{S(!1)}},Sl=()=>{const t=window.prompt("Kateqoriya adı (Məs: UNLIMITED CLASS):");if(!t)return;const i=t.toLowerCase().replace(/[^a-z0-9]+/g,"-");if(Be.find(l=>l.id===i)){E.error("Bu adda kateqoriya artıq mövcuddur");return}const s={id:i,name:t,drivers:[]};it([...Be,s]),Bt(i),E.success("Kateqoriya əlavə edildi")},Tl=()=>{if(!xe)return;const t=Be.find(i=>i.id===xe);if(t&&window.confirm(`"${t.name}" kateqoriyasını və içindəki bütün sürücüləri silmək istədiyinizə əminsiniz?`)){const i=Be.filter(s=>s.id!==xe);it(i),i.length>0?Bt(i[0].id):Bt(null),Pt(null),yt({}),E.success("Kateqoriya silindi")}},El=t=>{if(!xe)return;const i=t.trim();if(!i){E.error("Kateqoriya adı boş ola bilməz");return}it(s=>s.map(l=>l.id===xe?{...l,name:i}:l))};if(a.length===0&&!g&&!localStorage.getItem("forsaj_extracted"))return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card fade-in",children:[e.jsx(ke,{size:64,className:"text-primary",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Sayt Məzmununu və Görselləri Çıxarın"}),e.jsx("p",{children:"Front-end layihənizdəki bütün səhifələri, mətnləri və şəkilləri avtomatik olaraq bu panelə yükləyin."}),e.jsx("button",{className:"extract-btn",onClick:Ys,children:"Sinxronizasiyanı Başlat"})]})});if(g)return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card",children:[e.jsx("div",{className:"loader-ring",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Avtomatik Sinxronizasiya"}),e.jsx("p",{children:"Zəhmət olmasa gözləyin, front-end məlumatları oxunur..."}),e.jsx("div",{className:"progress-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${z}%`}})}),e.jsx("div",{className:"step-label",children:U})]})});const K=a[d],La=ds(Ae),wi=La.map(t=>{const i=a.findIndex(s=>s.id===t);return i===-1?null:{page:a[i],pageIdx:i}}).filter(Boolean),jl=!!Ae&&La.length>1&&(!!ht[Ae]||!!Ti[Ae]),Al=te==="extract"&&jl&&wi.length>0,Ra=!!Ae&&(Ae==="home"||Ti[Ae]==="home"),_a=Ra?wi.filter(({page:t})=>Ir[oa].includes(t.id)):wi,lt=me.trim().toLowerCase(),Ne=(...t)=>lt?t.some(i=>(i||"").toString().toLowerCase().includes(lt)):!0,$e=a.findIndex(t=>t.id==="eventspage"),Nl=$e>=0?a[$e]:null,se=(t,i)=>(Nl?.sections?.find(l=>l.id===t)?.value||i).toString(),fe=(t,i,s)=>{const l=[...a];let r=l.findIndex(x=>x.id==="eventspage");r===-1&&(l.push({id:"eventspage",title:Yt.eventspage,sections:[],images:[]}),r=l.length-1);const u=l[r],p=(u.sections||[]).findIndex(x=>x.id===t);if(p>=0)u.sections[p]={...u.sections[p],label:u.sections[p].label||i,value:s};else{const x=(u.sections||[]).reduce((h,o,f)=>Math.max(h,ye(o.order,f)),-1)+1;u.sections.push({id:t,type:"text",label:i,value:s,order:x})}n(l)},Ll=(t,i,s,l)=>{const r=[...a];let u=r.findIndex(o=>o.id==="eventspage");u===-1&&(r.push({id:"eventspage",title:Yt.eventspage,sections:[],images:[]}),u=r.length-1);const p=r[u],x=Rt(l),h=(p.sections||[]).findIndex(o=>o.id===t);if(h>=0)p.sections[h]={...p.sections[h],label:p.sections[h].label||i,value:s,url:x||p.sections[h].url};else{const o=(p.sections||[]).reduce((f,F,H)=>Math.max(f,ye(F.order,H)),-1)+1;p.sections.push({id:t,type:"text",label:i,value:s,url:x,order:o})}n(r)},Et=(K?.sections||[]).filter(t=>rs(t)||K?.id==="about"&&xt(t.id)||(K?.id==="about"||K?.id==="values")&&Ps.test(t.id)||K?.id==="partners"||K?.id==="rulespage"&&qi.test(t.id)||K?.id==="rulespage"&&t.id.startsWith("RULES_")?!1:Ne(t.id,t.label,t.value,t.url)).sort((t,i)=>ye(t.order,0)-ye(i.order,0)),Ia=K?.id==="about"?(()=>{const t=new Map;return(K.sections||[]).forEach(s=>{if(!xt(s.id))return;const l=ns(s.id)||s.id,r=t.get(l)||{label:"",value:""};s.id.startsWith(Je)&&(r.label=s.value||""),s.id.startsWith(et)&&(r.value=s.value||""),t.set(l,r)}),Array.from(t.entries()).sort(([s],[l])=>s.localeCompare(l,void 0,{numeric:!0})).map(([s,l])=>({suffix:s,...l})).filter(s=>Ne(s.suffix,s.label,s.value))})():[],Ca=K?.id==="rulespage"?Ke(K):[],Oa=K?.id==="about"||K?.id==="values"?(()=>{const t=new Map;return(K?.sections||[]).forEach(i=>{const s=ss(i.id);if(!s)return;const l=t.get(s.suffix)||{suffix:s.suffix,icon:"Shield",title:"",desc:""};l[s.field]=i.value||"",t.set(s.suffix,l)}),Array.from(t.values()).sort((i,s)=>i.suffix.localeCompare(s.suffix,void 0,{numeric:!0})).filter(i=>Ne(i.suffix,i.icon,i.title,i.desc))})():[],li=(K?.images||[]).filter(t=>Ne(t.id,t.alt,t.path)).sort((t,i)=>ye(t.order,0)-ye(i.order,0)),Rl=t=>{const i=(t.value||"").toLowerCase();return i.includes("<p")||i.includes("<br")||i.includes("[b]")||i.includes("[i]")||i.includes("[u]")||i.includes("[url")||i.includes("[img")||i.includes("[center]")},ka=t=>/^val-(icon|title|desc)-/i.test(t.id),_l=t=>ka(t)?/^val-icon-/i.test(t.id)?"icon":/^val-title-/i.test(t.id)?"title":/^val-desc-/i.test(t.id)?"desc":null:null,Il=(t,i)=>!i||i!=="privacypolicypage"&&i!=="termsofservicepage"?!1:t.id==="INTRO_TEXT"?!0:/^SECTION_\d+_BODY$/.test(t.id),Cl=(t,i)=>`${t}::${i}`,ni=(t,i,s=d,l=K)=>{const r=ot(t),u=gi(t,"label"),p=gi(t,"value"),x=gi(t,"url"),h=!!(t.url||"").trim(),o=Tr(t),f=l?.sections||[],F=f.findIndex(re=>re.id===t.id),H=F>0,Y=F>=0&&F<f.length-1,ae=ka(t),ve=_l(t),nt=ve==="icon",We=l?.id||K?.id||"unknown",zt=Cl(We,t.id),wt=!!oe[zt],ri=ae?!1:wt,oi=Il(t,l?.id)?8:4;Er(t);const di=jr(t,l?.id),Ze=(t.value||"").trim(),ci=!!(Ze&&Yi[Ze]);return e.jsxs("div",{className:"field-item-wrapper",style:{background:"#fcfcfd",padding:"1.25rem",borderRadius:"14px",border:"1px solid #e5e7eb"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",marginBottom:"0.75rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",minWidth:260,flex:1},children:[e.jsx("input",{type:"text",value:Vt(t.label)?Si(t.label):t.label,onChange:re=>Oe(s,t.id,"label",re.target.value),disabled:!u,style:{fontSize:"0.85rem",fontWeight:800,textTransform:"uppercase",color:"var(--primary)",border:"none",background:"none",width:"auto",padding:0}}),e.jsx("div",{className:"section-meta-hint",children:di}),e.jsxs("div",{className:"section-technical-id",children:["ID: ",t.id]})]}),r&&!0&&e.jsx("span",{style:{fontSize:"10px",color:"#475569",background:"#f1f5f9",borderRadius:"999px",padding:"3px 8px",fontWeight:700},children:"Açar mətn"}),e.jsxs("span",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginLeft:"0"},children:["Sıra: ",i+1]}),e.jsxs("label",{className:"section-hide-toggle",children:[e.jsx("input",{type:"checkbox",checked:wt,onChange:re=>{Ie(jt=>({...jt,[zt]:re.target.checked}))}}),e.jsx("span",{children:"Paneldə gizlə"})]})]}),ri?e.jsx("div",{className:"section-collapsed-tip",children:"Bu section paneldə gizlidir. Yenidən göstərmək üçün “Paneldə gizlə” seçimini söndürün."}):e.jsxs(e.Fragment,{children:[nt?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(54px, 1fr))",gap:"8px"},children:is.map(re=>{const jt=Yi[re],At=Ze===re;return e.jsx("button",{type:"button",title:re,onClick:()=>Oe(s,t.id,"value",re),disabled:!p,style:{height:"48px",border:At?"1px solid #f97316":"1px solid #e2e8f0",borderRadius:"10px",background:At?"#fff7ed":"#fff",color:At?"#ea580c":"#475569",display:"flex",alignItems:"center",justifyContent:"center",cursor:p?"pointer":"not-allowed"},children:e.jsx(jt,{size:18})},`${t.id}-${re}`)})}),Ze&&!ci&&e.jsxs("div",{style:{fontSize:"11px",color:"#b45309",fontWeight:700},children:["Naməlum ikon kodu: ",Ze,". Düzgün ikon seçin."]}),e.jsxs("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:["Seçilmiş ikon: ",Ze||"-"]})]}):ve==="title"?e.jsx("input",{type:"text",value:t.value||"",onChange:re=>Oe(s,t.id,"value",re.target.value),disabled:!p,style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}):r||!Rl(t)||ve==="desc"?e.jsx("textarea",{value:t.value||"",onChange:re=>Oe(s,t.id,"value",re.target.value),disabled:!p,rows:ve==="desc"?3:oi,style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:"1.4",resize:"vertical"}}):e.jsx(fi,{id:`editor-${t.id}`,value:hi(t.value||""),onChange:re=>Oe(s,t.id,"value",re),readOnly:!p}),h&&!0&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"0.75rem"},children:[e.jsx(ke,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:Rt(t.url||""),onChange:re=>Oe(s,t.id,"url",re.target.value),onBlur:()=>Ks(s,t.id),disabled:!x,placeholder:"URL (Məs: /about veya https://...)",style:{fontSize:"12px",padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",flex:1}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",marginTop:"0.9rem"},children:[!h&&x&&e.jsxs("button",{title:"Link əlavə et",onClick:()=>Oe(s,t.id,"url",`${window.location.origin}/`),style:{background:"#fff",border:"1px solid #dbeafe",color:"#2563eb",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(ke,{size:12})," Link əlavə et"]}),e.jsxs(e.Fragment,{children:[e.jsxs("button",{title:"Yuxarı daşı",onClick:()=>Wt("text",t.id,"up",s),disabled:!H,style:{background:"#fff",border:"1px solid #e2e8f0",color:H?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:H?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(Ut,{size:12})," Yuxarı"]}),e.jsxs("button",{title:"Aşağı daşı",onClick:()=>Wt("text",t.id,"down",s),disabled:!Y,style:{background:"#fff",border:"1px solid #e2e8f0",color:Y?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:Y?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(Ft,{size:12})," Aşağı"]}),o&&e.jsxs("button",{className:"field-delete-btn",onClick:()=>pa("text",t.id,s),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(Se,{size:12})," Sil"]})]})]})]})]},`${t.id}-${i}`)},Ol=(()=>{if(K?.id!=="contactpage")return[];const t=new Set,i=fr.map(l=>{const r=l.ids.map(u=>Et.find(p=>p.id===u)).filter(Boolean);return r.forEach(u=>t.add(u.id)),{title:l.title,subtitle:l.subtitle,sections:r}}).filter(l=>l.sections.length>0),s=Et.filter(l=>!t.has(l.id));return s.length>0&&i.push({title:"Digər Sahələr",subtitle:"Avtomatik qruplaşdırıla bilməyən sahələr",sections:s}),i})(),kl=(()=>{if(!K?.id||!as[K.id])return[];const t=new Set,i=as[K.id].map(l=>{const r=l.ids.map(u=>Et.find(p=>p.id===u)).filter(Boolean);return r.forEach(u=>t.add(u.id)),{title:l.title,subtitle:l.subtitle,sections:r}}).filter(l=>l.sections.length>0),s=Et.filter(l=>!t.has(l.id));return s.length>0&&i.push({title:"Digər Sahələr",subtitle:"Avtomatik qruplaşdırıla bilməyən əlavə sahələr",sections:s}),i})(),Da=(t,i=16)=>{const s=hr[t]||Rs;return e.jsx(s,{size:i})},Ma=(t,i)=>{const s=St(t).filter(l=>{const r=at(l),u=(t.images||[]).find(p=>p.id===r);return Ne(l.index,l.name,l.tag,l.icon,l.useImage,l.imageId,u?.path,u?.alt)});return e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Kt,{size:16})," Tərəfdaş Kartları"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Gs(i),children:[e.jsx(pe,{size:14})," Tərəfdaş Əlavə Et"]})]}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("label",{style:{display:"block",fontSize:"12px",color:"#64748b",marginBottom:"6px",fontWeight:700},children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:t.sections.find(l=>l.id==="SECTION_TITLE")?.value||"",onChange:l=>Oe(i,"SECTION_TITLE","value",l.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"10px"},children:s.length===0?e.jsx("div",{style:{gridColumn:"1/-1",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:me?"Axtarışa uyğun tərəfdaş tapılmadı.":'Hələ tərəfdaş kartı yoxdur. "Tərəfdaş Əlavə Et" ilə başlayın.'}):s.map((l,r)=>{const u=r>0,p=r<s.length-1,x=at(l),h=(t.images||[]).find(f=>f.id===x),o=["1","true","yes","on"].includes((l.useImage||"").toLowerCase());return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"12px",background:"#fff",display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"#f1f5f9",border:"1px solid #e2e8f0",color:"#334155",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:800},children:r+1}),e.jsx("input",{type:"text",value:l.name,onChange:f=>Jt(l.index,"name",f.target.value,i),placeholder:"Tərəfdaş adı",style:{flex:1,padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"72px 1fr",gap:"10px",alignItems:"start"},children:[e.jsx("div",{style:{width:"72px",height:"72px",borderRadius:"10px",border:"1px solid #e2e8f0",background:"#f8fafc",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b"},children:o?h?.path?e.jsx("img",{src:h.path,alt:h.alt||l.name||`Partner ${l.index}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(Ue,{size:18}):Da(l.icon||"ShieldCheck",18)}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[e.jsx("button",{type:"button",onClick:()=>Jt(l.index,"useImage","false",i),style:{padding:"7px 10px",borderRadius:"8px",border:o?"1px solid #e2e8f0":"1px solid #fb923c",background:o?"#fff":"#fff7ed",color:o?"#334155":"#c2410c",fontSize:"12px",fontWeight:700},children:"İkon"}),e.jsx("button",{type:"button",onClick:()=>{Jt(l.index,"useImage","true",i),fa(l,i)},style:{padding:"7px 10px",borderRadius:"8px",border:o?"1px solid #fb923c":"1px solid #e2e8f0",background:o?"#fff7ed":"#fff",color:o?"#c2410c":"#334155",fontSize:"12px",fontWeight:700},children:"Görsəl"})]}),o?e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto",gap:"6px"},children:[e.jsx("input",{type:"text",value:h?.path||"",onChange:f=>ga(l,{path:f.target.value},i),placeholder:"Görsel URL / yol",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`partner-upload-${i}-${l.index}`,type:"file",accept:"image/*",style:{display:"none"},onChange:async f=>{const F=f.target.files?.[0];if(!F)return;const H=await qe(F);H&&ga(l,{path:H},i),f.target.value=""}}),e.jsx("button",{type:"button",className:"btn-secondary",style:{padding:"8px 10px",fontSize:"12px"},onClick:()=>document.getElementById(`partner-upload-${i}-${l.index}`)?.click(),children:"Yüklə"}),e.jsx("button",{type:"button",className:"btn-secondary",style:{padding:"8px 10px",fontSize:"12px"},onClick:()=>{const f=fa(l,i);f&&Pi(i,f)},children:"Kitabxana"})]}):e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:xr.map(f=>{const F=(l.icon||"").toLowerCase()===f.toLowerCase();return e.jsxs("button",{type:"button",onClick:()=>Jt(l.index,"icon",f,i),style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"7px 10px",borderRadius:"8px",border:F?"1px solid #fb923c":"1px solid #e2e8f0",background:F?"#fff7ed":"#fff",color:F?"#c2410c":"#334155",fontSize:"12px",fontWeight:700},children:[Da(f,14),f]},`${l.index}-${f}`)})})]})]}),e.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"flex-end",marginTop:"2px"},children:[e.jsx("button",{title:"Yuxarı",onClick:()=>ha(l.index,"up",i),disabled:!u,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:u?"#334155":"#cbd5e1"},children:e.jsx(Ut,{size:14})}),e.jsx("button",{title:"Aşağı",onClick:()=>ha(l.index,"down",i),disabled:!p,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:p?"#334155":"#cbd5e1"},children:e.jsx(Ft,{size:14})}),e.jsx("button",{title:"Sil",onClick:()=>Hs(l.index,i),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(Se,{size:14})})]})]},`${i}-${l.index}`)})})]})},Ba=Ve.filter(t=>Ne(t.title,t.date,t.category,t.status,t.description)),Pa=je.filter(t=>Ne(t.title,t.date,t.location,t.category,t.status,t.description)),za=J.filter(t=>Ne(t.title,t.duration,t.youtubeUrl,t.videoId,t.created_at)),Dl=je.map(t=>({eventId:t.id,album:Te(t.title)})).filter((t,i,s)=>s.findIndex(l=>l.album===t.album)===i),Ml=Array.from(new Set([yi,...Dl.map(t=>t.album),...Ct.map(t=>Te(t.album)),Te(Ci),Te(typeof Ye.album=="string"?Ye.album:"")])).filter(t=>!!t.trim()).sort((t,i)=>t.localeCompare(i,"az")),wa=ki==="all"?"all":Te(ki),Ua=Ct.filter(t=>{const i=Te(t.album);return(wa==="all"||i===wa)&&Ne(t.title,t.url,i)}),Bl=()=>{ne({}),Ie({}),E.success("Gizlədilən bütün sahələr yenidən açıldı")};return e.jsxs("div",{className:"visual-editor fade-in",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("div",{className:"header-top-row",children:[e.jsx("div",{className:"header-info",children:e.jsxs("h1",{children:[e.jsx(ke,{size:20})," Admin Panel"]})}),e.jsxs("div",{className:"header-search-container",children:[e.jsx(Ns,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{placeholder:"Komponentləri və məzmunu axtar...",type:"text",value:me,onChange:t=>W(t.target.value),className:"header-search-input"})]}),e.jsxs("div",{className:"header-actions",children:[te==="extract"&&e.jsx("span",{className:"editor-lock-badge",title:"Geniş rejim məcburi aktivdir",children:"Geniş Rejim: Məcburi"}),te==="extract"&&e.jsx("button",{type:"button",className:"editor-secondary-btn",onClick:Bl,title:"Paneldə gizlədilən bütün bölmələri yenidən göstər",children:"Gizlədilənləri Aç"}),e.jsx("button",{className:`save-btn ${v?"saving":""}`,onClick:Tt,disabled:v,children:v?"Gözləyin...":e.jsxs(e.Fragment,{children:[e.jsx(ea,{size:16})," Saxla"]})})]})]}),e.jsxs("div",{className:"mode-switcher",children:[e.jsx("button",{className:`mode-btn ${te==="extract"?"active":""}`,onClick:()=>Me("extract"),children:"Ana Səhifə"}),e.jsx("button",{className:`mode-btn ${te==="events"?"active":""}`,onClick:()=>Me("events"),children:"Tədbirlər"}),e.jsx("button",{className:`mode-btn ${te==="event-management"?"active":""}`,onClick:()=>Me("event-management"),children:"Tedbir Yönetimi"}),e.jsx("button",{className:`mode-btn ${te==="news"?"active":""}`,onClick:()=>Me("news"),children:"Xəbərlər"}),e.jsx("button",{className:`mode-btn ${te==="drivers"?"active":""}`,onClick:()=>Me("drivers"),children:"Sürücülər"}),e.jsx("button",{className:`mode-btn ${te==="videos"?"active":""}`,onClick:()=>Me("videos"),children:"Videolar"}),e.jsx("button",{className:`mode-btn ${te==="photos"?"active":""}`,onClick:()=>Me("photos"),children:"Fotolar"})]}),te==="extract"&&e.jsx("div",{className:"editor-view-note",children:"Geniş rejim məcburi aktivdir: texniki ID, sıralama, silmə və gizlətmə alətləri hər zaman görünür."})]}),te==="event-management"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsx("div",{className:"list-header",style:{marginBottom:"1rem"},children:e.jsx("h3",{children:"Tedbir Yönetimi"})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[e.jsxs("button",{className:`page-nav-item ${Ii==="modal"?"active":""}`,onClick:()=>aa("modal"),style:{width:"100%",textAlign:"left"},children:[e.jsx($t,{size:14})," Yarışda İştirak"]}),e.jsxs("button",{className:`page-nav-item ${Ii==="pilot"?"active":""}`,onClick:()=>aa("pilot"),style:{width:"100%",textAlign:"left"},children:[e.jsx(_t,{size:14})," Pilot Qeydiyyatı"]})]})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(qt,{size:22})," Tedbir Yönetimi"]}),e.jsx("p",{style:{color:"#64748b"},children:"Tədbir modalı və pilot qeydiyyat formu mətnlərini buradan dəyişin."})]}),Ii==="modal"?e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"MODAL BAŞLIĞI"}),e.jsx("input",{type:"text",value:se("MODAL_TITLE","YARIŞDA İŞTİRAK"),onChange:t=>fe("MODAL_TITLE","İştirak Modal Başlığı",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PİLOT KART BAŞLIĞI"}),e.jsx("input",{type:"text",value:se("JOIN_AS_PILOT","PİLOT KİMİ QATIL"),onChange:t=>fe("JOIN_AS_PILOT","Pilot Kart Başlığı",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PİLOT KART TƏSVİRİ"}),e.jsx("input",{type:"text",value:se("JOIN_PILOT_DESC","TEXNİKİ REQLAMENTƏ UYĞUN OLARAQ"),onChange:t=>fe("JOIN_PILOT_DESC","Pilot Kart Təsviri",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"İZLƏYİCİ KART BAŞLIĞI"}),e.jsx("input",{type:"text",value:se("JOIN_AS_SPECTATOR","İZLƏYİCİ KİMİ QATIL"),onChange:t=>fe("JOIN_AS_SPECTATOR","İzləyici Kart Başlığı",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"İZLƏYİCİ KART TƏSVİRİ"}),e.jsx("input",{type:"text",value:se("JOIN_SPECTATOR_DESC","YARIŞI TRİBUNADAN İZLƏ"),onChange:t=>fe("JOIN_SPECTATOR_DESC","İzləyici Kart Təsviri",t.target.value)})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"İZLƏYİCİ YÖNLƏNDİRMƏ URL"}),e.jsx("input",{type:"text",value:se("SPECTATOR_TICKET_URL","https://iticket.az"),onChange:t=>Ll("SPECTATOR_TICKET_URL","İzləyici Bilet Linki",t.target.value,t.target.value),placeholder:"https://..."})]})]}):e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"GERİ DÜYMƏSİ"}),e.jsx("input",{type:"text",value:se("BTN_BACK","GERİ QAYIT"),onChange:t=>fe("BTN_BACK","Geri Düyməsi",t.target.value)})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"PİLOT QEYDİYYATI BAŞLIĞI"}),e.jsx("input",{type:"text",value:se("PILOT_REG_TITLE","PİLOT QEYDİYYATI"),onChange:t=>fe("PILOT_REG_TITLE","Pilot Qeydiyyatı Başlığı",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AD VƏ SOYAD LABEL"}),e.jsx("input",{type:"text",value:se("FIELD_NAME","AD VƏ SOYAD"),onChange:t=>fe("FIELD_NAME","Ad Soyad Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AD VƏ SOYAD PLACEHOLDER"}),e.jsx("input",{type:"text",value:se("PLACEHOLDER_NAME","Tam ad daxil edin"),onChange:t=>fe("PLACEHOLDER_NAME","Ad Soyad Placeholder",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TELEFON LABEL"}),e.jsx("input",{type:"text",value:se("FIELD_PHONE","TELEFON"),onChange:t=>fe("FIELD_PHONE","Telefon Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TELEFON PLACEHOLDER"}),e.jsx("input",{type:"text",value:se("PLACEHOLDER_PHONE","+994 -- --- -- --"),onChange:t=>fe("PLACEHOLDER_PHONE","Telefon Placeholder",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AVTOMOBİL LABEL"}),e.jsx("input",{type:"text",value:se("FIELD_CAR_MODEL","AVTOMOBİLİN MARKA/MODELİ"),onChange:t=>fe("FIELD_CAR_MODEL","Avtomobil Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AVTOMOBİL PLACEHOLDER"}),e.jsx("input",{type:"text",value:se("PLACEHOLDER_CAR","Məs: Toyota LC 105"),onChange:t=>fe("PLACEHOLDER_CAR","Avtomobil Placeholder",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TƏKƏR LABEL"}),e.jsx("input",{type:"text",value:se("FIELD_TIRE_SIZE","TƏKƏR ÖLÇÜSÜ"),onChange:t=>fe("FIELD_TIRE_SIZE","Təkər Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TƏKƏR PLACEHOLDER"}),e.jsx("input",{type:"text",value:se("PLACEHOLDER_TIRE","Məs: 35 DÜYM"),onChange:t=>fe("PLACEHOLDER_TIRE","Təkər Placeholder",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MÜHƏRRİK LABEL"}),e.jsx("input",{type:"text",value:se("FIELD_ENGINE","MÜHƏRRİK HƏCMİ"),onChange:t=>fe("FIELD_ENGINE","Mühərrik Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MÜHƏRRİK PLACEHOLDER"}),e.jsx("input",{type:"text",value:se("PLACEHOLDER_ENGINE","Məs: 4.4L"),onChange:t=>fe("PLACEHOLDER_ENGINE","Mühərrik Placeholder",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KLUB LABEL"}),e.jsx("input",{type:"text",value:se("FIELD_CLUB","TƏMSİL ETDİYİ KLUB"),onChange:t=>fe("FIELD_CLUB","Klub Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TAMAMLAMA DÜYMƏSİ"}),e.jsx("input",{type:"text",value:se("BTN_COMPLETE_REG","QEYDİYYATI TAMAMLA"),onChange:t=>fe("BTN_COMPLETE_REG","Qeydiyyatı Tamamla Düyməsi",t.target.value)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Tt,children:"Yadda Saxla"})})]})})]}):te==="news"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Xəbərlər"}),e.jsx("button",{className:"add-section-btn",onClick:sl,children:e.jsx(pe,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:Ba.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:lt?"Axtarışa uyğun xəbər tapılmadı.":'Hələ heç bir xəbər yoxdur. Yeni xəbər yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):Ba.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${c===t.id?"active":""}`,onClick:()=>al(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(_t,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:i=>hl(t.id,i),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(Se,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:c!==null&&D.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(_t,{size:22})," Xəbəri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[D.title," // ID: ",D.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"BAŞLIQ (AZ)"}),e.jsx("input",{type:"text",value:D.title,onChange:t=>pt("title",t.target.value,D.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:D.date,onChange:t=>pt("date",t.target.value,D.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:D.category,onChange:t=>pt("category",t.target.value,D.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:D.status,onChange:t=>pt("status",t.target.value,D.id),children:[e.jsx("option",{value:"draft",children:"Qaralama"}),e.jsx("option",{value:"published",children:"Dərc edilib"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:D.img?e.jsx("img",{src:D.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:D.img,onChange:t=>pt("img",t.target.value,D.id)}),e.jsx("input",{type:"file",id:"news-full-img",style:{display:"none"},onChange:async t=>{const i=t.target.files?.[0];if(i){const s=await qe(i);s&&pt("img",s,D.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("news-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"MƏZMUN"}),e.jsx(fi,{id:"news-full-desc",value:hi(D.description||""),onChange:t=>pt("description",t,D.id)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Tt,children:"Yadda Saxla"})}),e.jsxs("div",{className:"edit-grid grid-2",style:{marginTop:"1.25rem"},children:[e.jsxs("div",{className:"form-group full-span",style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"14px",background:"#f8fafc"},children:[e.jsx("label",{style:{color:"#0f172a"},children:"SECTION 1: TƏDBİRƏ QOŞUL DÜYMƏSİ"}),e.jsx("input",{type:"text",value:se("BTN_JOIN_EVENT","TƏDBİRƏ QOŞUL"),onChange:t=>{$e<0||Oe($e,"BTN_JOIN_EVENT","value",t.target.value)},placeholder:"TƏDBİRƏ QOŞUL"}),e.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"#64748b"},children:"Tədbir detalında böyük narıncı düymənin mətnini buradan dəyişin."})]}),e.jsxs("div",{className:"form-group full-span",style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"14px",background:"#f8fafc"},children:[e.jsx("label",{style:{color:"#0f172a"},children:"SECTION 2: SUALINIZ VAR KARTI"}),e.jsxs("div",{style:{display:"grid",gap:"10px"},children:[e.jsx("input",{type:"text",value:se("SIDEBAR_QUESTION_TITLE","SUALINIZ VAR?"),onChange:t=>{$e<0||Oe($e,"SIDEBAR_QUESTION_TITLE","value",t.target.value)},placeholder:"SUALINIZ VAR?"}),e.jsx("textarea",{rows:3,value:se("SIDEBAR_QUESTION_DESC","YARIŞLA BAĞLI ƏLAVƏ SUALLARINIZ ÜÇÜN BİZİMLƏ ƏLAQƏ SAXLAYIN."),onChange:t=>{$e<0||Oe($e,"SIDEBAR_QUESTION_DESC","value",t.target.value)},placeholder:"Kart təsviri",style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:1.4,resize:"vertical"}}),e.jsx("input",{type:"text",value:se("BTN_CONTACT","ƏLAQƏ"),onChange:t=>{$e<0||Oe($e,"BTN_CONTACT","value",t.target.value)},placeholder:"ƏLAQƏ"})]}),e.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"#64748b"},children:"Sağ tərəfdəki “Sualınız var?” kartının başlıq, təsvir və düymə mətnləri."})]})]})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(_t,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən xəbər seçin və ya yeni yaradın."})]})})]}):te==="events"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Tədbirlər"}),e.jsx("button",{className:"add-section-btn",onClick:tl,children:e.jsx(pe,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:Pa.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:lt?"Axtarışa uyğun tədbir tapılmadı.":'Hələ heç bir tədbir yoxdur. Yeni tədbir yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):Pa.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${ze===t.id?"active":""}`,onClick:()=>el(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(qt,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:i=>il(t.id,i),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(Se,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:ze!==null&&Q.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(qt,{size:22})," Tədbiri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[Q.title," // ID: ",Q.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TƏDBİR ADI"}),e.jsx("input",{type:"text",value:Q.title,onChange:t=>_e("title",t.target.value,Q.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:Q.date,onChange:t=>_e("date",t.target.value,Q.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MƏKAN"}),e.jsx("input",{type:"text",value:Q.location,onChange:t=>_e("location",t.target.value,Q.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:Q.category,onChange:t=>_e("category",t.target.value,Q.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:Q.status,onChange:t=>_e("status",ts(t.target.value,Q.date),Q.id),children:[e.jsx("option",{value:"planned",children:"Gələcək"}),e.jsx("option",{value:"past",children:"Keçmiş"})]})]}),Q.status==="past"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"COVER ŞƏKİLİ"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:Q.img?e.jsx("img",{src:Q.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:Q.img,onChange:t=>_e("img",t.target.value,Q.id),placeholder:"Cover şəkil URL"}),e.jsx("input",{type:"file",id:"event-past-img",style:{display:"none"},onChange:async t=>{const i=t.target.files?.[0];if(i){const s=await qe(i);s&&_e("img",s,Q.id)}}}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("event-past-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"YOUTUBE LİNKİ"}),e.jsx("input",{type:"text",value:Q.youtubeUrl||"",onChange:t=>_e("youtubeUrl",t.target.value,Q.id),placeholder:"https://www.youtube.com/watch?v=..."}),e.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"#64748b"},children:"Keçmiş tədbir üçün ad, cover və YouTube linki kifayətdir."})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:Q.img?e.jsx("img",{src:Q.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:Q.img,onChange:t=>_e("img",t.target.value,Q.id)}),e.jsx("input",{type:"file",id:"event-full-img",style:{display:"none"},onChange:async t=>{const i=t.target.files?.[0];if(i){const s=await qe(i);s&&_e("img",s,Q.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("event-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"TƏSVİR"}),e.jsx(fi,{id:"event-full-desc",value:hi(Q.description||""),onChange:t=>_e("description",t,Q.id)})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"PDF URL"}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:Q.pdfUrl||"",onChange:t=>_e("pdfUrl",t.target.value,Q.id),placeholder:"https://.../rules.pdf"}),e.jsx("input",{type:"file",id:"event-full-pdf",accept:".pdf,application/pdf",style:{display:"none"},onChange:async t=>{const i=t.target.files?.[0];if(!i)return;if(i.type!=="application/pdf"&&!i.name.toLowerCase().endsWith(".pdf")){E.error("Yalnız PDF faylı yüklənə bilər");return}const s=await zi(i,{loadingText:"PDF yüklənir...",successText:"PDF uğurla yükləndi",errorText:"PDF yüklənərkən xəta baş verdi"});s&&_e("pdfUrl",s,Q.id),t.target.value=""}}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("event-full-pdf")?.click(),className:"btn-secondary",children:"PDF Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"QAYDALAR"}),e.jsx(fi,{id:"event-full-rules",value:hi(Q.rules||""),onChange:t=>_e("rules",t,Q.id)})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Tt,children:"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(qt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən tədbir seçin və ya yeni yaradın."})]})})]}):te==="drivers"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Kateqoriyalar"}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"add-section-btn",onClick:Sl,title:"Kateqoriya əlavə et",children:e.jsx(pe,{size:16})}),e.jsx("button",{className:"delete-section-btn",onClick:Tl,title:"Seçilmiş kateqoriyanı sil",style:{background:"none",border:"none",color:"#ff4d4f",cursor:"pointer",padding:"4px"},children:e.jsx(Se,{size:16})})]})]}),e.jsx("select",{value:xe||"",onChange:t=>fl(t.target.value),style:{width:"100%",padding:"10px",marginBottom:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"},children:Be.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),xe&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"11px",fontWeight:800,color:"#64748b",textTransform:"uppercase"},children:"Kateqoriya adı"}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:e.jsx("input",{type:"text",value:Be.find(t=>t.id===xe)?.name||"",onChange:t=>El(t.target.value),placeholder:"Kateqoriya adı",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"}})})]}),e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Sürücülər"}),e.jsx("button",{className:"add-section-btn",onClick:bl,children:e.jsx(pe,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 400px)"},children:xe&&(Be.find(t=>t.id===xe)?.drivers||[]).filter(t=>Ne(t.name,t.license,t.team,t.rank,t.points,t.wins)).length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:lt?"Axtarışa uyğun sürücü tapılmadı.":"Bu kateqoriyada sürücü yoxdur."}):(Be.find(t=>t.id===xe)?.drivers||[]).filter(t=>Ne(t.name,t.license,t.team,t.rank,t.points,t.wins)).map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${vt===t.id?"active":""}`,onClick:()=>gl(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsxs("span",{style:{fontWeight:"900",color:"var(--primary)",marginRight:"8px"},children:["#",t.rank]})," ",t.name]}),e.jsx("button",{className:"delete-section-btn",onClick:i=>{i.stopPropagation(),vl(t.id)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(Se,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:vt!==null&&Ce.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:Ce.name}),e.jsxs("p",{style:{color:"#64748b"},children:[Be.find(t=>t.id===xe)?.name," // RANK #",Ce.rank]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"SÜRÜCÜNÜN ADI VƏ SOYADI"}),e.jsx("input",{type:"text",value:Ce.name,onChange:t=>mt("name",t.target.value),placeholder:"Məs: Əli Məmmədov",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARIŞ SIRALAMASI (RANK)"}),e.jsx("input",{type:"number",value:Ce.rank,readOnly:!0,style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",background:"#f8fafc",color:"#94a3b8",cursor:"not-allowed"}}),e.jsx("p",{style:{fontSize:"11px",color:"#3b82f6",marginTop:"6px",fontWeight:"bold"},children:"ℹ️ Bu sıra ballara görə avtomatik hesablanır"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT LİSENZİYASI"}),e.jsx("input",{type:"text",value:Ce.license,onChange:t=>mt("license",t.target.value),placeholder:"Məs: A-SİNFİ",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"TƏMSİL ETDİYİ KOMANDA"}),e.jsx("input",{type:"text",value:Ce.team,onChange:t=>mt("team",t.target.value),placeholder:"Məs: FORSAJ RACING",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"QALİBİYYƏT (WINS)"}),e.jsx("input",{type:"number",value:Ce.wins,onChange:t=>mt("wins",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"XAL (POINTS)"}),e.jsx("input",{type:"number",value:Ce.points,onChange:t=>mt("points",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT ŞƏKLİ"}),e.jsxs("div",{className:"input-row",children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",overflow:"hidden",background:"#f1f5f9",border:"2px solid var(--primary)"},children:Ce.img?e.jsx("img",{src:Ce.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ue,{size:24,style:{opacity:.2}})})}),e.jsxs("div",{className:"input-row",style:{flex:1},children:[e.jsx("input",{type:"text",value:Ce.img||"",onChange:t=>mt("img",t.target.value),placeholder:"Şəkil URL və ya yol...",style:{flex:1,padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}}),e.jsx("input",{type:"file",id:"driver-img-upload",style:{display:"none"},accept:"image/*",onChange:async t=>{const i=t.target.files?.[0];if(i){const s=await qe(i);s&&mt("img",s)}}}),e.jsx("button",{onClick:()=>document.getElementById("driver-img-upload")?.click(),style:{background:"#f1f5f9",border:"1px solid #e2e8f0",padding:"12px",borderRadius:"8px",cursor:"pointer"},children:"Yüklə"})]})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:yl,disabled:v,children:v?"Gözləyin...":"Sürücünü Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Kt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən sürücü seçin."})]})})]}):te==="videos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Videolar"}),e.jsx("button",{className:"add-section-btn",onClick:ml,children:e.jsx(pe,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:za.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:lt?"Axtarışa uyğun video tapılmadı.":"Heç bir video əlavə edilməyib."}):za.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${le===t.id?"active":""}`,onClick:()=>ja(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"16px",background:"#333",borderRadius:"2px",overflow:"hidden"},children:t.thumbnail&&e.jsx("img",{src:t.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title})]}),e.jsx("button",{className:"delete-section-btn",onClick:i=>{i.stopPropagation(),xl(t.id,i)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(Se,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:le!==null&&De.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Video Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[De.title," // ID: ",De.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO BAŞLIĞI"}),e.jsx("input",{type:"text",value:De.title,onChange:t=>ai("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YOUTUBE URL"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(ke,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{type:"text",value:De.youtubeUrl,onChange:t=>ai("youtubeUrl",t.target.value),placeholder:"https://www.youtube.com/watch?v=...",style:{width:"100%",padding:"12px 12px 12px 40px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsx("p",{style:{fontSize:"11px",color:"#64748b",marginTop:"6px"},children:"YouTube linkini daxil etdikdə şəkil və ID avtomatik təyin olunacaq."})]}),e.jsxs("div",{className:"edit-grid grid-2-compact",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"MÜDDƏT (MƏS: 05:20)"}),e.jsx("input",{type:"text",value:De.duration,onChange:t=>ai("duration",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO ID (AVTOMATİK)"}),e.jsx("input",{type:"text",value:De.videoId,readOnly:!0,style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",background:"#f8fafc",color:"#94a3b8"}})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARADILMA TARİXİ"}),e.jsx("input",{type:"text",value:De.created_at||"",onChange:t=>ai("created_at",t.target.value),placeholder:"2026-02-16T10:30:00.000Z",style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ÖNİZLƏMƏ (THUMBNAIL)"}),e.jsxs("div",{style:{width:"100%",aspectRatio:"16/9",borderRadius:"12px",overflow:"hidden",background:"#000",border:"1px solid #e2e8f0",position:"relative"},children:[De.thumbnail?e.jsx("img",{src:De.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(Hi,{size:48,style:{opacity:.1,color:"white"}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"YouTube linki daxil edin"})]}),De.videoId&&e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.3)",cursor:"pointer"},onClick:()=>window.open(De.youtubeUrl,"_blank"),children:e.jsx("div",{style:{background:"#FF4D00",color:"white",padding:"12px",borderRadius:"50%",boxShadow:"0 0 20px rgba(255,77,0,0.4)"},children:e.jsx(sn,{size:24,fill:"currentColor"})})})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Tt,disabled:v,children:v?"Gözləyin...":"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Hi,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən video seçin və ya yeni əlavə edin."})]})})]}):te==="photos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{marginBottom:"1rem"},children:[e.jsx("h3",{style:{marginBottom:"0.75rem"},children:"Foto Arxiv"}),e.jsxs("div",{style:{display:"grid",gap:"8px"},children:[e.jsx("label",{style:{fontSize:"11px",fontWeight:700,color:"#64748b"},children:"EVENT ALBOMU"}),e.jsxs("select",{value:bt,onChange:t=>rl(t.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:[e.jsx("option",{value:"",children:"Event seçilməyib"}),je.map(t=>e.jsx("option",{value:String(t.id),children:t.title},t.id))]}),e.jsx("label",{style:{fontSize:"11px",fontWeight:700,color:"#64748b",marginTop:"4px"},children:"YENİ ALBOM"}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("input",{type:"text",value:la,onChange:t=>na(t.target.value),placeholder:"Məs: Bakı Ralli 2026",style:{flex:1,minWidth:0,padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("button",{type:"button",onClick:nl,style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",background:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:700},children:"Seç"})]}),e.jsx("label",{style:{fontSize:"11px",fontWeight:700,color:"#64748b",marginTop:"4px"},children:"ALBOM FİLTRİ"}),e.jsxs("select",{value:ki,onChange:t=>Dt(t.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:[e.jsx("option",{value:"all",children:"Bütün albomlar"}),Ml.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px"},children:[e.jsxs("button",{className:"add-section-btn",onClick:ol,title:"Yeni şəkil əlavə et",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx(pe,{size:14}),"Yeni"]}),e.jsx("button",{type:"button",onClick:()=>ra.current?.click(),style:{flex:1,padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",background:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:700},children:"Çoxlu Yüklə"}),e.jsx("input",{ref:ra,type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:pl})]})]})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},children:Ua.length===0?e.jsx("p",{style:{padding:"20px",color:"#94a3b8",textAlign:"center",fontSize:"13px"},children:lt?"Axtarışa uyğun şəkil tapılmadı.":"Şəkil yoxdur"}):Ua.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${ct===t.id?"active":""}`,onClick:()=>ll(t.id),style:{width:"100%",paddingRight:"40px",display:"flex",alignItems:"center",gap:"8px",textAlign:"left"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",overflow:"hidden",flexShrink:0,background:"#eee"},children:t.url?e.jsx("img",{src:t.url,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(Ue,{size:12,style:{margin:"6px",opacity:.3}})}),e.jsxs("div",{style:{minWidth:0,display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title}),e.jsx("span",{style:{fontSize:"10px",color:"#94a3b8",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Te(t.album)})]})]}),e.jsx("button",{className:"delete-section-btn",onClick:i=>dl(t.id,i),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(Se,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:ct!==null&&Ye.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Şəkil Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[Ye.title," // ID: ",Ye.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ŞƏKİL BAŞLIĞI"}),e.jsx("input",{type:"text",value:Ye.title,onChange:t=>si("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ALBOM"}),e.jsx("input",{type:"text",value:Ye.album||"",onChange:t=>si("album",t.target.value),placeholder:"Məs: Bakı Ralli 2026",style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"EVENT BAĞLANTISI (İSTƏYƏ BAĞLI)"}),e.jsxs("select",{value:bt,onChange:t=>cl(t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"},children:[e.jsx("option",{value:"",children:"Event seçilməyib"}),je.map(t=>e.jsx("option",{value:String(t.id),children:t.title},t.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"FOTO"}),e.jsxs("div",{style:{width:"100%",minHeight:"300px",borderRadius:"12px",overflow:"hidden",background:"#f8fafc",border:"1px dashed #cbd5e1",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[Ye.url?e.jsx("img",{src:Ye.url,alt:"",style:{maxWidth:"100%",maxHeight:"400px",objectFit:"contain"}}):e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(Ue,{size:48,style:{opacity:.1}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"Şəkil seçilməyib"})]}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem"},children:[e.jsx("input",{type:"file",id:"gallery-photo-upload",style:{display:"none"},accept:"image/*",onChange:ul}),e.jsxs("button",{onClick:()=>document.getElementById("gallery-photo-upload")?.click(),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(pe,{size:18})," Şəkil Yüklə"]}),e.jsx("input",{type:"text",value:Ye.url||"",onChange:t=>si("url",t.target.value),placeholder:"URL və ya yol...",style:{padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",width:"250px"}})]})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Tt,disabled:v,children:v?"Gözləyin...":"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Ue,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən şəkil seçin və ya yeni əlavə edin."})]})})]}):e.jsx("div",{className:"editor-layout",children:e.jsx("main",{className:"editor-canvas",style:{width:"100%"},children:Al?e.jsxs("div",{className:"edit-fields",style:{width:"100%"},children:[Ra&&e.jsx("div",{className:"canvas-header",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"Ana Səhifə Blokları"}),e.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:_r.map(t=>e.jsx("button",{type:"button",className:`mode-btn ${oa===t.id?"active":""}`,onClick:()=>Mt(t.id),style:{minWidth:"120px"},children:t.label},t.id))})]})}),Ae==="abouttab"&&e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"HAQQIMIZDA"})}),_a.length===0&&e.jsx("div",{className:"empty-fields-tip",style:{textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Seçilən sekmədə göstəriləcək məzmun tapılmadı."}),_a.map(({page:t,pageIdx:i})=>{const s=t.id==="marquee",l=s&&!!q[t.id],r=(t.sections||[]).filter(o=>rs(o)||t.id==="about"&&xt(o.id)||t.id==="partners"||t.id==="rulespage"&&qi.test(o.id)||t.id==="rulespage"&&o.id.startsWith("RULES_")?!1:Ne(o.id,o.label,o.value,o.url)).sort((o,f)=>ye(o.order,0)-ye(f.order,0)),u=(t.images||[]).filter(o=>Ne(o.id,o.alt,o.path)).sort((o,f)=>ye(o.order,0)-ye(f.order,0)),p=t.id==="about"?(()=>{const o=new Map;return(t.sections||[]).forEach(f=>{if(!xt(f.id))return;const F=ns(f.id)||f.id,H=o.get(F)||{label:"",value:""};f.id.startsWith(Je)&&(H.label=f.value||""),f.id.startsWith(et)&&(H.value=f.value||""),o.set(F,H)}),Array.from(o.entries()).sort(([f],[F])=>f.localeCompare(F,void 0,{numeric:!0})).map(([f,F])=>({suffix:f,...F})).filter(f=>Ne(f.suffix,f.label,f.value))})():[],x=t.id==="rulespage"?Ke(t).filter(o=>Ne(o.id,o.title,o.icon,o.docName,o.docButton,o.docUrl,...(o.items||[]).flatMap(f=>[f.title,f.desc]))):[],h=t.id==="partners"?St(t).filter(o=>{const f=at(o),F=(t.images||[]).find(H=>H.id===f);return Ne(o.index,o.name,o.tag,o.icon,o.useImage,o.imageId,F?.path,F?.alt)}):[];return lt&&r.length===0&&u.length===0&&p.length===0&&x.length===0&&h.length===0?null:e.jsxs("div",{className:"field-group",children:[e.jsx("div",{className:"canvas-header",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsx("h2",{style:{fontSize:"1.05rem",fontWeight:800,color:"var(--text-main)"},children:Yt[t.id]||t.title}),bi(t.id)&&e.jsx("p",{className:"page-help-note",children:bi(t.id)})]})}),s&&e.jsxs("div",{className:"marquee-control-panel",children:[e.jsxs("div",{className:"marquee-control-item",children:[e.jsxs("div",{className:"marquee-control-copy",children:[e.jsx("div",{className:"marquee-control-title",children:"Marquee aktivdir"}),e.jsx("div",{className:"marquee-control-desc",children:"Frontenddə sürüşən yazı göstərilsin"})]}),e.jsxs("label",{className:"marquee-switch","aria-label":"Marquee aktivdir",children:[e.jsx("input",{type:"checkbox",checked:t.active!==!1,onChange:o=>{const f=[...a];f[i]&&(f[i].active=o.target.checked,n(f))}}),e.jsx("span",{className:"marquee-switch-slider"})]})]}),e.jsxs("div",{className:"marquee-control-item",children:[e.jsxs("div",{className:"marquee-control-copy",children:[e.jsx("div",{className:"marquee-control-title",children:"Paneldə gizlə"}),e.jsx("div",{className:"marquee-control-desc",children:"Bu kartı editorda daralt və yadda saxla"})]}),e.jsxs("label",{className:"marquee-switch","aria-label":"Paneldə gizlə",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:o=>{ne(f=>({...f,[t.id]:o.target.checked}))}}),e.jsx("span",{className:"marquee-switch-slider"})]})]})]}),(t.id!=="marquee"||!l)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.9rem"},children:[t.id==="about"&&e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:800},children:"Statistikalar"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>Di(i),children:[e.jsx(pe,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:p.map(o=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:o.label,onChange:f=>Zt(o.suffix,"label",f.target.value,i),placeholder:"Statistika adı",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:o.value,onChange:f=>Zt(o.suffix,"value",f.target.value,i),placeholder:"Dəyər",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{type:"button",onClick:()=>ma(o.suffix,i),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(Se,{size:14})})]},o.suffix))})]}),t.id==="rulespage"&&e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:800},children:"Qaydalar Sekmələri"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>va(i),children:[e.jsx(pe,{size:14})," Yeni Sekmə"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:x.map((o,f)=>{const F=f>0,H=f<x.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"10px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px 160px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:o.title,onChange:Y=>Pe(f,"title",Y.target.value,i),placeholder:"Sekmə başlığı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("input",{type:"text",value:o.id,onChange:Y=>Pe(f,"id",Y.target.value,i),placeholder:"Sekmə ID",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("select",{value:o.icon,onChange:Y=>Pe(f,"icon",Y.target.value,i),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:Ki.map(Y=>e.jsx("option",{value:Y,children:Y},Y))}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{type:"button",title:"Yuxarı",onClick:()=>ti(f,"up",i),disabled:!F,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:F?"#334155":"#cbd5e1"},children:e.jsx(Ut,{size:14})}),e.jsx("button",{type:"button",title:"Aşağı",onClick:()=>ti(f,"down",i),disabled:!H,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:H?"#334155":"#cbd5e1"},children:e.jsx(Ft,{size:14})}),e.jsx("button",{type:"button",title:"Sekməni sil",onClick:()=>ya(f,i),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(Se,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:o.docName||"",onChange:Y=>Pe(f,"docName",Y.target.value,i),placeholder:"Sənəd adı (Məs: PILOT_PROTOKOLU.PDF)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:o.docButton||"",onChange:Y=>Pe(f,"docButton",Y.target.value,i),placeholder:"Düymə mətni (Məs: PDF YÜKLƏ)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(ke,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:o.docUrl||"",onChange:Y=>Pe(f,"docUrl",Y.target.value,i),placeholder:"Sənəd linki (Məs: /uploads/pilot.pdf və ya https://...)",style:{width:"100%",padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`rules-doc-upload-${i}-${f}`,type:"file",accept:".pdf,application/pdf",style:{display:"none"},onChange:async Y=>{const ae=Y.target.files?.[0];ae&&(await Ea(ae,f,i),Y.target.value="")}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`rules-doc-upload-${i}-${f}`)?.click(),children:"PDF Yüklə"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(o.items||[]).map((Y,ae)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:Y.title,onChange:ve=>ii(f,ae,"title",ve.target.value,i),placeholder:"Maddə başlığı",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("button",{type:"button",title:"Maddəni sil",onClick:()=>Ta(f,ae,i),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(Se,{size:14})})]}),e.jsx("textarea",{rows:3,value:Y.desc,onChange:ve=>ii(f,ae,"desc",ve.target.value,i),placeholder:"Maddə təsviri",style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",lineHeight:1.4,resize:"vertical"}})]},`rules-tab-item-group-${o.index}-${Y.index}`)),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>Sa(f,i),children:[e.jsx(pe,{size:14})," Maddə Əlavə Et"]})]})]},`rules-tab-group-${o.index}-${o.id}`)})})]}),t.id==="partners"&&Ma(t,i),r.map((o,f)=>ni(o,f,i,t))]}),t.id!=="partners"&&e.jsxs("div",{style:{marginTop:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:700},children:"Şəkillər"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>{const o=[...a],f=o[i];f&&(f.images.push({id:`img-${f.images.length}-${Date.now()}`,path:"",alt:"",type:"local",order:f.images.length}),n(o))},children:[e.jsx(pe,{size:14})," Yeni Şəkil"]})]}),e.jsxs("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1rem"},children:[u.length===0&&e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Bu bölmədə şəkil yoxdur."}),u.map(o=>e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",padding:"0.75rem",background:"#fff"},children:[e.jsx("div",{style:{height:"120px",background:"#f8fafc",borderRadius:"8px",marginBottom:"8px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:o.path?e.jsx("img",{src:o.path,alt:o.alt||o.id,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{fontSize:"11px",color:"#94a3b8"},children:"Önizləmə yoxdur"})}),e.jsx("input",{type:"text",value:o.path,placeholder:"Tam şəkil linki",onChange:f=>{const F=[...a],H=F[i];if(!H)return;const Y=H.images.findIndex(ae=>ae.id===o.id);Y!==-1&&(H.images[Y].path=f.target.value,n(F))},style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",marginBottom:"8px"}}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{id:`group-file-up-${t.id}-${o.id}`,type:"file",accept:"image/*",style:{display:"none"},onChange:async f=>{const F=f.target.files?.[0];if(!F)return;const H=await qe(F);if(!H)return;const Y=[...a],ae=Y[i];if(!ae)return;const ve=ae.images.findIndex(nt=>nt.id===o.id);ve!==-1&&(ae.images[ve].path=H,ae.images[ve].type="local",n(Y))}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`group-file-up-${t.id}-${o.id}`)?.click(),style:{fontSize:"11px",padding:"6px 10px"},children:"Fayldan yüklə"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>Pi(i,o.id),style:{fontSize:"11px",padding:"6px 10px"},children:"Kitabxanadan seç"})]}),e.jsx("input",{type:"text",value:o.alt,placeholder:"Alt mətni",onChange:f=>ca(i,o.id,f.target.value),style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px"}})]},`${t.id}-${o.id}`))]})]})]}),l&&e.jsx("div",{className:"empty-fields-tip",style:{textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Marquee bölməsi paneldə gizlədildi. Yuxarıdakı checkbox ilə geri aça bilərsiniz."})]},t.id)})]}):K?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"canvas-header",children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:Yt[K.id]||K.title}),bi(K.id)&&e.jsx("p",{className:"page-help-note",children:bi(K.id)})]}),e.jsxs("div",{className:"canvas-actions",children:[K.id==="about"&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>Di(),style:{background:"#f5f3ff",color:"#7c3aed",border:"1px solid #ddd6fe"},children:[e.jsx(Kt,{size:14})," Statistika Əlavə Et"]}),(K.id==="about"||K.id==="values")&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>xa(),style:{background:"#f0fdf4",color:"#16a34a",border:"1px solid #bbf7d0"},children:[e.jsx(pe,{size:14})," Yeni Dəyər Əlavə Et"]}),e.jsx("div",{style:{width:"1px",height:"24px",background:"#e2e8f0",margin:"0 4px"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"#f8fafc",padding:"4px 12px",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:800,color:"#64748b"},children:"VƏZİYYƏT:"}),e.jsx("button",{onClick:()=>{const t=[...a];t[d].active=K?.active===!1,n(t),E.success(t[d].active?"Bölmə aktivləşdirildi":"Bölmə deaktiv edildi")},style:{width:"36px",height:"18px",borderRadius:"9px",background:K?.active!==!1?"#10b981":"#cbd5e1",position:"relative",cursor:"pointer",border:"none",transition:"background 0.3s"},children:e.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:K?.active!==!1?"20px":"2px",transition:"left 0.3s"}})})]})]})]}),e.jsxs("div",{className:"edit-fields",children:[K.id==="about"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Kt,{size:16})," Statistikalar"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Di(),children:[e.jsx(pe,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Ia.length>0?Ia.map(t=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"10px",background:"#fff"},children:[e.jsx("input",{type:"text",value:t.label,onChange:i=>Zt(t.suffix,"label",i.target.value),placeholder:"Statistika adı (Məs: PİLOTLAR)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:t.value,onChange:i=>Zt(t.suffix,"value",i.target.value),placeholder:"Dəyər (Məs: 140+)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{onClick:()=>ma(t.suffix),title:"Statistikanı sil",style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(Se,{size:14})})]},t.suffix)):e.jsx("div",{style:{padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:me?"Axtarışa uyğun statistika tapılmadı.":'Hələ statistika yoxdur. "Yeni Statistika" ilə əlavə edin.'})})]}),(K.id==="about"||K.id==="values")&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Ei,{size:16})," Əsas Dəyərlər"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>xa(),children:[e.jsx(pe,{size:14})," Yeni Dəyər"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Oa.length>0?Oa.map(t=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"12px",background:"#fff",display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"8px"},children:[e.jsxs("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:700},children:["Dəyər ID: ",t.suffix]}),e.jsx("button",{title:"Dəyəri sil",onClick:()=>$s(t.suffix),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"34px",height:"34px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(Se,{size:14})})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(54px, 1fr))",gap:"8px"},children:is.map(i=>{const s=Yi[i],l=t.icon===i;return e.jsx("button",{type:"button",title:i,onClick:()=>Mi(t.suffix,"icon",i),style:{height:"44px",border:l?"1px solid #f97316":"1px solid #e2e8f0",borderRadius:"10px",background:l?"#fff7ed":"#fff",color:l?"#ea580c":"#475569",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(s,{size:18})},`core-${t.suffix}-${i}`)})}),e.jsx("input",{type:"text",value:t.title,onChange:i=>Mi(t.suffix,"title",i.target.value),placeholder:"Dəyər başlığı (Məs: TƏHLÜKƏSİZLİK)",style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("textarea",{rows:3,value:t.desc,onChange:i=>Mi(t.suffix,"desc",i.target.value),placeholder:"Dəyər təsviri",style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:1.4,resize:"vertical"}})]},`core-value-${t.suffix}`)):e.jsx("div",{style:{padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:me?"Axtarışa uyğun dəyər tapılmadı.":'Hələ dəyər yoxdur. "Yeni Dəyər" ilə əlavə edin.'})})]}),K.id==="partners"&&Ma(K,d),K.id==="rulespage"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx($t,{size:16})," Qaydalar Sekmələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>va(),children:[e.jsx(pe,{size:14})," Yeni Sekmə"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Ca.map((t,i)=>{const s=i>0,l=i<Ca.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"12px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px 170px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.title,onChange:r=>Pe(i,"title",r.target.value),placeholder:"Sekmə başlığı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("input",{type:"text",value:t.id,onChange:r=>Pe(i,"id",r.target.value),placeholder:"Sekmə ID",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("select",{value:t.icon,onChange:r=>Pe(i,"icon",r.target.value),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:Ki.map(r=>e.jsx("option",{value:r,children:r},r))}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı",onClick:()=>ti(i,"up"),disabled:!s,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:s?"#334155":"#cbd5e1"},children:e.jsx(Ut,{size:14})}),e.jsx("button",{title:"Aşağı",onClick:()=>ti(i,"down"),disabled:!l,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:l?"#334155":"#cbd5e1"},children:e.jsx(Ft,{size:14})}),e.jsx("button",{title:"Sekməni sil",onClick:()=>ya(i),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(Se,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:t.docName||"",onChange:r=>Pe(i,"docName",r.target.value),placeholder:"Sənəd adı (Məs: PILOT_PROTOKOLU.PDF)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:t.docButton||"",onChange:r=>Pe(i,"docButton",r.target.value),placeholder:"Düymə mətni (Məs: PDF YÜKLƏ)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(ke,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:t.docUrl||"",onChange:r=>Pe(i,"docUrl",r.target.value),placeholder:"Sənəd linki (Məs: /uploads/pilot.pdf və ya https://...)",style:{width:"100%",padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`rules-doc-upload-current-${i}`,type:"file",accept:".pdf,application/pdf",style:{display:"none"},onChange:async r=>{const u=r.target.files?.[0];u&&(await Ea(u,i),r.target.value="")}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`rules-doc-upload-current-${i}`)?.click(),children:"PDF Yüklə"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(t.items||[]).map((r,u)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:r.title,onChange:p=>ii(i,u,"title",p.target.value),placeholder:"Maddə başlığı",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("button",{title:"Maddəni sil",onClick:()=>Ta(i,u),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(Se,{size:14})})]}),e.jsx("textarea",{rows:3,value:r.desc,onChange:p=>ii(i,u,"desc",p.target.value),placeholder:"Maddə təsviri",style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",lineHeight:1.4,resize:"vertical"}})]},`rules-item-${t.index}-${r.index}`)),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Sa(i),children:[e.jsx(pe,{size:14})," Maddə Əlavə Et"]})]})]},`rules-tab-${t.index}-${t.id}`)})})]}),K.id!=="rulespage"&&K.id!=="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(As,{size:16})," Mətn Sahələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>ua("text"),children:[e.jsx(pe,{size:14})," Mətn Əlavə Et"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:Et.length===0&&me?e.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:"Bu səhifədə sorğuya uyğun mətn tapılmadı."}):K?.id==="contactpage"?Ol.map(t=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",border:"1px solid #e2e8f0",borderRadius:"12px",background:"#f8fafc",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",padding:"4px 2px 8px 2px",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#334155",fontWeight:900,textTransform:"uppercase"},children:t.title}),e.jsx("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:t.subtitle})]}),t.sections.map((i,s)=>ni(i,s))]},t.title)):K?.id==="privacypolicypage"||K?.id==="termsofservicepage"?kl.map(t=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",border:"1px solid #e2e8f0",borderRadius:"12px",background:"#f8fafc",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",padding:"4px 2px 8px 2px",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#334155",fontWeight:900,textTransform:"uppercase"},children:t.title}),e.jsx("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:t.subtitle})]}),t.sections.map((i,s)=>ni(i,s))]},t.title)):Et.map((t,i)=>ni(t,i))})]}),K.id!=="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Ue,{size:16})," Bölmədəki Şəkillər"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>ua("image"),children:[e.jsx(pe,{size:14})," Yeni Şəkil Yeri"]})]}),li.length>0&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:800,color:"#64748b",marginBottom:"8px"},children:"Komponent Daxili Önizləmə (Sıra ilə)"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"10px"},children:li.map((t,i)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",overflow:"hidden",background:"#fff"},children:[e.jsx("div",{style:{height:"84px",background:"#f8fafc"},children:t.path?e.jsx("img",{src:t.path,alt:t.alt||`Preview ${i+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",fontSize:"11px"},children:"Şəkil yoxdur"})}),e.jsxs("div",{style:{padding:"6px 8px",fontSize:"10px",color:"#475569",fontWeight:700},children:["#",i+1,` • ${t.id}`]})]},`preview-${t.id}`))})]}),e.jsx("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1.5rem"},children:li.length>0?li.map((t,i)=>{const s=K?.images||[],l=s.findIndex(p=>p.id===t.id),r=l>0,u=l>=0&&l<s.length-1;return e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",overflow:"hidden",background:"#fff",position:"relative"},children:[e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"field-delete-btn",onClick:()=>pa("image",t.id),style:{position:"absolute",right:"8px",top:"8px",zIndex:10,background:"rgba(255,255,255,0.9)",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(Se,{size:12})}),e.jsxs("div",{style:{position:"absolute",right:"40px",top:"8px",zIndex:10,display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı daşı",onClick:()=>Wt("image",t.id,"up"),disabled:!r,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:r?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:r?"pointer":"not-allowed"},children:e.jsx(Ut,{size:12})}),e.jsx("button",{title:"Aşağı daşı",onClick:()=>Wt("image",t.id,"down"),disabled:!u,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:u?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:u?"pointer":"not-allowed"},children:e.jsx(Ft,{size:12})})]})]}),e.jsx("div",{style:{height:"120px",background:"#f8fafc",position:"relative",overflow:"hidden"},children:t.path&&(t.path.startsWith("http")||t.path.startsWith("/"))?e.jsx("img",{src:t.path,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#f1f5f9"},children:[e.jsx(Ue,{size:32,style:{opacity:.1}}),e.jsx("span",{style:{fontSize:"10px",color:"#999",position:"absolute",bottom:"10px"},children:"Yol yoxdur"})]})}),e.jsxs("div",{style:{padding:"0.75rem"},children:[e.jsxs("div",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginBottom:"6px"},children:["Sıra: ",i+1]}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginBottom:"4px"},children:[e.jsx("input",{type:"text",placeholder:"Resur yolu...",value:t.path,onChange:p=>{if(d<0||d>=a.length)return;const x=[...a],h=x[d];if(!h)return;const o=h.images.findIndex(f=>f.id===t.id);o!==-1&&(h.images[o].path=p.target.value,n(x))},style:{fontSize:"0.75rem",flex:1,padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}}),e.jsx("button",{onClick:()=>Pi(d,t.id),title:"Sistemdən seç",style:{padding:"0 8px",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer"},children:e.jsx(ke,{size:14})}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"file",id:`file-up-${t.id}`,style:{display:"none"},accept:"image/*",onChange:p=>Xs(p,d,t.id)}),e.jsx("button",{onClick:()=>document.getElementById(`file-up-${t.id}`)?.click(),title:"Kompüterdən yüklə",style:{padding:"0 8px",height:"100%",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},children:e.jsx(pe,{size:14})})]})]}),e.jsx("input",{type:"text",placeholder:"Alt mətni...",value:t.alt,onChange:p=>ca(d,t.id,p.target.value),style:{fontSize:"0.75rem",width:"100%",padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}})]})]},t.id)}):e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"2rem",background:"#f8fafc",borderRadius:"12px",border:"1px dashed #cbd5e1",color:"#64748b"},children:me?"Sorğuya uyğun şəkil tapılmadı.":"Bu bölmədə redaktə ediləcək şəkil yoxdur."})})]}),K.id!=="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("label",{children:[e.jsx(Ue,{size:16})," Yeni Şəkil Yüklə"]}),e.jsxs("div",{className:"upload-dropzone",children:[e.jsx(pe,{size:24}),e.jsx("p",{children:"Şəkil yükləmək üçün seçin"}),e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=async i=>{const s=i.target.files?.[0];if(!s)return;const l=await qe(s);if(l&&d>=0&&d<a.length){const r=[...a],u=r[d];if(u){const p=`img-${u.images.length}-${Date.now()}`;u.images.push({id:p,path:l,alt:"",type:"local"}),n(r),E.success("Yeni şəkil əlavə edildi")}}},t.click()},children:"Cihazdan Yüklə"}),e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=`img-${(K.images||[]).length}`;I({pageIdx:d,imgId:t}),V(!0),j(!0)},children:"Kitabxanadan Seç"})]})]})]})]})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",gap:"1rem"},children:[e.jsx($t,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən bir komponent seçin."})]})})}),M&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Yeni Bölmə Əlavə Et"}),e.jsx("button",{onClick:()=>L(!1),children:e.jsx(Vi,{size:20})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:C,onChange:t=>be(t.target.value),placeholder:"Məs: Xidmətlərimiz, Kampaniyalar...",autoFocus:!0})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>L(!1),children:"Ləğv et"}),e.jsx("button",{className:"btn-primary",onClick:qs,children:"Əlavə et"})]})]})}),Z&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",style:{maxWidth:"800px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Sistem Şəkilləri"}),e.jsx("button",{onClick:()=>j(!1),children:e.jsx(Vi,{size:20})})]}),e.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:e.jsx("div",{className:"image-selector-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"1rem"},children:$.length>0?$.map((t,i)=>e.jsxs("div",{className:"selector-image-card",onClick:()=>Js(t),style:{cursor:"pointer",border:"2px solid #f1f5f9",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s"},children:[e.jsx("div",{style:{aspectRatio:"1/1",background:"#f8fafc"},children:e.jsx("img",{src:t,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("div",{style:{padding:"0.5rem",fontSize:"10px",color:"#64748b",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:t.split("/").pop()})]},i)):e.jsx("div",{style:{gridColumn:"1/-1",textAlign:"center",padding:"3rem",color:"#94a3b8"},children:"Sistemdə heç bir şəkil tapılmadı."})})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-secondary",onClick:()=>j(!1),children:"Bağla"})})]})})]})},ws="forsaj_admin_user",Us="forsaj_admin_token",Xi="forsaj:session-expired",Gt=()=>{const a=localStorage.getItem(Us);return!a||a==="null"||a==="undefined"?null:a},Fe=()=>{localStorage.removeItem(ws),localStorage.removeItem(Us),window.dispatchEvent(new Event(Xi))},Or=({currentUser:a})=>{const[n,d]=b.useState([]),[m,v]=b.useState(!0),[S,g]=b.useState(!1),[T,z]=b.useState(null),k=async()=>{try{const L=Gt();if(!L){Fe();return}const Z=await fetch("/api/users",{headers:{Authorization:`Bearer ${L}`}});if(Z.status===401||Z.status===403){Fe(),E.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(!Z.ok)throw new Error("Yükləmə uğursuz oldu");const j=await Z.json();d(j||[])}catch{E.error("İstifadəçiləri yükləmək mümkün olmadı")}finally{v(!1)}};b.useEffect(()=>{k()},[]);const U=async L=>{if(L.preventDefault(),!T?.username||!T?.name||!T?.id&&!T?.password){E.error("Zəhmət olmasa bütün sahələri doldurun");return}try{const Z=Gt();if(!Z){Fe();return}const j=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z}`},body:JSON.stringify(T)});if(j.status===401||j.status===403){Fe(),E.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(j.ok)E.success(T.id?"İstifadəçi yeniləndi":"Yeni istifadəçi yaradıldı"),g(!1),z(null),k();else{const B=await j.json();E.error(B.error||"Xəta baş verdi")}}catch{E.error("Serverlə bağlantı kəsildi")}},w=async L=>{if(window.confirm("Bu istifadəçini silmək istədiyinizə əminsiniz?"))try{const Z=Gt();if(!Z){Fe();return}const j=await fetch(`/api/users/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${Z}`}});if(j.status===401||j.status===403){Fe(),E.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(j.ok)E.success("İstifadəçi silindi"),k();else{const B=await j.json();E.error(B.error||"Silmək mümkün olmadı")}}catch{E.error("Serverlə bağlantı kəsildi")}},M=(L=null)=>{z(L?{...L}:{username:"",name:"",password:"",role:"secondary"}),g(!0)};return m?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"users-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Admin Hesabları"}),e.jsx("p",{children:"Sistemi idarə edən bütün administratorların siyahısı və səlahiyyətləri"})]}),a.role==="master"&&e.jsxs("button",{className:"add-user-btn",onClick:()=>M(),children:[e.jsx(rn,{size:18})," Yeni idarəçi"]})]}),e.jsx("div",{className:"users-grid",children:n.map(L=>e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-avatar",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${L.name}&background=${L.role==="master"?"3b82f6":"f59e0b"}&color=fff`,alt:L.name}),e.jsxs("div",{className:`role-badge ${L.role||"secondary"}`,children:[e.jsx(Ei,{size:10})," ",L.role==="master"?"Baş admin":"Redaktor"]})]}),e.jsxs("div",{className:"user-details",children:[e.jsx("h3",{children:L.name}),e.jsxs("span",{children:["@",L.username||"username"]})]}),a.role==="master"&&e.jsxs("div",{className:"user-actions",children:[e.jsx("button",{className:"edit-btn",onClick:()=>M(L),title:"Düzəliş et",children:e.jsx(on,{size:16})}),e.jsx("button",{className:"delete-btn",onClick:()=>w(L.id.toString()),title:"Sil",children:e.jsx(Se,{size:16})})]})]},L.id))}),S&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:T?.id?"İstifadəçini redaktə et":"Yeni idarəçi hesabı"}),e.jsx("button",{onClick:()=>g(!1),children:e.jsx(Vi,{size:20})})]}),e.jsxs("form",{onSubmit:U,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ht,{size:14})," Tam Ad"]}),e.jsx("input",{type:"text",value:T?.name||"",onChange:L=>z({...T,name:L.target.value}),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ht,{size:14})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:T?.username||"",onChange:L=>z({...T,username:L.target.value}),placeholder:"Məs: alimm",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Qi,{size:14})," Şifrə ",T?.id&&e.jsx("span",{className:"helper-text",children:"(Dəyişmək istəmirsinizsə boş saxlayın)"})]}),e.jsx("input",{type:"password",value:T?.password||"",onChange:L=>z({...T,password:L.target.value}),placeholder:"••••••••",required:!T?.id})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ei,{size:14})," Yetki (Rol)"]}),e.jsxs("select",{value:T?.role||"secondary",onChange:L=>z({...T,role:L.target.value}),children:[e.jsx("option",{value:"master",children:"Baş Admin (Tam səlahiyyət)"}),e.jsx("option",{value:"secondary",children:"Redaktor (Məhdud səlahiyyət)"})]})]}),T?.role==="master"&&e.jsxs("div",{className:"role-warning",children:[e.jsx(dn,{size:14})," Baş Admin bütün sistem daxilində tam səlahiyyətə malikdir."]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>g(!1),children:"Ləğv et"}),e.jsxs("button",{type:"submit",className:"save-btn",children:[e.jsx(ea,{size:18})," Yadda Saxla"]})]})]})]})})]})},kr=()=>{const[a,n]=b.useState(!1),d=async()=>{n(!0);const v=E.loading("Front qovluğu skan edilir...");try{if(!(await fetch("/api/extract-content",{method:"POST"})).ok)throw new Error("Skan xətası");E.success("Skan tamamlandı! Panel yenilənir...",{id:v}),setTimeout(()=>window.location.reload(),1500)}catch{E.error("Skan uğursuz oldu!",{id:v})}finally{n(!1)}},m=[{id:1,title:"Sitemap Faylını Yaradın",description:"public/sitemap.json faylına menyu strukturunuzu əlavə edin və ya front-dan gətirin.",path:"public/sitemap.json",icon:cn},{id:2,title:"Front Layihəsini Sinxronlaşdırın",description:"/front qovluğundakı React layihəsini skan edərək bütün səhifələri menyuya çıxarın.",path:"/front/src/pages",icon:un},{id:3,title:"Sistem Ayarlarını Tənzimləyin",description:"Saytın ümumi tənzimləmələrini, loqo və əlaqə məlumatlarını idarə edin.",path:"Sistem Ayarları",icon:ys}];return e.jsxs("div",{className:"setup-guide",children:[e.jsxs("div",{className:"setup-header",children:[e.jsxs("div",{className:"setup-brand",children:[e.jsx("div",{className:"octo-logo",children:"🏎️"}),e.jsx("h2",{children:"Forsaj Club İdarəetmə"})]}),e.jsx("h1",{children:"Xoş Gəlmisiniz! Paneli Qurmağa Başlayaq"}),e.jsx("p",{children:"Forsaj Club platformanız üçün premium admin paneli artıq hazırdır. Aşağıdakı addımları izləyərək front layihənizi adminlə birləşdirin."})]}),e.jsxs("div",{className:"setup-grid",children:[e.jsx("div",{className:"steps-container",children:m.map(v=>e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-icon",children:e.jsx(v.icon,{size:26})}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:v.title}),e.jsx("p",{children:v.description}),e.jsx("span",{className:"step-badge",children:v.path})]})]},v.id))}),e.jsxs("div",{className:"setup-sidebar-actions",children:[e.jsxs("div",{className:"action-card primary",children:[e.jsx(pn,{size:32}),e.jsx("h4",{children:"Yeni Səhifə Əlavə Et"}),e.jsx("p",{children:"Dinamik olaraq yeni admin səhifəsi yaradın."})]}),e.jsxs("div",{className:"action-card secondary",children:[e.jsx(Ns,{size:32}),e.jsx("h4",{children:"Front Skaner"}),e.jsx("p",{children:"/front qosulub. Skanlamağa hazırdır."}),e.jsx("button",{className:`scan-btn ${a?"loading":""}`,onClick:d,disabled:a,children:a?e.jsx(_s,{className:"animate-spin"}):"İndi Skan Et"})]})]})]}),e.jsx("div",{className:"setup-footer",children:e.jsxs("div",{className:"info-box",children:[e.jsx("strong",{children:"Məlumat:"})," /front qovluğu aşkar edildi. Sitemap avtomatik generasiya olunduqda bu ekran Dashboard ilə əvəzlənəcək."]})})]})},Dr=({onLogin:a})=>{const[n,d]=b.useState(!0),[m,v]=b.useState(""),[S,g]=b.useState(""),[T,z]=b.useState(""),[k,U]=b.useState(!1);b.useEffect(()=>{(async()=>{try{(await(await fetch("/api/check-setup")).json()).needsSetup&&d(!1)}catch(L){console.error("Setup check failed",L)}})()},[]);const w=async M=>{M.preventDefault();const L=m.trim(),Z=T.trim();if(!L||!S.trim()){E.error("İstifadəçi adı və şifrə mütləqdir");return}if(!n&&!Z){E.error("Tam ad mütləqdir");return}if(!n&&S.length<6){E.error("Şifrə ən azı 6 simvol olmalıdır");return}U(!0);try{const V=await fetch(n?"/api/login":"/api/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n?{username:L,password:S}:{username:L,password:S,name:Z})}),$=await V.json();if(!V.ok)throw new Error($.error||(n?"Giriş uğursuz oldu":"Quraşdırma uğursuz oldu"));n?(localStorage.setItem("forsaj_admin_token",$.token),localStorage.setItem("forsaj_admin_user",JSON.stringify($.user)),a($.user),E.success("Xoş gəldiniz!")):(E.success("Baza uğurla başladıldı! İndi daxil ola bilərsiniz."),d(!0))}catch(j){E.error(j.message||"Əməliyyat uğursuz oldu")}finally{U(!1)}};return e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-card fade-in",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"login-logo",children:n?e.jsx(mn,{size:40,className:"logo-icon"}):e.jsx(Qi,{size:40,className:"logo-icon"})}),e.jsx("h1",{children:n?"Forsaj İdarəetmə Paneli":"Sistem Quraşdırılması"}),e.jsx("p",{children:n?"Sistemə daxil olmaq üçün məlumatlarınızı daxil edin":"İlkin Baş Admin hesabını yaradaraq sistemi başladın"})]}),e.jsxs("form",{className:"login-form",onSubmit:w,children:[!n&&e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ht,{size:16})," Tam Adınız"]}),e.jsx("input",{type:"text",value:T,onChange:M=>z(M.target.value),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ht,{size:16})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:m,onChange:M=>v(M.target.value),placeholder:"Məs: admin",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Qi,{size:16})," Şifrə"]}),e.jsx("input",{type:"password",value:S,onChange:M=>g(M.target.value),placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",className:"login-btn",disabled:k,children:k?e.jsxs("div",{className:"loader-container",children:[e.jsx(_s,{className:"animate-spin",size:20}),e.jsx("span",{children:"Gözləyin..."})]}):n?"Daxil ol":"Sistemi başlat"})]}),e.jsx("div",{className:"login-footer",children:e.jsx("p",{children:"© 2026 Forsaj Club. Platformanın təhlükəsizliyi üçün mütəmadi olaraq şifrənizi yeniləyin."})})]})})},Mr="modulepreload",Br=function(a){return"/admin/"+a},ps={},Pr=function(n,d,m){let v=Promise.resolve();if(d&&d.length>0){let z=function(k){return Promise.all(k.map(U=>Promise.resolve(U).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),T=g?.nonce||g?.getAttribute("nonce");v=z(d.map(k=>{if(k=Br(k),k in ps)return;ps[k]=!0;const U=k.endsWith(".css"),w=U?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${k}"]${w}`))return;const M=document.createElement("link");if(M.rel=U?"stylesheet":Mr,U||(M.as="script"),M.crossOrigin="",M.href=k,T&&M.setAttribute("nonce",T),document.head.appendChild(M),U)return new Promise((L,Z)=>{M.addEventListener("load",L),M.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${k}`)))})}))}function S(g){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=g,window.dispatchEvent(T),!T.defaultPrevented)throw g}return v.then(g=>{for(const T of g||[])T.status==="rejected"&&S(T.reason);return n().catch(S)})},ms={source:"Mənbə",email:"E-poçt",phone:"Telefon",mobile:"Mobil",contact:"Əlaqə",message:"Mesaj",note:"Qeyd",event:"Tədbir",car:"Avtomobil",tire:"Təkər",engine:"Mühərrik",club:"Klub",city:"Şəhər",country:"Ölkə",name:"Ad",fullname:"Ad Soyad"},zr=a=>String(a||"").trim().toLowerCase(),wr=a=>{const n=zr(a);return ms[n]?ms[n]:String(a||"").replace(/[_-]+/g," ").replace(/\s+/g," ").trim().replace(/\b\w/g,d=>d.toLocaleUpperCase("az-AZ"))},xs=a=>{const n=new Date(a);return Number.isNaN(n.getTime())?String(a||""):n.toLocaleString("az-AZ",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},Ur=a=>a==="unread"?"Oxunmamış":"Oxunmuş",Fr=()=>{const[a,n]=b.useState([]),[d,m]=b.useState(null),[v,S]=b.useState(!0),[g,T]=b.useState("all"),z=async()=>{const j=localStorage.getItem("forsaj_admin_token");try{const B=await fetch("/api/applications",{headers:{Authorization:`Bearer ${j}`}});if(B.ok){const V=await B.json();n(V)}}catch{E.error("Müraciətlər yüklənərkən xəta baş verdi")}finally{S(!1)}};b.useEffect(()=>{z()},[]);const k=async j=>{const B=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${j}/read`,{method:"POST",headers:{Authorization:`Bearer ${B}`}})).ok&&(n($=>$.map(A=>A.id===j?{...A,status:"read"}:A)),d?.id===j&&m($=>$?{...$,status:"read"}:null))}catch(V){console.error(V)}},U=async j=>{if(!window.confirm("Bu müraciəti silmək istədiyinizə əminsiniz?"))return;const B=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${j}`,{method:"DELETE",headers:{Authorization:`Bearer ${B}`}})).ok&&(n($=>$.filter(A=>A.id!==j)),d?.id===j&&m(null),E.success("Müraciət silindi"))}catch{E.error("Silinmə zamanı xəta baş verdi")}},w=a.filter(j=>g==="unread"?j.status==="unread":g==="read"?j.status==="read":!0),M=j=>{const B=String(j||"").trim();if(!B)return{contentText:"",parsedFields:{}};try{const V=JSON.parse(B);if(Array.isArray(V))return{contentText:V.map($=>String($??"")).join(" | "),parsedFields:{"Məzmun - Siyahı":JSON.stringify(V)}};if(V&&typeof V=="object"){const $={};for(const[A,R]of Object.entries(V))$[`Məzmun - ${wr(String(A).trim())}`]=String(R??"");return{contentText:Object.entries(V).map(([A,R])=>`${A}: ${String(R??"")}`).join(" | "),parsedFields:$}}return{contentText:String(V),parsedFields:{}}}catch{return{contentText:B,parsedFields:{}}}},L=async()=>{if(!w.length){E.error("Export üçün müraciət tapılmadı");return}try{const j=await Pr(()=>import("./xlsx-CNerDvZX.js"),[]),B=w.map((W,q)=>{const{contentText:ne,parsedFields:oe}=M(W.content);return{Sıra:q+1,ID:W.id,Status:Ur(W.status),Göndərən:W.name,Əlaqə:W.contact,"Müraciət Növü":W.type,Tarix:xs(W.created_at),"Məzmun (Qısa)":ne,...oe}}),V=["Sıra","ID","Status","Göndərən","Əlaqə","Müraciət Növü","Tarix","Məzmun (Qısa)"],$=Array.from(B.reduce((W,q)=>(Object.keys(q).forEach(ne=>W.add(ne)),W),new Set)).filter(W=>!V.includes(W)),A=[...V,...$],R=j.utils.json_to_sheet(B,{header:A});R["!autofilter"]={ref:`A1:${j.utils.encode_col(A.length-1)}1`},R["!freeze"]={xSplit:0,ySplit:1},R["!cols"]=A.map(W=>W==="Məzmun (Qısa)"?{wch:48}:W.startsWith("Məzmun - ")?{wch:28}:W==="Tarix"?{wch:18}:W==="Status"||W==="Müraciət Növü"?{wch:16}:W==="Göndərən"||W==="Əlaqə"?{wch:24}:W==="Sıra"||W==="ID"?{wch:8}:{wch:20});const I=[{Məlumat:"Export tarixi",Dəyər:xs(new Date().toISOString())},{Məlumat:"Filtr",Dəyər:g==="all"?"Hamısı":g==="unread"?"Oxunmamış":"Oxunmuş"},{Məlumat:"Müraciət sayı",Dəyər:String(w.length)}],C=j.utils.json_to_sheet(I);C["!cols"]=[{wch:20},{wch:36}];const be=j.utils.book_new();j.utils.book_append_sheet(be,C,"Xülasə"),j.utils.book_append_sheet(be,R,"Müraciətlər");const me=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");j.writeFile(be,`muracietler-${g}-${me}.xlsx`),E.success("XLSX faylı yükləndi")}catch(j){console.error(j),E.error("XLSX export zamanı xəta baş verdi")}},Z=j=>{try{const B=JSON.parse(j);return e.jsx("div",{className:"app-details-grid",children:Object.entries(B).map(([V,$])=>e.jsxs("div",{className:"detail-item",children:[e.jsxs("span",{className:"detail-label",children:[V.toUpperCase(),":"]}),e.jsx("span",{className:"detail-value",children:String($)})]},V))})}catch{return e.jsx("div",{className:"detail-text",children:j})}};return v?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"applications-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Müraciətlər"}),e.jsx("p",{children:"İstifadəçilər tərəfindən göndərilən formlar və qeydiyyatlar"})]}),e.jsxs("div",{className:"filter-tabs",children:[e.jsx("button",{className:g==="all"?"active":"",onClick:()=>T("all"),children:"Hamısı"}),e.jsx("button",{className:g==="unread"?"active":"",onClick:()=>T("unread"),children:"Oxunmamış"}),e.jsx("button",{className:g==="read"?"active":"",onClick:()=>T("read"),children:"Oxunmuş"})]}),e.jsxs("button",{className:"btn-export",onClick:L,children:[e.jsx(xn,{size:16}),"Excelə Aktar"]})]}),e.jsxs("div",{className:"manager-body",children:[e.jsx("div",{className:"applications-list",children:w.length===0?e.jsx("div",{className:"empty-list",children:"Heç bir müraciət tapılmadı"}):w.map(j=>e.jsxs("div",{className:`application-item ${j.status} ${d?.id===j.id?"selected":""}`,onClick:()=>{m(j),j.status==="unread"&&k(j.id)},children:[e.jsx("div",{className:"app-item-icon",children:j.status==="unread"?e.jsx(js,{className:"icon-unread"}):e.jsx(hn,{className:"icon-read"})}),e.jsxs("div",{className:"app-item-main",children:[e.jsxs("div",{className:"app-item-header",children:[e.jsx("span",{className:"app-item-name",children:j.name}),e.jsx("span",{className:"app-item-date",children:new Date(j.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"app-item-type",children:j.type})]}),e.jsx(fn,{size:16,className:"chevron"})]},j.id))}),e.jsx("div",{className:"application-details",children:d?e.jsxs("div",{className:"details-card fade-in",children:[e.jsxs("div",{className:"details-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Müraciət Təfərrüatları"}),e.jsx("span",{className:`status-badge ${d.status}`,children:d.status==="unread"?"Yeni":"Oxunub"})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"btn-delete",onClick:()=>U(d.id),children:e.jsx(Se,{size:18})})})]}),e.jsxs("div",{className:"details-info",children:[e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Ht,{size:16})," Göndərən"]}),e.jsx("p",{children:d.name})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Es,{size:16})," Əlaqə"]}),e.jsx("p",{children:d.contact})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(_t,{size:16})," Kateqoriya"]}),e.jsx("p",{children:d.type})]})]}),e.jsxs("div",{className:"details-content",children:[e.jsx("label",{children:"Məzmun"}),e.jsx("div",{className:"content-box",children:Z(d.content)})]})]}):e.jsxs("div",{className:"details-placeholder",children:[e.jsx(Ss,{size:48}),e.jsx("p",{children:"Baxmaq üçün siyahıdan müraciət seçin"})]})})]})]})},hs="forsaj_general_hidden_cards",Yr={general:"SİSTEM AYARLARI",marquee:"MARQUEE"},Kr=["SOCIAL_INSTAGRAM","SOCIAL_YOUTUBE","SOCIAL_FACEBOOK"],qr=[{id:"seo-basic",label:"SEO əsas"},{id:"seo-social",label:"OG / Twitter"},{id:"seo-verify",label:"Təsdiq kodları"},{id:"contact-details",label:"Əlaqə"},{id:"departments",label:"Şöbə e-poçtları"},{id:"smtp-settings",label:"SMTP"},{id:"branding",label:"Brendinq"},{id:"social-links",label:"Sosial linklər"},{id:"marquee-settings",label:"Marquee"},{id:"stats",label:"Statistika"}],fs=a=>{const n=(a||"").trim();return n?/^[a-z][a-z0-9+.-]*:/i.test(n)?n:n.startsWith("//")?`https:${n}`:/^[\w.-]+\.[a-z]{2,}(?:[/?#]|$)/i.test(n)?`https://${n}`:n:""},$r=()=>{const[a,n]=b.useState([]),[d,m]=b.useState(!1),[v,S]=b.useState(!0),[g,T]=b.useState(!1),[z,k]=b.useState(()=>{try{const c=localStorage.getItem(hs),O=c?JSON.parse(c):[];return Array.isArray(O)?O:[]}catch{return[]}}),U=Ji(),M=new URLSearchParams(U.search).get("tab")==="hidden",L=c=>z.includes(c),Z=c=>M?L(c):!L(c),j=c=>`settings-card shadow-sm${Z(c)?"":" settings-card-hidden"}`,B=c=>{k(O=>O.includes(c)?O:[...O,c])},V=c=>{k(O=>O.filter(D=>D!==c))},$=c=>{const O=L(c),D=M&&O;return e.jsx("button",{type:"button",className:"card-visibility-btn",onClick:()=>O?V(c):B(c),title:D?"Kartı geri gətir":"Kartı gizlət","aria-label":D?"Kartı geri gətir":"Kartı gizlət",children:D?e.jsx(vs,{size:16}):e.jsx(gn,{size:16})})},A=async()=>{try{const c=await fetch("/api/site-content");if(!c.ok)throw new Error("site-content fetch failed");const O=await c.json();n(Array.isArray(O)?O:[])}catch{E.error("Ayarlar yüklənərkən xəta baş verdi")}finally{S(!1)}};b.useEffect(()=>{A()},[]),b.useEffect(()=>{localStorage.setItem(hs,JSON.stringify(z))},[z]),b.useEffect(()=>{if(v)return;const O=new URLSearchParams(U.search).get("tab"),X=O?{seo:"seo-basic",general:"branding",contact:"contact-details",social:"social-links",stats:"stats",marquee:"marquee-settings"}[O]:"";X&&setTimeout(()=>{const J=document.querySelector(`[data-settings-section="${X}"]`);J&&J.scrollIntoView({behavior:"smooth",block:"start"})},50)},[U.search,v]);const R=(c,O)=>{let D=c.findIndex(X=>X.id===O);return D===-1&&(c.push({id:O,title:Yr[O]||O.toUpperCase(),sections:[],images:[],active:!0}),D=c.length-1),Array.isArray(c[D].sections)||(c[D].sections=[]),Array.isArray(c[D].images)||(c[D].images=[]),D},I=(c,O,D=!1,X="general")=>{const J=[...a],ce=R(J,X);if(D){const le=J[ce].images.findIndex(Qe=>Qe.id===c);le===-1?J[ce].images.push({id:c,path:O,alt:c,type:"local"}):J[ce].images[le].path=O}else{const le=J[ce].sections.findIndex(Qe=>Qe.id===c);le===-1?J[ce].sections.push({id:c,type:"text",label:c,value:O}):J[ce].sections[le].value=O}n(J)},C=(c,O=!1,D="general")=>{const X=a.find(le=>le.id===D);if(!X)return"";const J=Array.isArray(X.sections)?X.sections:[],ce=Array.isArray(X.images)?X.images:[];return O?ce.find(le=>le.id===c)?.path||"":J.find(le=>le.id===c)?.value||""},be=(c,O=!0)=>{const D=a.find(X=>X.id===c);return!D||D.active===void 0?O:!!D.active},me=(c,O)=>{const D=[...a],X=R(D,c);D[X].active=O,n(D)},W=()=>{const c=a.find(O=>O.id==="marquee");return c&&(c.sections?.find(O=>O.id==="MARQUEE_TEXT")?.value||c.sections?.[0]?.value)||""},q=c=>{const O=[...a],D=R(O,"marquee"),X=O[D].sections,J=X.findIndex(ce=>ce.id==="MARQUEE_TEXT");J>=0?X[J].value=c:X.length>0?X[0].value=c:X.push({id:"MARQUEE_TEXT",type:"text",label:"MARQUEE_TEXT",value:c}),n(O)},ne=c=>{const O=a.find(D=>D.id==="marquee");return O&&O.sections?.find(D=>D.id===c)?.value||""},oe=(c,O)=>{const D=[...a],X=R(D,"marquee"),J=D[X].sections,ce=J.findIndex(le=>le.id===c);ce>=0?J[ce].value=O:J.push({id:c,type:"text",label:c,value:O}),n(D)},Ie=()=>ne("MARQUEE_LINK"),je=c=>oe("MARQUEE_LINK",c),He=()=>{const c=(ne("MARQUEE_LINK_ACTIVE")||"").toString().trim().toLowerCase();return c==="1"||c==="true"||c==="yes"||c==="on"},ze=c=>{oe("MARQUEE_LINK_ACTIVE",c?"1":"0")},de=c=>fs(C(c)),Q=c=>c.map(O=>O?.id!=="general"||!Array.isArray(O.sections)?O:{...O,sections:O.sections.map(D=>Kr.includes(D?.id)?{...D,value:fs(D?.value||"")}:D)}),we=async(c,O,D="general")=>{const X=c.target.files?.[0];if(!X)return;const J=new FormData;J.append("image",X);const ce=E.loading("Şəkil yüklənir...");try{const le=await fetch("/api/upload-image",{method:"POST",body:J});if(!le.ok)throw new Error("image upload failed");const Qe=await le.json();I(O,Qe.url,!0,D),E.success("Şəkil yükləndi",{id:ce})}catch{E.error("Yükləmə xətası",{id:ce})}},Ve=async()=>{m(!0);const c=E.loading("Yadda saxlanılır..."),O=Q(a);n(O);try{if(!(await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)})).ok)throw new Error("save-content failed");E.success("Ayarlar qeyd edildi!",{id:c})}catch{E.error("Xəta baş verdi",{id:c})}finally{m(!1)}},ft=c=>{const O=document.querySelector(`[data-settings-section="${c}"]`);O&&O.scrollIntoView({behavior:"smooth",block:"start"})};return v?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"general-settings fade-in",children:[e.jsxs("div",{className:"settings-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Sistem Ayarları"}),e.jsx("p",{children:M?"Gizlədilmiş ayar kartları":"SEO, Brendinq və ümumi sayt tənzimləmələri"})]}),e.jsxs("button",{className:"save-btn",onClick:Ve,disabled:d,children:[e.jsx(ea,{size:18}),e.jsx("span",{children:"Yadda Saxla"})]})]}),M&&z.length===0&&e.jsx("div",{className:"hidden-settings-empty",children:"Gizlənmiş kart yoxdur. Kartları gizlətmək üçün normal görünüşdə kartın üzərinə gəlib göz ikonuna klikləyin."}),!M&&e.jsx("div",{className:"settings-quick-nav",children:qr.map(c=>e.jsx("button",{type:"button",className:"quick-nav-btn",onClick:()=>ft(c.id),children:c.label},c.id))}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:j("seo-basic"),"data-settings-section":"seo-basic",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ke,{size:20,className:"text-blue-500"}),e.jsx("h2",{children:"SEO və axtarış motoru"})]}),e.jsx("p",{className:"card-description",children:"Axtarış nəticələrində görünən əsas meta məlumatlar."})]}),$("seo-basic")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta başlıq (sayt adı)"}),e.jsx("input",{type:"text",value:C("SEO_TITLE"),onChange:c=>I("SEO_TITLE",c.target.value),placeholder:"Məs: Forsaj Club - Offroad & Motorsport"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta təsvir"}),e.jsx("textarea",{value:C("SEO_DESCRIPTION"),onChange:c=>I("SEO_DESCRIPTION",c.target.value),placeholder:"Sayt haqqında qısa məlumat..."}),e.jsx("small",{className:"field-help",children:"Tövsiyə: 140-160 simvol arası qısa təsvir."})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Açar sözlər"}),e.jsx("input",{type:"text",value:C("SEO_KEYWORDS"),onChange:c=>I("SEO_KEYWORDS",c.target.value),placeholder:"offroad, baki, yarış, mitsubishi, pajero"}),e.jsx("small",{className:"field-help",children:"Açar sözləri vergül ilə ayırın."})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Kanonik URL"}),e.jsx("input",{type:"text",value:C("SEO_CANONICAL_URL"),onChange:c=>I("SEO_CANONICAL_URL",c.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Robots direktivi"}),e.jsx("input",{type:"text",value:C("SEO_ROBOTS"),onChange:c=>I("SEO_ROBOTS",c.target.value),placeholder:"index,follow"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Müəllif"}),e.jsx("input",{type:"text",value:C("SEO_AUTHOR"),onChange:c=>I("SEO_AUTHOR",c.target.value),placeholder:"Forsaj Club"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Dil (html lang)"}),e.jsx("input",{type:"text",value:C("SEO_LANGUAGE"),onChange:c=>I("SEO_LANGUAGE",c.target.value),placeholder:"az"}),e.jsx("small",{className:"field-help",children:"Məs: `az`, `en`, `tr`."})]})]})]}),e.jsxs("div",{className:j("seo-social"),"data-settings-section":"seo-social",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ke,{size:20,className:"text-cyan-500"}),e.jsx("h2",{children:"Sosial paylaşım SEO (OG / Twitter)"})]}),e.jsx("p",{className:"card-description",children:"Link paylaşılarkən görünən başlıq, təsvir və şəkil."})]}),$("seo-social")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG başlıq"}),e.jsx("input",{type:"text",value:C("SEO_OG_TITLE"),onChange:c=>I("SEO_OG_TITLE",c.target.value),placeholder:"Sosial şəbəkə başlığı"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG təsvir"}),e.jsx("textarea",{value:C("SEO_OG_DESCRIPTION"),onChange:c=>I("SEO_OG_DESCRIPTION",c.target.value),placeholder:"Sosial şəbəkə paylaşım təsviri"})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG URL"}),e.jsx("input",{type:"text",value:C("SEO_OG_URL"),onChange:c=>I("SEO_OG_URL",c.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter kart növü"}),e.jsx("input",{type:"text",value:C("SEO_TWITTER_CARD"),onChange:c=>I("SEO_TWITTER_CARD",c.target.value),placeholder:"summary_large_image"})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter hesabı (site)"}),e.jsx("input",{type:"text",value:C("SEO_TWITTER_SITE"),onChange:c=>I("SEO_TWITTER_SITE",c.target.value),placeholder:"@forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter müəllif"}),e.jsx("input",{type:"text",value:C("SEO_TWITTER_CREATOR"),onChange:c=>I("SEO_TWITTER_CREATOR",c.target.value),placeholder:"@forsajclub"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"140px"},children:C("SEO_OG_IMAGE",!0)?e.jsx("img",{src:C("SEO_OG_IMAGE",!0),alt:"OG Şəkli"}):e.jsx("div",{className:"no-logo",children:"OG şəkli yoxdur"})}),e.jsxs("div",{className:"form-grid two-cols",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(mi,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>we(c,"SEO_OG_IMAGE")})]}),e.jsx("input",{type:"text",value:C("SEO_OG_IMAGE",!0),onChange:c=>I("SEO_OG_IMAGE",c.target.value,!0),placeholder:"https://forsaj.az/og-cover.jpg"})]})]})]})]}),e.jsxs("div",{className:j("seo-verify"),"data-settings-section":"seo-verify",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(Xa,{size:20,className:"text-violet-500"}),e.jsx("h2",{children:"Axtarış motoru təsdiqləri"})]}),e.jsx("p",{className:"card-description",children:"Google, Bing və Yandex üçün doğrulama kodları."})]}),$("seo-verify")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Google təsdiq kodu"}),e.jsx("input",{type:"text",value:C("SEO_GOOGLE_VERIFICATION"),onChange:c=>I("SEO_GOOGLE_VERIFICATION",c.target.value),placeholder:"google-site-verification kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bing təsdiq kodu"}),e.jsx("input",{type:"text",value:C("SEO_BING_VERIFICATION"),onChange:c=>I("SEO_BING_VERIFICATION",c.target.value),placeholder:"msvalidate.01 kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yandex təsdiq kodu"}),e.jsx("input",{type:"text",value:C("SEO_YANDEX_VERIFICATION"),onChange:c=>I("SEO_YANDEX_VERIFICATION",c.target.value),placeholder:"yandex-verification kodu"})]})]})]}),e.jsxs("div",{className:j("contact-details"),"data-settings-section":"contact-details",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(Ue,{size:20,className:"text-red-500"}),e.jsx("h2",{children:"Əlaqə & Ünvan Məlumatları"})]}),e.jsx("p",{className:"card-description",children:"Footer və əlaqə hissəsində görünən ofis və əlaqə məlumatları."})]}),$("contact-details")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 1)"}),e.jsx("input",{type:"text",value:C("CONTACT_ADDRESS_1"),onChange:c=>I("CONTACT_ADDRESS_1",c.target.value),placeholder:"Məs: AZADLIQ 102, BAKI"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 2)"}),e.jsx("input",{type:"text",value:C("CONTACT_ADDRESS_2"),onChange:c=>I("CONTACT_ADDRESS_2",c.target.value),placeholder:"Məs: AZƏRBAYCAN // SECTOR_01"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"İş Saatları"}),e.jsx("input",{type:"text",value:C("CONTACT_HOURS"),onChange:c=>I("CONTACT_HOURS",c.target.value),placeholder:"Məs: 09:00 - 18:00"})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə Nömrəsi"}),e.jsx("input",{type:"text",value:C("CONTACT_PHONE"),onChange:c=>I("CONTACT_PHONE",c.target.value),placeholder:"+994 50 000 00 00"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə E-poçtu"}),e.jsx("input",{type:"text",value:C("CONTACT_EMAIL"),onChange:c=>I("CONTACT_EMAIL",c.target.value),placeholder:"info@forsaj.az"})]})]})]})]}),e.jsxs("div",{className:j("departments"),"data-settings-section":"departments",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(Ja,{size:20,className:"text-purple-500"}),e.jsx("h2",{children:"Şöbə E-poçtları"})]}),e.jsx("p",{className:"card-description",children:"Müraciətlərin istiqamətinə uyğun e-poçt ünvanları."})]}),$("departments")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis (HQ)"}),e.jsx("input",{type:"text",value:C("DEPT_HQ_EMAIL"),onChange:c=>I("DEPT_HQ_EMAIL",c.target.value),placeholder:"hq@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Media və PR"}),e.jsx("input",{type:"text",value:C("DEPT_PR_EMAIL"),onChange:c=>I("DEPT_PR_EMAIL",c.target.value),placeholder:"pr@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Texniki Dəstək"}),e.jsx("input",{type:"text",value:C("DEPT_TECH_EMAIL"),onChange:c=>I("DEPT_TECH_EMAIL",c.target.value),placeholder:"tech@forsaj.az"})]})]})]}),e.jsxs("div",{className:j("smtp-settings"),"data-settings-section":"smtp-settings",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(Ja,{size:20,className:"text-emerald-500"}),e.jsx("h2",{children:"SMTP Bildiriş Ayarları"})]}),e.jsx("p",{className:"card-description",children:"Form müraciətləri göndəriləndə e-poçt bildirişi üçün SMTP məlumatları."})]}),$("smtp-settings")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP aktiv"}),e.jsxs("select",{value:C("SMTP_ENABLED")||"1",onChange:c=>I("SMTP_ENABLED",c.target.value),children:[e.jsx("option",{value:"1",children:"Aktiv"}),e.jsx("option",{value:"0",children:"Deaktiv"})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP Host"}),e.jsx("input",{type:"text",value:C("SMTP_HOST"),onChange:c=>I("SMTP_HOST",c.target.value),placeholder:"smtp.gmail.com"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP Port"}),e.jsx("input",{type:"number",value:C("SMTP_PORT")||"587",onChange:c=>I("SMTP_PORT",c.target.value),placeholder:"587"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Təhlükəsizlik (SSL/TLS)"}),e.jsxs("select",{value:C("SMTP_SECURE")||"0",onChange:c=>I("SMTP_SECURE",c.target.value),children:[e.jsx("option",{value:"0",children:"Yox (STARTTLS/587)"}),e.jsx("option",{value:"1",children:"Bəli (SSL/465)"})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP istifadəçi"}),e.jsx("input",{type:"text",value:C("SMTP_USER"),onChange:c=>I("SMTP_USER",c.target.value),placeholder:"noreply@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP şifrə / app password"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:g?"text":"password",value:C("SMTP_PASS"),onChange:c=>I("SMTP_PASS",c.target.value),placeholder:"********"}),e.jsx("button",{type:"button",className:"social-test-link",onClick:()=>T(c=>!c),children:g?"Gizlət":"Göstər"})]})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Göndərən ünvanı (From)"}),e.jsx("input",{type:"text",value:C("SMTP_FROM"),onChange:c=>I("SMTP_FROM",c.target.value),placeholder:"Forsaj Club <noreply@forsaj.az>"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Qəbul edən ünvan(lar) (To)"}),e.jsx("input",{type:"text",value:C("SMTP_TO"),onChange:c=>I("SMTP_TO",c.target.value),placeholder:"admin@forsaj.az, support@forsaj.az"})]})]})]})]}),e.jsxs("div",{className:j("branding"),"data-settings-section":"branding",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(Ue,{size:20,className:"text-orange-500"}),e.jsx("h2",{children:"Brendinq & Loqo"})]}),e.jsx("p",{className:"card-description",children:"Light/Dark loqoları yükləyin, görünüşü dərhal önizləyin."})]}),$("branding")]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"logo-upload-grid",children:[e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Əsas Loqo (Light)"}),e.jsx("div",{className:"logo-preview",children:C("SITE_LOGO_LIGHT",!0)?e.jsx("img",{src:C("SITE_LOGO_LIGHT",!0),alt:"Logo Light"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(mi,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>we(c,"SITE_LOGO_LIGHT")})]})]}),e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Alternativ Loqo (Dark)"}),e.jsx("div",{className:"logo-preview dark-bg",children:C("SITE_LOGO_DARK",!0)?e.jsx("img",{src:C("SITE_LOGO_DARK",!0),alt:"Logo Dark"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(mi,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>we(c,"SITE_LOGO_DARK")})]})]})]})})]}),e.jsxs("div",{className:j("social-links"),"data-settings-section":"social-links",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ke,{size:20,className:"text-pink-500"}),e.jsx("h2",{children:"Sosial Media Linkləri"})]}),e.jsx("p",{className:"card-description",children:"Sosial hesabları daxil edin və “Test et” ilə yoxlayın."})]}),$("social-links")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Instagram"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:C("SOCIAL_INSTAGRAM"),onChange:c=>I("SOCIAL_INSTAGRAM",c.target.value),placeholder:"https://instagram.com/forsajclub"}),e.jsx("a",{href:de("SOCIAL_INSTAGRAM")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${de("SOCIAL_INSTAGRAM")?"":" disabled"}`,onClick:c=>{de("SOCIAL_INSTAGRAM")||c.preventDefault()},children:"Test et"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Youtube"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:C("SOCIAL_YOUTUBE"),onChange:c=>I("SOCIAL_YOUTUBE",c.target.value),placeholder:"https://youtube.com/@forsajclub"}),e.jsx("a",{href:de("SOCIAL_YOUTUBE")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${de("SOCIAL_YOUTUBE")?"":" disabled"}`,onClick:c=>{de("SOCIAL_YOUTUBE")||c.preventDefault()},children:"Test et"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Facebook"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:C("SOCIAL_FACEBOOK"),onChange:c=>I("SOCIAL_FACEBOOK",c.target.value),placeholder:"https://facebook.com/forsajclub"}),e.jsx("a",{href:de("SOCIAL_FACEBOOK")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${de("SOCIAL_FACEBOOK")?"":" disabled"}`,onClick:c=>{de("SOCIAL_FACEBOOK")||c.preventDefault()},children:"Test et"})]}),e.jsx("small",{className:"field-help",children:"Domen ilə başlayan linklərdə (`instagram.com/...`) `https://` avtomatik əlavə ediləcək."})]})]})]}),e.jsxs("div",{className:j("marquee-settings"),"data-settings-section":"marquee-settings",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(bs,{size:20,className:"text-amber-500"}),e.jsx("h2",{children:"Marquee Ayarları"})]}),e.jsx("p",{className:"card-description",children:"Ana səhifənin üst hissəsindəki hərəkətli elan xəttini idarə edin."})]}),$("marquee-settings")]}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"field-group",children:e.jsxs("label",{className:"toggle-row",children:[e.jsx("input",{type:"checkbox",checked:be("marquee",!0),onChange:c=>me("marquee",c.target.checked)}),e.jsx("span",{children:"Marquee aktivdir (səhifədə göstər)"})]})}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Marquee mətni"}),e.jsx("textarea",{value:W(),onChange:c=>q(c.target.value),placeholder:"Məs: FORSAJ CLUB // OFFROAD MOTORSPORT HUB"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Link əlavə et"}),e.jsx("input",{type:"text",value:Ie(),onChange:c=>je(c.target.value),placeholder:"Məs: /events və ya https://forsaj.az/events"})]}),e.jsx("div",{className:"field-group",children:e.jsxs("label",{className:"toggle-row",children:[e.jsx("input",{type:"checkbox",checked:He(),onChange:c=>ze(c.target.checked)}),e.jsx("span",{children:"Link aktivdir (aktiv/deaktiv)"})]})}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Marquee arxa plan şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"90px"},children:C("marquee-image",!0,"marquee")?e.jsx("img",{src:C("marquee-image",!0,"marquee"),alt:"Marquee Background"}):e.jsx("div",{className:"no-logo",children:"Arxa plan şəkli yoxdur"})}),e.jsxs("div",{className:"form-grid two-cols",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(mi,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>we(c,"marquee-image","marquee")})]}),e.jsx("input",{type:"text",value:C("marquee-image",!0,"marquee"),onChange:c=>I("marquee-image",c.target.value,!0,"marquee"),placeholder:"https://forsaj.az/marquee-bg.jpg"})]})]})]})]}),e.jsxs("div",{className:j("stats"),"data-settings-section":"stats",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(Xa,{size:20,className:"text-green-500"}),e.jsx("h2",{children:"Sayt Statistikaları"})]}),e.jsx("p",{className:"card-description",children:"Ana səhifədə göstərilən qısa statistik göstəricilər."})]}),$("stats")]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"stats-edit-grid",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Pilot Sayı"}),e.jsx("input",{type:"text",value:C("STATS_PILOTS"),onChange:c=>I("STATS_PILOTS",c.target.value),placeholder:"Susmaya görə: 140+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yarış Sayı"}),e.jsx("input",{type:"text",value:C("STATS_RACES"),onChange:c=>I("STATS_RACES",c.target.value),placeholder:"Susmaya görə: 50+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Gənc İştirakçı"}),e.jsx("input",{type:"text",value:C("STATS_YOUTH"),onChange:c=>I("STATS_YOUTH",c.target.value),placeholder:"Susmaya görə: 20+"})]})]})})]})]})]})},Ee=a=>a.toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Gr={DASHBOARD:"Panel Ana Səhifə","ANA SƏHİFƏ":"Ana Səhifə / Naviqasiya / Footer","SAYT MƏZMUNU":"Ana Səhifə / Naviqasiya / Footer",HAQQIMIZDA:"Haqqımızda",XƏBƏRLƏR:"Xəbərlər",TƏDBİRLƏR:"Tədbirlər",SÜRÜCÜLƏR:"Sürücülər",QALEREYA:"Qalereya",QAYDALAR:"Qaydalar",ƏLAQƏ:"Əlaqə","ADMİN HESABLARI":"İstifadəçi İdarəsi","SİSTEM AYARLARI":"Sistem Ayarları",SOSYAL:"Sosyal","MƏXFİLİK SİYASƏTİ":"PRIVACY POLICY","XİDMƏT ŞƏRTLƏRİ":"TERMS OF SERVICE"},Hr={"Ümumi Görünüş":"Ana Səhifə Blokları",Naviqasiya:"Menyu və Naviqasiya","Giriş Hissəsi":"Hero Bölməsi","Sürüşən Yazı":"Marquee Yazısı","Sayt Sonu":"Footer","Xəbər Siyahısı":"Xəbər Məzmunu","Xəbər Səhifəsi":"Xəbər Səhifəsi Mətni","Tədbir Təqvimi":"Tədbir Siyahısı","Tədbir Səhifəsi":"Tədbir Səhifəsi Mətni","Sürücü Reytinqi":"Sürücü Cədvəli","Sürücülər Səhifəsi":"Sürücülər Səhifəsi Mətni"},Vr=a=>{const n=Gr[a.title]||a.title;return{...a,title:n,children:a.children?.map(d=>({...d,title:Hr[d.title]||d.title}))}},It=a=>a&&(a==="/frontend-settings"||a==="/admin/frontend-settings"||a==="/general-settings"||a==="/admin/general-settings"?"/general-settings?tab=general":a),Fs=a=>({...a,path:It(a.path),children:a.children?.map(Fs)}),Gi=(a=[])=>{const n=new Map;return a.forEach(d=>{const m=`${Ee(d.title||"")}|${Ee(d.path||"")}`;m&&n.set(m,d)}),Array.from(n.values())},gs=a=>{const n=Ee(a?.title||""),d=Ee(It(a?.path)||"");return n==="sistem ayarlari"||d==="/frontend-settings"||d==="/admin/frontend-settings"||d==="/general-settings"||d==="/admin/general-settings"||d.startsWith("/general-settings?")},Qr=()=>{const[a,n]=b.useState(null),[d,m]=b.useState([]),[v,S]=b.useState(0),[g,T]=b.useState(!0);if(b.useEffect(()=>{const k=localStorage.getItem(ws),U=Gt();if(k&&U)try{n(JSON.parse(k))}catch{Fe(),n(null)}else Fe(),n(null);T(!1)},[]),b.useEffect(()=>{const k=()=>n(null);return window.addEventListener(Xi,k),()=>window.removeEventListener(Xi,k)},[]),b.useEffect(()=>{const k=async()=>{const w=Gt();if(!w){Fe();return}try{let M=v;const L=await fetch("/api/applications/unread-count",{headers:{Authorization:`Bearer ${w}`}});if(L.status===401||L.status===403){Fe();return}if(L.ok){const{count:j}=await L.json();M=Number(j)||0,S(M)}const Z=await fetch(`/api/sitemap?v=${Date.now()}`);if(Z.ok){const j=await Z.json();let B=Array.isArray(j)?j:[];B=B.map(q=>Vr(q)).map(q=>Fs(q));const V=B.find(q=>q.path==="/applications");V?M>0?V.badge={text:M.toString(),color:"bg-red-500"}:delete V.badge:B=[...B,{title:"Müraciətlər",path:"/applications",icon:"Inbox",badge:M>0?{text:M.toString(),color:"bg-red-500"}:void 0}];const $=[{title:"SEO Ayarları",path:"/general-settings?tab=seo",icon:"Globe"},{title:"Ümumi Parametrlər",path:"/general-settings?tab=general",icon:"Sliders"},{title:"Əlaqə və Sosial",path:"/general-settings?tab=contact",icon:"Phone"},{title:"Marquee Ayarları",path:"/general-settings?tab=marquee",icon:"Activity"},{title:"Tətbiq Ayarları",path:"/general-settings?tab=stats",icon:"Activity"},{title:"Gizlənən Ayarlar",path:"/general-settings?tab=hidden",icon:"Eye"}],A=B.filter(q=>gs(q));B=B.filter(q=>!gs(q));const I={title:"Sistem Ayarları",icon:"Settings",path:"/general-settings?tab=general",children:Gi([...$,...A.flatMap(q=>q.children||[])])},C=B.findIndex(q=>Ee(q.path||"")==="/users-management");if(C>=0?B.splice(C+1,0,I):B.push(I),!B.some(q=>Ee(q.title||"")==="sosyal"||Ee(It(q.path)||"")==="/general-settings?tab=social")){const q={title:"Sosyal",icon:"Globe",path:"/general-settings?tab=social"},ne=B.findIndex(Ie=>Ee(Ie.title||"")==="sistem ayarlari"||Ee(It(Ie.path)||"")==="/general-settings?tab=general"),oe=B.findIndex(Ie=>Ee(Ie.path||"")==="/applications");ne>=0?B.splice(ne+1,0,q):oe>=0?B.splice(oe,0,q):B.push(q)}const me=(q,ne=[])=>{const oe=Ee(It(q.path)||""),Ie=Ee(q.title||"");if(B.some(de=>Ee(de.title||"")===Ie||Ee(It(de.path)||"")===oe))return;const He=B.findIndex(de=>{const Q=Ee(de.title||"");return ne.some(we=>Q===Ee(we))});if(He>=0){B.splice(He+1,0,q);return}const ze=B.findIndex(de=>Ee(de.path||"")==="/applications");if(ze>=0){B.splice(ze,0,q);return}B.push(q)};me({title:"PRIVACY POLICY",icon:"FileText",path:"/?page=privacypolicypage"},["Qaydalar","QAYDALAR"]),me({title:"TERMS OF SERVICE",icon:"FileText",path:"/?page=termsofservicepage"},["PRIVACY POLICY"]);const W=new Map;for(const q of B){const ne=Ee(q.title||"");if(!ne)continue;const oe=W.get(ne);if(!oe){W.set(ne,{...q,children:Gi(q.children||[])});continue}W.set(ne,{...oe,path:oe.path||q.path,icon:oe.icon||q.icon,badge:oe.badge||q.badge,children:Gi([...oe.children||[],...q.children||[]])})}m(Array.from(W.values()))}}catch(M){console.error("Fetch data failed",M)}finally{T(!1)}};k();const U=setInterval(k,3e4);return()=>clearInterval(U)},[a]),g)return e.jsx("div",{style:{display:"flex",height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",background:"#f4f6f9",color:"#3b82f6",fontSize:"1.2rem",fontWeight:"600"},children:"Yüklənir..."});const z=!d||d.length===0;return e.jsx(Fl,{basename:"/admin",children:e.jsxs("div",{className:"app-container",children:[e.jsx(or,{containerStyle:{zIndex:10001},position:"top-right",reverseOrder:!1}),a?e.jsxs(e.Fragment,{children:[e.jsx(vn,{menuItems:d,user:a,onLogout:()=>{Fe(),n(null)}}),e.jsxs("main",{className:"main-content",children:[e.jsx(yn,{user:a}),e.jsx("div",{className:"content-body",children:e.jsx(Yl,{children:z?e.jsx(Lt,{path:"*",element:e.jsx(kr,{})}):e.jsxs(e.Fragment,{children:[e.jsx(Lt,{path:"/",element:e.jsx(Cr,{})}),e.jsx(Lt,{path:"/applications",element:e.jsx(Fr,{})}),e.jsx(Lt,{path:"/general-settings",element:e.jsx($r,{})}),e.jsx(Lt,{path:"/users-management",element:e.jsx(Or,{currentUser:a})}),e.jsx(Lt,{path:"*",element:e.jsx("div",{className:"fade-in",children:e.jsx("h1",{children:"Səhifə tapılmadı"})})})]})})})]})]}):e.jsx(Dr,{onLogin:n})]})})};Kl.createRoot(document.getElementById("root")).render(e.jsx(b.StrictMode,{children:e.jsx(Qr,{})}));
