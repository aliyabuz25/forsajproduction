import{u as Ta,j as e,N as zs,r as g,B as Ps,a as ws,b as rt,d as Us}from"./vendor-react-B0Xi4u7S.js";import{H as Fs,L as Ys,P as Vt,A as _i,E as Ii,G as Ee,S as Oi,I as Ci,M as Ks,U as qs,a as ki,B as $s,V as fa,b as De,c as Gs,T as St,C as Di,d as Gt,e as Hs,F as Tt,f as Vs,g as Qs,h as Ws,i as Bi,j as Zs,k as Xs,l as Js,m as el,n as Mi,o as ja,p as se,q as ue,r as tl,s as bt,t as vt,X as ga,u as al,v as gi,w as il,x as Et,y as ba,z as sl,D as ll,J as nl,K as rl,N as zi,O as dl,Q as ol,R as cl,W as Ft,Y as bi,Z as ul,_ as pl}from"./vendor-ui-J5TyqjfF.js";import{i as ml}from"./vendor-editor-BvsJV83P.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))x(y);new MutationObserver(y=>{for(const S of y)if(S.type==="childList")for(const v of S.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&x(v)}).observe(document,{childList:!0,subtree:!0});function o(y){const S={};return y.integrity&&(S.integrity=y.integrity),y.referrerPolicy&&(S.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?S.credentials="include":y.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function x(y){if(y.ep)return;y.ep=!0;const S=o(y);fetch(y.href,S)}})();const xl=({menuItems:i,user:l,onLogout:o})=>{const x=l?.role||"secondary",y=Ta(),S=T=>T&&(T==="/frontend-settings"||T==="/admin/frontend-settings"||T==="/general-settings"||T==="/admin/general-settings"?"/general-settings?tab=general":T),v={Layout:Vt,Home:Js,Menu:Xs,Maximize:Zs,Type:Bi,Star:Ws,Anchor:Qs,Info:Vs,FileText:Tt,List:Hs,Calendar:Gt,Clock:Di,Trophy:St,Award:Gs,Image:De,Video:fa,BookOpen:$s,Phone:ki,Users:qs,Monitor:Ks,Inbox:Ci,Settings:Oi,Globe:Ee,Eye:Ii,Activity:_i},j=({name:T,className:m})=>{const D=v[T];return D?e.jsx(D,{className:m,size:18}):e.jsx(Vt,{className:m,size:18})},O=T=>{const m=S(T);return m?m.includes("?")?y.pathname+y.search===m:y.pathname===m:!1},C=(T,m,D)=>e.jsx("li",{className:"sidebar-item",children:e.jsxs(zs,{to:S(D||T.path)||"#",className:()=>`sidebar-link ${O(S(D||T.path))?"active":""}`,children:[(T.icon||m)&&e.jsx(j,{name:T.icon||m||"",className:"sidebar-icon"}),e.jsx("span",{className:"sidebar-text",children:T.title}),T.badge&&e.jsx("span",{className:`badge ${T.badge.color} sidebar-badge`,children:T.badge.text})]})},T.title),U=T=>{const m=["/frontend-settings","/general-settings","/users-management"];return T.map(B=>{const L=B.children?U(B.children):void 0,X=S(B.path);return x==="secondary"&&m.some(k=>X?.toLowerCase().startsWith(k))||!X&&(!L||L.length===0)?null:{...B,path:X,children:L}}).filter(Boolean)},w=T=>{const m=new Set,D=B=>(B||"").toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();return T.filter(B=>{const L=D(B.title||"");return!L||m.has(L)?!1:(m.add(L),!0)})};return e.jsxs("aside",{className:"sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs("div",{className:"brand-logo",children:[e.jsx(Fs,{className:"logo-icon",size:24,fill:"currentColor"}),e.jsxs("span",{className:"brand-name",children:["FORSAJ",e.jsx("span",{children:"PANEL"})]})]})}),e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"sidebar-section-label",children:"ƏSAS NAVİQASİYA"}),e.jsxs("ul",{className:"sidebar-menu",children:[w(U(i)).map(T=>{const m=T.children?.find(D=>!!D.path)?.path;return C(T,T.icon,T.path||m)}),i.length===0&&e.jsx("div",{className:"empty-sidebar-msg",children:e.jsx("p",{children:"Menyu boşdur"})})]})]}),e.jsx("div",{className:"sidebar-footer",children:e.jsxs("button",{className:"logout-btn",onClick:o,children:[e.jsx(Ys,{size:18}),e.jsx("span",{children:"Çıxış"})]})})]})},hl=({user:i})=>e.jsx("header",{className:"header",children:e.jsxs("div",{className:"header-right",children:[e.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"view-site-btn",children:[e.jsx(el,{size:16})," Sayta Bax"]}),e.jsxs("div",{className:"header-profile",children:[e.jsxs("div",{className:"profile-info",children:[e.jsx("span",{className:"profile-name",children:i?.name||"Forsaj İdarəçisi"}),e.jsx("span",{className:"profile-status",children:i?.role==="master"?"Baş Admin":"Sayt Redaktoru"})]}),e.jsx("img",{src:`https://ui-avatars.com/api/?name=${i?.name||"Admin"}&background=random`,alt:"Profil"})]})]})});let fl={data:""},gl=i=>{if(typeof window=="object"){let l=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return l.nonce=window.__nonce__,l.parentNode||(i||document.head).appendChild(l),l.firstChild}return i||fl},bl=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vl=/\/\*[^]*?\*\/|  +/g,vi=/\n+/g,Ve=(i,l)=>{let o="",x="",y="";for(let S in i){let v=i[S];S[0]=="@"?S[1]=="i"?o=S+" "+v+";":x+=S[1]=="f"?Ve(v,S):S+"{"+Ve(v,S[1]=="k"?"":l)+"}":typeof v=="object"?x+=Ve(v,l?l.replace(/([^,])+/g,j=>S.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,O=>/&/.test(O)?O.replace(/&/g,j):j?j+" "+O:O)):S):v!=null&&(S=/^--/.test(S)?S:S.replace(/[A-Z]/g,"-$&").toLowerCase(),y+=Ve.p?Ve.p(S,v):S+":"+v+";")}return o+(l&&y?l+"{"+y+"}":y)+x},Ue={},Pi=i=>{if(typeof i=="object"){let l="";for(let o in i)l+=o+Pi(i[o]);return l}return i},yl=(i,l,o,x,y)=>{let S=Pi(i),v=Ue[S]||(Ue[S]=(O=>{let C=0,U=11;for(;C<O.length;)U=101*U+O.charCodeAt(C++)>>>0;return"go"+U})(S));if(!Ue[v]){let O=S!==i?i:(C=>{let U,w,T=[{}];for(;U=bl.exec(C.replace(vl,""));)U[4]?T.shift():U[3]?(w=U[3].replace(vi," ").trim(),T.unshift(T[0][w]=T[0][w]||{})):T[0][U[1]]=U[2].replace(vi," ").trim();return T[0]})(i);Ue[v]=Ve(y?{["@keyframes "+v]:O}:O,o?"":"."+v)}let j=o&&Ue.g?Ue.g:null;return o&&(Ue.g=Ue[v]),((O,C,U,w)=>{w?C.data=C.data.replace(w,O):C.data.indexOf(O)===-1&&(C.data=U?O+C.data:C.data+O)})(Ue[v],l,x,j),v},Sl=(i,l,o)=>i.reduce((x,y,S)=>{let v=l[S];if(v&&v.call){let j=v(o),O=j&&j.props&&j.props.className||/^go/.test(j)&&j;v=O?"."+O:j&&typeof j=="object"?j.props?"":Ve(j,""):j===!1?"":j}return x+y+(v??"")},"");function Zt(i){let l=this||{},o=i.call?i(l.p):i;return yl(o.unshift?o.raw?Sl(o,[].slice.call(arguments,1),l.p):o.reduce((x,y)=>Object.assign(x,y&&y.call?y(l.p):y),{}):o,gl(l.target),l.g,l.o,l.k)}let wi,va,ya;Zt.bind({g:1});let Ke=Zt.bind({k:1});function Tl(i,l,o,x){Ve.p=l,wi=i,va=o,ya=x}function Qe(i,l){let o=this||{};return function(){let x=arguments;function y(S,v){let j=Object.assign({},S),O=j.className||y.className;o.p=Object.assign({theme:va&&va()},j),o.o=/ *go\d+/.test(O),j.className=Zt.apply(o,x)+(O?" "+O:"");let C=i;return i[0]&&(C=j.as||i,delete j.as),ya&&C[0]&&ya(j),wi(C,j)}return y}}var jl=i=>typeof i=="function",Qt=(i,l)=>jl(i)?i(l):i,El=(()=>{let i=0;return()=>(++i).toString()})(),Ui=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let l=matchMedia("(prefers-reduced-motion: reduce)");i=!l||l.matches}return i}})(),Al=20,Ea="default",Fi=(i,l)=>{let{toastLimit:o}=i.settings;switch(l.type){case 0:return{...i,toasts:[l.toast,...i.toasts].slice(0,o)};case 1:return{...i,toasts:i.toasts.map(v=>v.id===l.toast.id?{...v,...l.toast}:v)};case 2:let{toast:x}=l;return Fi(i,{type:i.toasts.find(v=>v.id===x.id)?1:0,toast:x});case 3:let{toastId:y}=l;return{...i,toasts:i.toasts.map(v=>v.id===y||y===void 0?{...v,dismissed:!0,visible:!1}:v)};case 4:return l.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(v=>v.id!==l.toastId)};case 5:return{...i,pausedAt:l.time};case 6:let S=l.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(v=>({...v,pauseDuration:v.pauseDuration+S}))}}},Ht=[],Yi={toasts:[],pausedAt:void 0,settings:{toastLimit:Al}},Be={},Ki=(i,l=Ea)=>{Be[l]=Fi(Be[l]||Yi,i),Ht.forEach(([o,x])=>{o===l&&x(Be[l])})},qi=i=>Object.keys(Be).forEach(l=>Ki(i,l)),Nl=i=>Object.keys(Be).find(l=>Be[l].toasts.some(o=>o.id===i)),Xt=(i=Ea)=>l=>{Ki(l,i)},Rl={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ll=(i={},l=Ea)=>{let[o,x]=g.useState(Be[l]||Yi),y=g.useRef(Be[l]);g.useEffect(()=>(y.current!==Be[l]&&x(Be[l]),Ht.push([l,x]),()=>{let v=Ht.findIndex(([j])=>j===l);v>-1&&Ht.splice(v,1)}),[l]);let S=o.toasts.map(v=>{var j,O,C;return{...i,...i[v.type],...v,removeDelay:v.removeDelay||((j=i[v.type])==null?void 0:j.removeDelay)||i?.removeDelay,duration:v.duration||((O=i[v.type])==null?void 0:O.duration)||i?.duration||Rl[v.type],style:{...i.style,...(C=i[v.type])==null?void 0:C.style,...v.style}}});return{...o,toasts:S}},_l=(i,l="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:l,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...o,id:o?.id||El()}),At=i=>(l,o)=>{let x=_l(l,i,o);return Xt(x.toasterId||Nl(x.id))({type:2,toast:x}),x.id},ne=(i,l)=>At("blank")(i,l);ne.error=At("error");ne.success=At("success");ne.loading=At("loading");ne.custom=At("custom");ne.dismiss=(i,l)=>{let o={type:3,toastId:i};l?Xt(l)(o):qi(o)};ne.dismissAll=i=>ne.dismiss(void 0,i);ne.remove=(i,l)=>{let o={type:4,toastId:i};l?Xt(l)(o):qi(o)};ne.removeAll=i=>ne.remove(void 0,i);ne.promise=(i,l,o)=>{let x=ne.loading(l.loading,{...o,...o?.loading});return typeof i=="function"&&(i=i()),i.then(y=>{let S=l.success?Qt(l.success,y):void 0;return S?ne.success(S,{id:x,...o,...o?.success}):ne.dismiss(x),y}).catch(y=>{let S=l.error?Qt(l.error,y):void 0;S?ne.error(S,{id:x,...o,...o?.error}):ne.dismiss(x)}),i};var Il=1e3,Ol=(i,l="default")=>{let{toasts:o,pausedAt:x}=Ll(i,l),y=g.useRef(new Map).current,S=g.useCallback((w,T=Il)=>{if(y.has(w))return;let m=setTimeout(()=>{y.delete(w),v({type:4,toastId:w})},T);y.set(w,m)},[]);g.useEffect(()=>{if(x)return;let w=Date.now(),T=o.map(m=>{if(m.duration===1/0)return;let D=(m.duration||0)+m.pauseDuration-(w-m.createdAt);if(D<0){m.visible&&ne.dismiss(m.id);return}return setTimeout(()=>ne.dismiss(m.id,l),D)});return()=>{T.forEach(m=>m&&clearTimeout(m))}},[o,x,l]);let v=g.useCallback(Xt(l),[l]),j=g.useCallback(()=>{v({type:5,time:Date.now()})},[v]),O=g.useCallback((w,T)=>{v({type:1,toast:{id:w,height:T}})},[v]),C=g.useCallback(()=>{x&&v({type:6,time:Date.now()})},[x,v]),U=g.useCallback((w,T)=>{let{reverseOrder:m=!1,gutter:D=8,defaultPosition:B}=T||{},L=o.filter(k=>(k.position||B)===(w.position||B)&&k.height),X=L.findIndex(k=>k.id===w.id),re=L.filter((k,I)=>I<X&&k.visible).length;return L.filter(k=>k.visible).slice(...m?[re+1]:[0,re]).reduce((k,I)=>k+(I.height||0)+D,0)},[o]);return g.useEffect(()=>{o.forEach(w=>{if(w.dismissed)S(w.id,w.removeDelay);else{let T=y.get(w.id);T&&(clearTimeout(T),y.delete(w.id))}})},[o,S]),{toasts:o,handlers:{updateHeight:O,startPause:j,endPause:C,calculateOffset:U}}},Cl=Ke`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kl=Ke`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Dl=Ke`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Bl=Qe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Cl} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kl} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Dl} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ml=Ke`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zl=Qe("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${Ml} 1s linear infinite;
`,Pl=Ke`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,wl=Ke`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ul=Qe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Pl} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${wl} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Fl=Qe("div")`
  position: absolute;
`,Yl=Qe("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Kl=Ke`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ql=Qe("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Kl} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$l=({toast:i})=>{let{icon:l,type:o,iconTheme:x}=i;return l!==void 0?typeof l=="string"?g.createElement(ql,null,l):l:o==="blank"?null:g.createElement(Yl,null,g.createElement(zl,{...x}),o!=="loading"&&g.createElement(Fl,null,o==="error"?g.createElement(Bl,{...x}):g.createElement(Ul,{...x})))},Gl=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Hl=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,Vl="0%{opacity:0;} 100%{opacity:1;}",Ql="0%{opacity:1;} 100%{opacity:0;}",Wl=Qe("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Zl=Qe("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Xl=(i,l)=>{let o=i.includes("top")?1:-1,[x,y]=Ui()?[Vl,Ql]:[Gl(o),Hl(o)];return{animation:l?`${Ke(x)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ke(y)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Jl=g.memo(({toast:i,position:l,style:o,children:x})=>{let y=i.height?Xl(i.position||l||"top-center",i.visible):{opacity:0},S=g.createElement($l,{toast:i}),v=g.createElement(Zl,{...i.ariaProps},Qt(i.message,i));return g.createElement(Wl,{className:i.className,style:{...y,...o,...i.style}},typeof x=="function"?x({icon:S,message:v}):g.createElement(g.Fragment,null,S,v))});Tl(g.createElement);var en=({id:i,className:l,style:o,onHeightUpdate:x,children:y})=>{let S=g.useCallback(v=>{if(v){let j=()=>{let O=v.getBoundingClientRect().height;x(i,O)};j(),new MutationObserver(j).observe(v,{subtree:!0,childList:!0,characterData:!0})}},[i,x]);return g.createElement("div",{ref:S,className:l,style:o},y)},tn=(i,l)=>{let o=i.includes("top"),x=o?{top:0}:{bottom:0},y=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ui()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${l*(o?1:-1)}px)`,...x,...y}},an=Zt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yt=16,sn=({reverseOrder:i,position:l="top-center",toastOptions:o,gutter:x,children:y,toasterId:S,containerStyle:v,containerClassName:j})=>{let{toasts:O,handlers:C}=Ol(o,S);return g.createElement("div",{"data-rht-toaster":S||"",style:{position:"fixed",zIndex:9999,top:Yt,left:Yt,right:Yt,bottom:Yt,pointerEvents:"none",...v},className:j,onMouseEnter:C.startPause,onMouseLeave:C.endPause},O.map(U=>{let w=U.position||l,T=C.calculateOffset(U,{reverseOrder:i,gutter:x,defaultPosition:l}),m=tn(w,T);return g.createElement(en,{id:U.id,key:U.id,onHeightUpdate:C.updateHeight,className:U.visible?an:"",style:m},U.type==="custom"?Qt(U.message,U):y?y(U):g.createElement(Jl,{toast:U,position:w}))}))},A=ne;const ln={toolbar:[[{header:[2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},nn=["Shield","Users","Leaf","Zap","Target","Globe","Star","Flag"],ca=["Info","Settings","ShieldAlert","Leaf","FileText"],rn=[{title:"Səhifə və Sistem",subtitle:"Səhifə başlığı, status və sistem mesajları",ids:["PAGE_TITLE","PAGE_SUBTITLE","ONLINE_STATUS_LABEL","FORM_TOAST_REQUIRED","FORM_TOAST_SUCCESS","FORM_TOAST_ERROR"]},{title:"Baş Ofis",subtitle:"Ofis məlumatları və əsas əlaqə sahələri",ids:["OFFICE_LABEL","ADDRESS_LINE_1","ADDRESS_LINE_2","WORK_HOURS","PHONE_LABEL","PHONE_NUMBER","EMAIL_LABEL","EMAIL_Address"]},{title:"Departamentlər",subtitle:"Departament kartları və e-poçt məlumatları",ids:["DEPT_HQ_TITLE","DEPT_HQ_DESC","DEPT_HQ_EMAIL","DEPT_PR_TITLE","DEPT_PR_DESC","DEPT_PR_EMAIL","DEPT_TECH_TITLE","DEPT_TECH_DESC","DEPT_TECH_EMAIL"]},{title:"Form",subtitle:"Müraciət formu sahələri və seçimlər",ids:["FORM_TITLE","FORM_STATUS_LABEL","FORM_METHOD","FORM_CONTENT_TYPE","FIELD_NAME_LABEL","FIELD_NAME_PLACEHOLDER","FIELD_CONTACT_LABEL","FIELD_CONTACT_PLACEHOLDER","FIELD_TOPIC_LABEL","TOPIC_GENERAL","TOPIC_PILOT","TOPIC_TECH","FIELD_MESSAGE_LABEL","FIELD_MESSAGE_PLACEHOLDER","BTN_SEND"]}],yi={privacypolicypage:[{title:"Səhifə Başlığı",subtitle:"Ümumi başlıq və tarix məlumatları",ids:["PAGE_TITLE","PAGE_SUBTITLE","INTRO_TEXT","UPDATED_LABEL","UPDATED_DATE"]},{title:"Mətn Bölmələri",subtitle:"Məxfilik siyasətinin əsas maddələri",ids:["SECTION_1_TITLE","SECTION_1_BODY","SECTION_2_TITLE","SECTION_2_BODY","SECTION_3_TITLE","SECTION_3_BODY","SECTION_4_TITLE","SECTION_4_BODY","SECTION_5_TITLE","SECTION_5_BODY","SECTION_6_TITLE","SECTION_6_BODY","SECTION_7_TITLE","SECTION_7_BODY","SECTION_8_TITLE","SECTION_8_BODY","SECTION_9_TITLE","SECTION_9_BODY"]},{title:"Əlaqə",subtitle:"Səhifənin sonunda görünən əlaqə məlumatları",ids:["CONTACT_TITLE","CONTACT_EMAIL","CONTACT_WEBSITE"]}],termsofservicepage:[{title:"Səhifə Başlığı",subtitle:"Ümumi başlıq və tarix məlumatları",ids:["PAGE_TITLE","PAGE_SUBTITLE","INTRO_TEXT","UPDATED_LABEL","UPDATED_DATE"]},{title:"Mətn Bölmələri",subtitle:"Xidmət şərtlərinin əsas maddələri",ids:["SECTION_1_TITLE","SECTION_1_BODY","SECTION_2_TITLE","SECTION_2_BODY","SECTION_3_TITLE","SECTION_3_BODY","SECTION_4_TITLE","SECTION_4_BODY","SECTION_5_TITLE","SECTION_5_BODY","SECTION_6_TITLE","SECTION_6_BODY","SECTION_7_TITLE","SECTION_7_BODY","SECTION_8_TITLE","SECTION_8_BODY"]},{title:"Əlaqə",subtitle:"Səhifənin sonunda görünən əlaqə məlumatları",ids:["CONTACT_TITLE","CONTACT_EMAIL","CONTACT_WEBSITE"]}]},Kt=i=>{if(!i)return"";const l=i.replace(/\\+\[/g,"[").replace(/\\+\]/g,"]");if(!/\[(\/?)(B|I|U|S|CENTER|FONT|URL|IMG|COLOR|SIZE|QUOTE|CODE|LIST|\*)[\]=\s\w"':#.,+-]*\]/i.test(l))return l;let x=l;return x=x.replace(/\[CENTER\]([\s\S]*?)\[\/CENTER\]/gi,'<div style="text-align:center;">$1</div>'),x=x.replace(/\[FONT=([^\]]+)\]([\s\S]*?)\[\/FONT\]/gi,'<span style="font-family:$1;">$2</span>'),x=x.replace(/\[B\]([\s\S]*?)\[\/B\]/gi,"<strong>$1</strong>"),x=x.replace(/\[I\]([\s\S]*?)\[\/I\]/gi,"<em>$1</em>"),x=x.replace(/\[U\]([\s\S]*?)\[\/U\]/gi,'<span style="text-decoration:underline;">$1</span>'),x=x.replace(/\[S\]([\s\S]*?)\[\/S\]/gi,"<strike>$1</strike>"),x=x.replace(/\[URL=([^\]]+)\]([\s\S]*?)\[\/URL\]/gi,'<a href="$1" target="_blank" rel="noopener noreferrer">$2</a>'),x=x.replace(/\[IMG\]([\s\S]*?)\[\/IMG\]/gi,'<img src="$1" style="max-width:100%;" />'),x=x.replace(/\[COLOR=([^\]]+)\]([\s\S]*?)\[\/COLOR\]/gi,'<span style="color:$1;">$2</span>'),x=x.replace(/\[SIZE=([^\]]+)\]([\s\S]*?)\[\/SIZE\]/gi,'<span style="font-size:$1px;">$2</span>'),x=x.replace(/\[QUOTE\]([\s\S]*?)\[\/QUOTE\]/gi,"<blockquote>$1</blockquote>"),x=x.replace(/\[CODE\]([\s\S]*?)\[\/CODE\]/gi,"<pre><code>$1</code></pre>"),x=x.replace(/\r?\n/g,"<br />"),x},qt=({value:i,onChange:l,id:o,readOnly:x=!1})=>e.jsx("div",{className:"quill-editor-wrapper",id:o,children:e.jsx(ml,{theme:"snow",value:i||"",onChange:l,modules:x?{toolbar:!1}:ln,readOnly:x,placeholder:"Məzmunu daxil edin..."})}),ct=i=>{if(/^[A-Z0-9_]+$/.test(i.id))return i.id.trim();const l=(i.label||"").trim();return l.startsWith("KEY:")?l.replace(/^KEY:\s*/i,"").trim():""},dn=/\b[A-Z0-9]+(?:_[A-Z0-9]+)+\b/,Wt=i=>dn.test((i||"").trim()),on=i=>i.replace(/_/g," ").replace(/\s+/g," ").trim(),je=i=>{if(!i)return"";let l=i;for(let x=0;x<4;x++){const S=(new DOMParser().parseFromString(l,"text/html").body.textContent||"").trim();if(!S||S===l)break;l=S}return(new DOMParser().parseFromString(l,"text/html").body.textContent||"").replace(/\u00a0/g," ").replace(/\s+/g," ").trim()},yt=i=>{const l=(i||"").trim();if(!l)return"";if(/^(https?:)?\/\//i.test(l))return l;const o=l.startsWith("/")?l:`/${l}`;return`${window.location.origin}${o}`},cn=i=>{const l=(i||"").trim();if(!l)return"";if(/^https?:\/\//i.test(l)){try{const o=new URL(l);if(o.pathname.startsWith("/uploads/"))return`${o.pathname}${o.search}${o.hash}`}catch{}return l}return l.startsWith("/")?l:`/${l}`},$i=i=>/&(?:lt|gt|nbsp|quot|amp);|<\/?[a-z][^>]*>/i.test(i||""),un=i=>/<(ul|ol|li|a|img|iframe|video|table|h[1-6])\b|\[(b|i|u|url|img|center)\]/i.test(i||""),pn=i=>!!(ct(i)||at(i.id)||i.id.startsWith("txt-")||i.id.startsWith("val-")||i.id.startsWith("RULES_")||i.id.startsWith("PAGE_")||i.id.startsWith("BTN_")||i.id.startsWith("DOC_")||$i(i.value||"")&&!un(i.value||"")),Fe="label-stat-",Ye="value-stat-",at=i=>i.startsWith(Fe)||i.startsWith(Ye),Si=i=>i.startsWith(Fe)?i.slice(Fe.length):i.startsWith(Ye)?i.slice(Ye.length):"",$t=(i,l)=>ct(i)?l==="value":!0,mn=i=>!ct(i),Ti=i=>{const l=ct(i);return!!((i.id||"").includes("_")||l&&l.includes("_")||l&&l.includes("_")&&Wt(je(i.value||""))||!l&&Wt(i.value))},ua=/^PARTNER_(\d+)_(NAME|TAG|ICON|USE_IMAGE|IMAGE_ID)$/,xn=/^RULE_TAB_(\d+)_(ID|TITLE|ICON|DOC_NAME|DOC_BUTTON|DOC_URL)$/,hn=/^RULE_TAB_(\d+)_ITEM_(\d+)_(TITLE|DESC)$/,pa=/^RULE_TAB_\d+_(?:ID|TITLE|ICON|DOC_NAME|DOC_BUTTON|DOC_URL|ITEM_\d+_(?:TITLE|DESC))$/,fn=i=>i==="NAME"?"name":i==="TAG"?"tag":i==="ICON"?"icon":i==="USE_IMAGE"?"useImage":i==="IMAGE_ID"?"imageId":null,ma={hero:"Hero Bölməsi",marquee:"Marquee Yazısı",navbar:"Menyu və Naviqasiya",about:"HAQQIMIZDA",mission_vision:"Missiya və Vizyon",values:"Dəyərlərimiz",eventspage:"Tədbirlər Səhifəsi",newspage:"Xəbər Səhifəsi",gallerypage:"Qalereya Səhifəsi",contactpage:"Əlaqə Səhifəsi",rulespage:"Qaydalar Səhifəsi",news:"Xəbərlər",drivers:"Sürücülər",categoryleaders:"Kateqoriya Liderləri",gallery:"Qalereya",videos:"Videolar",videoarchive:"Video Arxiv",privacypolicypage:"Məxfilik Siyasəti",termsofservicepage:"Xidmət Şərtləri",footer:"Footer",partners:"Tərəfdaşlar",offroadinfo:"Offroad Nədir?",whatisoffroad:"Offroad Nədir?",nextrace:"Növbəti Yarış",site:"Sayt Ayarları",settings:"Ümumi Parametrlər",general:"SİSTEM AYARLARI",app:"Tətbiq Ayarları"},dt={home:["navbar","hero","marquee","categoryleaders","footer"],abouttab:["about"],newstab:["newspage"],eventstab:["eventspage"],driverstab:["drivers"],gallerytab:["gallerypage","gallery","videos","videoarchive"],rulestab:["rulespage","privacypolicypage","termsofservicepage"],contacttab:["contactpage"]},Gi=Object.entries(dt).reduce((i,[l,o])=>(o.forEach(x=>{i[x]=l}),i),{}),ji=i=>{if(!i)return[];if(dt[i])return dt[i];const l=Gi[i];return l&&dt[l]?dt[l]:[i]},xa="forsaj_site_content_version",Ei="forsaj_grouped_page_collapsed_v1",Ai="forsaj_section_collapsed_v1",xe=(i,l)=>Number.isFinite(i)?i:l,gn=()=>{const[i,l]=g.useState([]),[o,x]=g.useState(0),[y,S]=g.useState(!1),[v,j]=g.useState(!1),[O,C]=g.useState(0),[U,w]=g.useState(""),[T,m]=g.useState(!1),[D,B]=g.useState(!1),[L,X]=g.useState(!1),[re,k]=g.useState([]),[I,We]=g.useState(null),[Me,ut]=g.useState(""),[_e,ze]=g.useState(""),[F,fe]=g.useState(()=>{try{const t=localStorage.getItem(Ei),a=t?JSON.parse(t):{};return a&&typeof a=="object"?a:{}}catch{return{}}}),[oe,Ie]=g.useState(()=>{try{const t=localStorage.getItem(Ai),a=t?JSON.parse(t):{};return a&&typeof a=="object"?a:{}}catch{return{}}}),[Oe,ce]=g.useState([]),[Ae,pe]=g.useState(null),[W,c]=g.useState({}),[R,M]=g.useState([]),[H,V]=g.useState(null),[G,me]=g.useState({}),[ge,Nt]=g.useState([]),[pt,Jt]=g.useState(null),[ye,ea]=g.useState({}),ta=Ta(),Aa=new URLSearchParams(ta.search),aa=Aa.get("mode"),qe=Aa.get("page"),[le,Ne]=g.useState("extract"),[ia,Rt]=g.useState([]),Na=g.useRef(!1),[mt,Ra]=g.useState(null),[Ze,sa]=g.useState({});g.useEffect(()=>{Ne(aa||"extract")},[aa,qe]),g.useEffect(()=>{localStorage.setItem(Ei,JSON.stringify(F))},[F]),g.useEffect(()=>{localStorage.setItem(Ai,JSON.stringify(oe))},[oe]);const[Se,$e]=g.useState([]),[ae,xt]=g.useState(null),[it,ht]=g.useState(null),[be,st]=g.useState({}),La=async()=>{try{const a=await(await fetch("/api/site-content")).json();if(Array.isArray(a)){const r=["hero","marquee","navbar","about","mission_vision","values","rulespage","eventspage","newspage","gallerypage","contactpage","privacypolicypage","termsofservicepage","news","drivers","driverspage","categoryleaders","gallery","videos","videoarchive","footer","partners","offroadinfo","whatisoffroad","nextrace","site","settings","general","app"],u=[...a],z=f=>{const E=f.sections||[],N=f.images||[],_=(Y,Z,te)=>{E.some(nt=>nt.id===Y)||E.push({id:Y,type:"text",label:Z,value:te})},ie=(Y,Z,te)=>{N.some(nt=>nt.id===Y)||N.push({id:Y,path:Z,alt:te,type:"remote",order:N.length})};if(_("PAGE_TITLE","Səhifə Başlığı","HAQQIMIZDA"),_("PAGE_SUBTITLE","Səhifə Alt Başlığı","BİZİM HEKAYƏMİZ // MİSSİYAMIZ VƏ GƏLƏCƏYİMİZ"),_("txt-est-2018-motorsp-949","About Üst Başlıq","EST. 2018 // MOTORSPORT MƏRKƏZİ"),_("txt-forsaj-club-az-rba-66","About Ana Başlıq",'"FORSAJ CLUB" AZƏRBAYCANIN OFFROAD MƏDƏNİYYƏTİNİ PEŞƏKAR SƏVİYYƏYƏ ÇATDIRMAQ ÜÇÜN YARADILMIŞDIR.'),_("txt-bi-zi-m-mi-ssi-yamiz-424","Missiya Başlığı","BİZİM MİSSİYAMIZ"),_("txt-az-rbaycan-n-h-r-bir-45","Missiya Təsviri","Azərbaycanın hər bir guşəsində offroad idmanını təbliğ etmək, yerli pilotları beynəlxalq standartlara uyğun yetişdirmək və təbiəti qoruyaraq ekstremal adrenalin təcrübəsi bəxş etmək."),_("txt-h-d-fi-mi-z-dakar-ral-50","Missiya Hədəf Mətni","HƏDƏFİMİZ: DAKAR RALLİ 2026"),_("txt-bi-zi-m-baxi-imiz-944","Vizyon Başlığı","BİZİM BAXIŞIMIZ"),_("txt-regionun-n-b-y-k-mo-901","Vizyon Təsviri","Regionun ən böyük motorsport hubuna çevrilmək, rəqəmsal və fiziki infrastrukturlarla pilotlarımızı dəstəkləmək və motorsportu hər kəs üçün əlçatan bir ehtirasa çevirmək."),_("txt-qafqazin-li-der-klubu-758","Vizyon Şüarı","QAFQAZIN LİDER KLUBUNA ÇEVRİLMƏK"),_("txt-fundamental-pri-nsi-pl-219","Dəyərlər Alt Başlıq","FUNDAMENTAL PRİNSİPLƏR"),_("txt-sas-d-y-rl-ri-mi-z-482","Dəyərlər Başlığı","ƏSAS DƏYƏRLƏRİMİZ"),_("val-icon-1","Dəyər 1 İkonu","Shield"),_("val-title-1","Dəyər 1 Başlıq","TƏHLÜKƏSİZLİK"),_("val-desc-1","Dəyər 1 Təsvir","EKSTREMAL İDMANDA CAN SAĞLIĞI BİZİM BİR NÖMRƏLİ QAYDAMIZDIR. BÜTÜN TEXNİKALARIMIZ FIA STANDARTLARINA UYĞUN YOXLANILIR."),_("val-icon-2","Dəyər 2 İkonu","Users"),_("val-title-2","Dəyər 2 Başlıq","İCMA RUHU"),_("val-desc-2","Dəyər 2 Təsvir","FORSAJ BİR KLUBDAN DAHA ÇOX, SADİQ VƏ BÖYÜK BİR AİLƏDİR. BİRİMİZ HAMIMIZ, HAMIMIZ BİRİMİZ ÜÇÜN!"),_("val-icon-3","Dəyər 3 İkonu","Leaf"),_("val-title-3","Dəyər 3 Başlıq","TƏBİƏTİ QORU"),_("val-desc-3","Dəyər 3 Təsvir","BİZ OFFROAD EDƏRKƏN TƏBİƏTƏ ZƏRƏR VERMƏMƏYİ ÖZÜMÜZƏ BORC BİLİRİK. EKOLOJİ BALANS BİZİM ÜÇÜN MÜQƏDDƏSDİR."),_("val-icon-4","Dəyər 4 İkonu","Zap"),_("val-title-4","Dəyər 4 Başlıq","MÜKƏMMƏLLİK"),_("val-desc-4","Dəyər 4 Təsvir","HƏR YARIŞDA, HƏR DÖNGƏDƏ DAHA YAXŞI OLMAĞA ÇALIŞIRIQ. TƏLİMLƏRİMİZ PEŞƏKAR İNSTRUKTORLAR TƏRƏFİNDƏN İDARƏ OLUNUR."),E.some(Y=>Y.id.includes("label-stat"))&&E.some(Y=>Y.id.includes("value-stat"))){f.sections=E,ee(f,["PAGE_TITLE","PAGE_SUBTITLE","txt-est-2018-motorsp-949"]),ie("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),f.images=N;return}[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}].forEach((Y,Z)=>{const te=`${Z+1}`;E.push({id:`label-stat-${te}`,type:"text",label:`Statistika Etiketi ${Z+1}`,value:Y.label}),E.push({id:`value-stat-${te}`,type:"text",label:`Statistika Dəyəri ${Z+1}`,value:Y.value})}),f.sections=E,ee(f,["PAGE_TITLE","PAGE_SUBTITLE","txt-est-2018-motorsp-949"]),ie("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),f.images=N},q=f=>{const E=f.sections||[],N=f.images||[],_=(Q,Y,Z)=>{E.some(te=>te.id===Q)||E.push({id:Q,type:"text",label:Y,value:Z})},ie=Q=>{N.some(Y=>Y.id===Q)||N.push({id:Q,path:"",alt:Q,type:"local",order:N.length})};_("SECTION_TITLE","Bölmə Başlığı","RƏSMİ TƏRƏFDAŞLARIMIZ"),[{name:"AZMF",tag:"OFFICIAL PARTNER",icon:"ShieldCheck"},{name:"OFFROAD AZ",tag:"OFFICIAL PARTNER",icon:"Truck"},{name:"GLOBAL 4X4",tag:"OFFICIAL PARTNER",icon:"Globe"},{name:"RACE TECH",tag:"OFFICIAL PARTNER",icon:"Zap"}].forEach((Q,Y)=>{const Z=Y+1;_(`PARTNER_${Z}_NAME`,`Tərəfdaş ${Z} Ad`,Q.name),_(`PARTNER_${Z}_TAG`,`Tərəfdaş ${Z} Etiket`,Q.tag),_(`PARTNER_${Z}_ICON`,`Tərəfdaş ${Z} İkon`,Q.icon),_(`PARTNER_${Z}_USE_IMAGE`,`Tərəfdaş ${Z} Görsel İstifadə`,"false"),_(`PARTNER_${Z}_IMAGE_ID`,`Tərəfdaş ${Z} Görsel ID`,`partner-image-${Z}`),ie(`partner-image-${Z}`)}),f.sections=E,f.images=N},P=f=>{const E=f.sections||[],N=(_,ie,he,Q)=>{const Y=E.findIndex(Z=>Z.id===_);if(Y===-1){E.push({id:_,type:"text",label:ie,value:he,...Q?{url:Q}:{}});return}Q&&!E[Y].url&&(E[Y].url=Q)};N("text-3","Hero Düymə 1","YARIŞLARA BAX","events"),N("text-4","Hero Düymə 2","HAQQIMIZDA","about"),f.sections=E},$=(f,E)=>{const N=f.sections||[];E.forEach(_=>{const ie=N.findIndex(he=>he.id===_.id);if(ie===-1){N.push({id:_.id,type:"text",label:_.label,value:_.value,..._.url?{url:_.url}:{}});return}_.url&&!N[ie].url&&(N[ie].url=_.url)}),f.sections=N},ee=(f,E)=>{const N=f.sections||[];if(N.length===0||E.length===0)return;const _=new Map(E.map((Q,Y)=>[Q,Y])),ie=N.filter(Q=>_.has(Q.id)).sort((Q,Y)=>_.get(Q.id)-_.get(Y.id)),he=N.filter(Q=>!_.has(Q.id));f.sections=[...ie,...he].map((Q,Y)=>({...Q,order:Y}))},we=f=>{$(f,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"ƏLAQƏ"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"GET IN TOUCH // CONTACT CENTER"},{id:"OFFICE_LABEL",label:"Ofis Bölmə Başlığı",value:"BAŞ OFİS"},{id:"ADDRESS_LINE_1",label:"Ünvan Sətir 1",value:"AZADLIQ 102, BAKI"},{id:"ADDRESS_LINE_2",label:"Ünvan Sətir 2",value:"AZƏRBAYCAN // SECTOR_01"},{id:"WORK_HOURS",label:"İş Saatı",value:"09:00 - 18:00"},{id:"ONLINE_STATUS_LABEL",label:"Onlayn Status Mətni",value:"ONLINE"},{id:"PHONE_LABEL",label:"Telefon Başlığı",value:"ƏLAQƏ NÖMRƏSİ"},{id:"PHONE_NUMBER",label:"Telefon Nömrəsi",value:"+994 50 123 45 67"},{id:"EMAIL_LABEL",label:"E-poçt Başlığı",value:"E-POÇT ÜNVANI"},{id:"EMAIL_Address",label:"Əsas E-poçt Ünvanı",value:"PROTOCOL@FORSAJ.AZ"},{id:"DEPT_HQ_TITLE",label:"Departament 1 Başlıq",value:"BAŞ OFİS"},{id:"DEPT_HQ_DESC",label:"Departament 1 Təsvir",value:"ÜMUMİ SORĞULAR VƏ İDARƏETMƏ"},{id:"DEPT_HQ_EMAIL",label:"Departament 1 E-poçt",value:"HQ@FORSAJ.AZ"},{id:"DEPT_PR_TITLE",label:"Departament 2 Başlıq",value:"MEDİA VƏ PR"},{id:"DEPT_PR_DESC",label:"Departament 2 Təsvir",value:"MƏTBUAT VƏ ƏMƏKDAŞLIQ"},{id:"DEPT_PR_EMAIL",label:"Departament 2 E-poçt",value:"PR@FORSAJ.AZ"},{id:"DEPT_TECH_TITLE",label:"Departament 3 Başlıq",value:"TEXNİKİ DƏSTƏK"},{id:"DEPT_TECH_DESC",label:"Departament 3 Təsvir",value:"PİLOTLAR ÜÇÜN TEXNİKİ YARDIM"},{id:"DEPT_TECH_EMAIL",label:"Departament 3 E-poçt",value:"TECH@FORSAJ.AZ"},{id:"FORM_TITLE",label:"Form Başlığı",value:"MÜRACİƏT FORMU"},{id:"FORM_STATUS_LABEL",label:"Form Status Mətni",value:"STATUS: ONLINE"},{id:"FORM_METHOD",label:"Form Method",value:"POST"},{id:"FORM_CONTENT_TYPE",label:"Form Content-Type",value:"application/json"},{id:"FIELD_NAME_LABEL",label:"Ad Soyad Label",value:"AD VƏ SOYAD"},{id:"FIELD_NAME_PLACEHOLDER",label:"Ad Soyad Placeholder",value:"AD SOYAD DAXİL EDİN"},{id:"FIELD_CONTACT_LABEL",label:"Əlaqə Label",value:"ƏLAQƏ VASİTƏSİ"},{id:"FIELD_CONTACT_PLACEHOLDER",label:"Əlaqə Placeholder",value:"TELEFON VƏ YA EMAIL"},{id:"FIELD_TOPIC_LABEL",label:"Müraciət İstiqaməti Label",value:"MÜRACİƏT İSTİQAMƏTİ"},{id:"TOPIC_GENERAL",label:"Mövzu Seçimi 1",value:"ÜMUMİ SORĞU"},{id:"TOPIC_PILOT",label:"Mövzu Seçimi 2",value:"PİLOT QEYDİYYATI"},{id:"TOPIC_TECH",label:"Mövzu Seçimi 3",value:"TEXNİKİ YARDIM"},{id:"FIELD_MESSAGE_LABEL",label:"Mesaj Label",value:"MESAJINIZ"},{id:"FIELD_MESSAGE_PLACEHOLDER",label:"Mesaj Placeholder",value:"BURADA YAZIN..."},{id:"BTN_SEND",label:"Form Göndər Düyməsi",value:"MESAJI GÖNDƏR"},{id:"FORM_TOAST_REQUIRED",label:"Form Boş Sahə Xəbərdarlığı",value:"Zəhmət olmasa bütün sahələri doldurun."},{id:"FORM_TOAST_SUCCESS",label:"Form Uğurlu Göndəriş Mesajı",value:"Müraciətiniz uğurla göndərildi!"},{id:"FORM_TOAST_ERROR",label:"Form Xəta Mesajı",value:"Gondərilmə zamanı xəta baş verdi."},{id:"FOOTER_NEWSLETTER_TITLE",label:"Abunə Başlığı",value:"XƏBƏRDAR OL"},{id:"FOOTER_NEWSLETTER_DESC",label:"Abunə Təsviri",value:"Yarış təqvimi və xəbərlərdən anında xəbərdar olmaq üçün abunə olun."}])},tt=f=>{$(f,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"TƏDBİRLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"OFFICIAL EVENT CALENDAR // FORSAJ CLUB"},{id:"PILOT_FORM_TOAST_REQUIRED",label:"Pilot Form Boş Sahə Xəbərdarlığı",value:"Zəhmət olmasa bütün sahələri doldurun."},{id:"PILOT_FORM_TOAST_SUCCESS",label:"Pilot Form Uğurlu Göndəriş Mesajı",value:"Qeydiyyat müraciətiniz uğurla göndərildi!"},{id:"PILOT_FORM_TOAST_ERROR",label:"Pilot Form Xəta Mesajı",value:"Gondərilmə zamanı xəta baş verdi."},{id:"PLACEHOLDER_PHONE",label:"Telefon Placeholder",value:"+994 -- --- -- --"},{id:"SPECTATOR_TICKET_URL",label:"İzləyici Bilet Linki",value:"https://iticket.az",url:"https://iticket.az"},{id:"CLUB_OPTION_1",label:"Klub Seçimi 1",value:"Fərdi İştirakçı"},{id:"CLUB_OPTION_2",label:"Klub Seçimi 2",value:"Club 4X4"},{id:"CLUB_OPTION_3",label:"Klub Seçimi 3",value:"Extreme 4X4"},{id:"CLUB_OPTION_4",label:"Klub Seçimi 4",value:"Forsaj Club"},{id:"CLUB_OPTION_5",label:"Klub Seçimi 5",value:"Offroad.az"},{id:"CLUB_OPTION_6",label:"Klub Seçimi 6",value:"Overland 4X4"},{id:"CLUB_OPTION_7",label:"Klub Seçimi 7",value:"PatrolClub.az"},{id:"CLUB_OPTION_8",label:"Klub Seçimi 8",value:"Victory Club"},{id:"CLUB_OPTION_9",label:"Klub Seçimi 9",value:"Zəfər 4X4 Club"}])},ke=f=>{$(f,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"XƏBƏRLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"MOTORSPORT MAGAZINE // SEASON 2024"}]),ee(f,["PAGE_TITLE","PAGE_SUBTITLE"])},zt=f=>{$(f,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"QALEREYA"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"XRONOLOJİ MOTORSPORT ARXİVİ // FORSAJ CLUB"},{id:"TAB_PHOTOS",label:"Tab Foto",value:"FOTOLAR"},{id:"TAB_VIDEOS",label:"Tab Video",value:"VİDEOLAR"},{id:"DYNAMIC_COLLECTION",label:"Dinamik Kolleksiya Alt Başlıq",value:"CANLI ARXİV // YENİLƏNƏN MƏZMUN"},{id:"TOTAL_LABEL",label:"Toplam Etiketi",value:"TOPLAM"},{id:"TYPE_PHOTO",label:"Foto Tipi",value:"FOTO"},{id:"TYPE_VIDEO",label:"Video Tipi",value:"VİDEO"}])},J=f=>{$(f,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"SÜRÜCÜLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"OFFICIAL PILOT STANDINGS // SEASON 2024"}])},Pt=f=>{$(f,[{id:"FOOTER_LOGO_ALT",label:"Footer Logo Alt",value:"Forsaj Logo"},{id:"FOOTER_ABOUT_TEXT",label:"Footer Haqqında Mətn",value:"Azərbaycanın ən prestijli motorsport mərkəzi. Sərhədsiz offroad həyəcanını bizimlə yaşayın."},{id:"FOOTER_ADDRESS_LABEL",label:"Footer Ünvan Başlığı",value:"ÜNVAN"},{id:"FOOTER_CONTACT_LABEL",label:"Footer Əlaqə Başlığı",value:"ƏLAQƏ"},{id:"FOOTER_NAV_TITLE",label:"Footer Naviqasiya Başlığı",value:"NAVİQASİYA"},{id:"FOOTER_MOTORSPORT_TITLE",label:"Footer Motorsport Başlığı",value:"MOTORSPORT"},{id:"FOOTER_NEWSLETTER_TITLE",label:"Footer Abunə Başlığı",value:"XƏBƏRDAR OL"},{id:"FOOTER_NEWSLETTER_DESC",label:"Footer Abunə Təsviri",value:"Yarış təqvimi və xəbərlərdən anında xəbərdar olmaq üçün abunə olun."},{id:"FOOTER_NEWSLETTER_PLACEHOLDER",label:"Footer Abunə Placeholder",value:"EMAIL DAXİL EDİN"},{id:"FOOTER_COPYRIGHT",label:"Footer Copyright",value:"© 2024 FORSAJ CLUB. ALL RIGHTS RESERVED."},{id:"FOOTER_PRIVACY_LABEL",label:"Footer Privacy Link Mətni",value:"Privacy Policy",url:"privacy"},{id:"FOOTER_TERMS_LABEL",label:"Footer Terms Link Mətni",value:"Terms of Service",url:"terms"}]);const E=f.sections||[],N=(_,ie)=>{const he=E.findIndex(Y=>Y.id===_);if(he===-1)return;const Q=String(E[he].url||"").trim();(!Q||Q==="#")&&(E[he].url=ie)};N("FOOTER_PRIVACY_LABEL","privacy"),N("FOOTER_TERMS_LABEL","terms"),f.sections=E},Xa=f=>{$(f,[{id:"LEADER_TITLE_SUFFIX",label:"Lider Başlıq Suffix",value:"LİDERİ"},{id:"EMPTY_DRIVER_NAME",label:"Boş Sürücü Adı",value:"---"},{id:"EMPTY_DRIVER_TEAM",label:"Boş Komanda Adı",value:"---"}])},Ja=f=>{$(f,[{id:"RACE_IMAGE_ALT",label:"Növbəti Yarış Görsel Alt",value:"Next Race"}])},ei=f=>{$(f,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"QAYDALAR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"FORSAJ MOTORSPORT OFFICIAL RULES"}]);const E=f.sections||[],N=(Y,Z)=>(E.find(te=>te.id===Y)?.value||Z).trim()||Z,_=[{index:1,id:"pilot",title:N("RULES_PILOT_TITLE","PİLOT PROTOKOLU"),icon:"Info",items:[{index:1,title:N("RULES_PILOT_SUB1","İSTİFADƏÇİ ÖHDƏLİKLƏRİ"),desc:N("RULES_PILOT_DESC1","HƏR BİR İŞTİRAKÇI FEDERASİYANIN MÜƏYYƏN ETDİYİ BÜTÜN TEXNİKİ VƏ ETİK NORMALARI QEYD-ŞƏRTSİZ QƏBUL EDİR.")},{index:2,title:N("RULES_PILOT_SUB2","DİSKVALİFİKASİYA"),desc:N("RULES_PILOT_DESC2","PROTOKOLDAN KƏNARA ÇIXMAQ VƏ YA HAKİM QƏRARLARINA ETİRAZ ETMƏK DƏRHAL DİSKVALİFİKASİYA İLƏ NƏTİCƏLƏNƏ BİLƏR.")},{index:3,title:N("RULES_PILOT_SUB3","TEXNİKİ TƏLƏBLƏR"),desc:N("RULES_PILOT_DESC3","BÜTÜN AVADANLIQLAR YARIŞDAN 24 SAAT ƏVVƏL TEXNİKİ KOMİSSİYA TƏRƏFİNDƏN YOXLANILMALI VƏ TƏHLÜKƏSİZLİK SERTİFİKATI İLƏ TƏMİN EDİLMƏLİDİR.")}]},{index:2,id:"technical",title:N("RULES_TECH_TITLE","TEXNİKİ NORMARTİVLƏR"),icon:"Settings",items:[{index:1,title:N("RULES_TECH_SUB1","TƏKƏR ÖLÇÜLƏRİ"),desc:N("RULES_TECH_DESC1","PRO CLASS ÜÇÜN MAKSİMUM TƏKƏR ÖLÇÜSÜ 37 DÜYM, AMATEUR CLASS ÜÇÜN İSƏ 33 DÜYM OLARAQ MÜƏYYƏN EDİLMİŞDİR.")},{index:2,title:N("RULES_TECH_SUB2","MÜHƏRRİK GÜCÜ"),desc:N("RULES_TECH_DESC2","MÜHƏRRİK ÜZƏRİNDƏ APARILAN MODİFİKASİYALAR KATEQORİYA ÜZRƏ LİMİTLƏRİ AŞMAMALIDIR. TURBO SİSTEMLƏRİ YALNIZ XÜSUSİ KLASLARDA İCAZƏLİDİR.")},{index:3,title:N("RULES_TECH_SUB3","ASQI SİSTEMİ"),desc:N("RULES_TECH_DESC3","AVTOMOBİLİN KLİRENSİ (YERDƏN HÜNDÜRLÜYÜ) VƏ ASQI ARTIKULYASİYASI TƏHLÜKƏSİZLİK STANDARTLARINA UYĞUN OLMALIDIR.")}]},{index:3,id:"safety",title:N("RULES_SAFETY_TITLE","TƏHLÜKƏSİZLİK QAYDALARI"),icon:"ShieldAlert",items:[{index:1,title:N("RULES_SAFETY_SUB1","KARKAS TƏLƏBİ"),desc:N("RULES_SAFETY_DESC1","BÜTÜN AÇIQ VƏ YA MODİFİKASİYA OLUNMUŞ AVTOMOBİLLƏRDƏ FIA STANDARTLARINA UYĞUN TƏHLÜKƏSİZLİK KARKASI (ROLL CAGE) MƏCBURİDİR.")},{index:2,title:N("RULES_SAFETY_SUB2","YANĞIN SÖNDÜRMƏ"),desc:N("RULES_SAFETY_DESC2","HƏR BİR AVTOMOBİLDƏ ƏN AZI 2 KİLOQRAMLIQ, ASAN ƏLÇATAN YERDƏ YERLƏŞƏN YANĞINSÖNDÜRƏN BALON OLMALIDIR.")},{index:3,title:N("RULES_SAFETY_SUB3","KƏMƏR VƏ DƏBİLQƏ"),desc:N("RULES_SAFETY_DESC3","5 NÖQTƏLİ TƏHLÜKƏSİZLİK KƏMƏRLƏRİ VƏ SERTİFİKATLI KASKALARIN (DƏBİLQƏLƏRİN) İSTİFADƏSİ BÜTÜN MƏRHƏLƏLƏRDƏ MƏCBURİDİR.")}]},{index:4,id:"eco",title:N("RULES_ECO_TITLE","EKOLOJİ MƏSULİYYƏT"),icon:"Leaf",items:[{index:1,title:N("RULES_ECO_SUB1","TULLANTILARIN İDARƏ EDİLMƏSİ"),desc:N("RULES_ECO_DESC1",'YARIŞ ƏRAZİSİNDƏ VƏ TRASDA HƏR HANSI BİR TULLANTININ ATILMASI QƏTİ QADAĞANDIR. İŞTİRAKÇILAR "LEAVE NO TRACE" PRİNSİPİNƏ ƏMƏL ETMƏLİDİR.')},{index:2,title:N("RULES_ECO_SUB2","MAYE SIZMALARI"),desc:N("RULES_ECO_DESC2","AVTOMOBİLDƏN YAĞ VƏ YA SOYUDUCU MAYE SIZMASI OLDUĞU TƏQDİRDƏ PİLOT DƏRHAL DAYANMALI VƏ ƏRAZİNİN ÇİRKLƏNMƏSİNİN QARŞISINI ALMALIDIR.")},{index:3,title:N("RULES_ECO_SUB3","MARŞRUTDAN KƏNARA ÇIXMAMAQ"),desc:N("RULES_ECO_DESC3","TƏBİİ ÖRTÜYÜ QORUMAQ MƏQSƏDİ İLƏ MÜƏYYƏN OLUNMUŞ TRASDANKƏNAR SÜRÜŞLƏR VƏ YA YAŞIL SAHƏLƏRƏ ZƏRƏR VERMƏK QADAĞANDIR.")}]}],ie=[];_.forEach((Y,Z)=>{const te=Z+1;ie.push({id:`RULE_TAB_${te}_ID`,type:"text",label:`Qayda Sekməsi ${te} ID`,value:Y.id},{id:`RULE_TAB_${te}_TITLE`,type:"text",label:`Qayda Sekməsi ${te} Başlıq`,value:Y.title},{id:`RULE_TAB_${te}_ICON`,type:"text",label:`Qayda Sekməsi ${te} İkon`,value:Y.icon}),Y.items.forEach((nt,Ms)=>{const Ut=Ms+1;ie.push({id:`RULE_TAB_${te}_ITEM_${Ut}_TITLE`,type:"text",label:`Sekmə ${te} Maddə ${Ut} Başlıq`,value:nt.title},{id:`RULE_TAB_${te}_ITEM_${Ut}_DESC`,type:"text",label:`Sekmə ${te} Maddə ${Ut} Təsvir`,value:nt.desc})})});const he=new Set(E.map(Y=>Y.id)),Q=ie.filter(Y=>!he.has(Y.id));f.sections=[...E,...Q]},ti=f=>{$(f,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"MƏXFİLİK SİYASƏTİ (PRIVACY POLICY)"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"MƏLUMATLARIN QORUNMASI VƏ İSTİFADƏ ŞƏRTLƏRİ"},{id:"INTRO_TEXT",label:"Giriş Mətni",value:"Bu Məxfilik Siyasəti forsaj.az (“Sayt”, “biz”, “bizim”) tərəfindən istifadəçilərdən toplanan məlumatların növlərini, istifadə qaydasını və qorunmasını izah edir."},{id:"UPDATED_LABEL",label:"Yenilənmə Tarixi Etiketi",value:"Son yenilənmə tarixi"},{id:"UPDATED_DATE",label:"Yenilənmə Tarixi",value:"18 Fevral 2026"},{id:"SECTION_1_TITLE",label:"Bölmə 1 Başlıq",value:"1. Ümumi Məlumat"},{id:"SECTION_1_BODY",label:"Bölmə 1 Mətn",value:"Bu Məxfilik Siyasəti forsaj.az (“Sayt”, “biz”, “bizim”) tərəfindən istifadəçilərdən toplanan məlumatların növlərini, istifadə qaydasını və qorunmasını izah edir. Saytdan istifadə etməklə bu siyasətin şərtlərini qəbul etmiş olursunuz."},{id:"SECTION_2_TITLE",label:"Bölmə 2 Başlıq",value:"2. Toplanan Məlumatlar"},{id:"SECTION_2_BODY",label:"Bölmə 2 Mətn",value:`Şəxsi məlumatlar:
- Ad və soyad
- Elektron poçt ünvanı
- Telefon nömrəsi (təqdim edildiyi halda)

Texniki məlumatlar:
- IP ünvan
- Brauzer növü və cihaz məlumatları
- Saytda fəaliyyət məlumatları (baxışlar, kliklər və s.)`},{id:"SECTION_3_TITLE",label:"Bölmə 3 Başlıq",value:"3. Məlumatların İstifadə Məqsədi"},{id:"SECTION_3_BODY",label:"Bölmə 3 Mətn",value:`Toplanan məlumatlar aşağıdakı məqsədlərlə istifadə olunur:
- Xidmətlərin təqdim edilməsi və inkişaf etdirilməsi
- İstifadəçi sorğularına cavab verilməsi
- Təhlükəsizliyin təmin olunması
- Statistik və analitik təhlillər aparılması`},{id:"SECTION_4_TITLE",label:"Bölmə 4 Başlıq",value:"4. Cookies (Kukilər)"},{id:"SECTION_4_BODY",label:"Bölmə 4 Mətn",value:"Sayt istifadəçi təcrübəsini yaxşılaşdırmaq üçün kukilərdən istifadə edə bilər. İstifadəçi brauzer vasitəsilə kukiləri deaktiv edə bilər."},{id:"SECTION_5_TITLE",label:"Bölmə 5 Başlıq",value:"5. Məlumatların Üçüncü Tərəflərlə Paylaşılması"},{id:"SECTION_5_BODY",label:"Bölmə 5 Mətn",value:`Şəxsi məlumatlar yalnız aşağı hallarda üçüncü tərəflərlə paylaşıla bilər:
- Qanunvericiliyin tələbi olduqda
- Texniki və xidmət tərəfdaşları ilə əməkdaşlıq çərçivəsində
- İstifadəçinin razılığı ilə`},{id:"SECTION_6_TITLE",label:"Bölmə 6 Başlıq",value:"6. Məlumat Təhlükəsizliyi"},{id:"SECTION_6_BODY",label:"Bölmə 6 Mətn",value:"Biz şəxsi məlumatların qorunması üçün müvafiq texniki və inzibati təhlükəsizlik tədbirləri tətbiq edirik."},{id:"SECTION_7_TITLE",label:"Bölmə 7 Başlıq",value:"7. İstifadəçi Hüquqları"},{id:"SECTION_7_BODY",label:"Bölmə 7 Mətn",value:`İstifadəçilər:
- Öz məlumatlarına çıxış tələb edə bilər
- Düzəliş və ya silinmə tələb edə bilər
- Məlumatların işlənməsinə etiraz edə bilər`},{id:"SECTION_8_TITLE",label:"Bölmə 8 Başlıq",value:"8. Siyasətdə Dəyişikliklər"},{id:"SECTION_8_BODY",label:"Bölmə 8 Mətn",value:"Bu siyasət zaman-zaman yenilənə bilər. Yenilənmiş versiya saytda dərc edildiyi tarixdən qüvvəyə minir."},{id:"SECTION_9_TITLE",label:"Bölmə 9 Başlıq",value:"9. Əlaqə"},{id:"SECTION_9_BODY",label:"Bölmə 9 Mətn",value:`Email: info@forsaj.az
Veb sayt: https://forsaj.az`},{id:"CONTACT_TITLE",label:"Əlaqə Bölməsi Başlığı",value:"Əlaqə"},{id:"CONTACT_EMAIL",label:"Əlaqə E-poçtu",value:"info@forsaj.az"},{id:"CONTACT_WEBSITE",label:"Əlaqə Vebsaytı",value:"https://forsaj.az"}])},ai=f=>{$(f,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"XİDMƏT ŞƏRTLƏRİ (TERMS OF SERVICE)"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"İSTİFADƏ QAYDALARI VƏ HÜQUQİ ŞƏRTLƏR"},{id:"INTRO_TEXT",label:"Giriş Mətni",value:"forsaj.az saytından istifadə etməklə siz bu Xidmət Şərtlərini qəbul etmiş olursunuz."},{id:"UPDATED_LABEL",label:"Yenilənmə Tarixi Etiketi",value:"Son yenilənmə tarixi"},{id:"UPDATED_DATE",label:"Yenilənmə Tarixi",value:"18 Fevral 2026"},{id:"SECTION_1_TITLE",label:"Bölmə 1 Başlıq",value:"1. Qəbul"},{id:"SECTION_1_BODY",label:"Bölmə 1 Mətn",value:"forsaj.az saytından istifadə etməklə siz bu Xidmət Şərtlərini qəbul etmiş olursunuz."},{id:"SECTION_2_TITLE",label:"Bölmə 2 Başlıq",value:"2. Xidmətin Təsviri"},{id:"SECTION_2_BODY",label:"Bölmə 2 Mətn",value:"forsaj.az avtomobil, motorsport, off-road və Forsaj icması ilə bağlı məlumat, tədbir və digər rəqəmsal xidmətlər təqdim edir."},{id:"SECTION_3_TITLE",label:"Bölmə 3 Başlıq",value:"3. İstifadə Qaydaları"},{id:"SECTION_3_BODY",label:"Bölmə 3 Mətn",value:`İstifadəçi:
- Saytdan yalnız qanuni məqsədlərlə istifadə etməlidir
- Digər istifadəçilərin hüquqlarını pozmamalıdır
- Saytın texniki sisteminə zərər verə biləcək hərəkətlər etməməlidir`},{id:"SECTION_4_TITLE",label:"Bölmə 4 Başlıq",value:"4. Əqli Mülkiyyət Hüquqları"},{id:"SECTION_4_BODY",label:"Bölmə 4 Mətn",value:"Saytda yerləşdirilən bütün məzmun (mətnlər, şəkillər, videolar, loqo və s.) müəllif hüquqları ilə qorunur və icazəsiz istifadə edilə bilməz."},{id:"SECTION_5_TITLE",label:"Bölmə 5 Başlıq",value:"5. Məsuliyyətin Məhdudlaşdırılması"},{id:"SECTION_5_BODY",label:"Bölmə 5 Mətn",value:"Sayt və xidmətlər “olduğu kimi” təqdim olunur. Texniki nasazlıq və ya fasilələrə görə sayt rəhbərliyi məsuliyyət daşımır."},{id:"SECTION_6_TITLE",label:"Bölmə 6 Başlıq",value:"6. Dəyişiklik Hüququ"},{id:"SECTION_6_BODY",label:"Bölmə 6 Mətn",value:"Biz bu şərtləri istənilən vaxt dəyişdirmək hüququnu özümüzdə saxlayırıq. Yenilənmiş versiya saytda dərc edildiyi tarixdən qüvvəyə minir."},{id:"SECTION_7_TITLE",label:"Bölmə 7 Başlıq",value:"7. Tətbiq Olunan Qanun"},{id:"SECTION_7_BODY",label:"Bölmə 7 Mətn",value:"Bu Xidmət Şərtləri Azərbaycan Respublikasının qanunvericiliyinə uyğun tənzimlənir."},{id:"SECTION_8_TITLE",label:"Bölmə 8 Başlıq",value:"8. Əlaqə"},{id:"SECTION_8_BODY",label:"Bölmə 8 Mətn",value:`Email: info@forsaj.az
Veb sayt: https://forsaj.az`},{id:"CONTACT_TITLE",label:"Əlaqə Bölməsi Başlığı",value:"Əlaqə"},{id:"CONTACT_EMAIL",label:"Əlaqə E-poçtu",value:"info@forsaj.az"},{id:"CONTACT_WEBSITE",label:"Əlaqə Vebsaytı",value:"https://forsaj.az"}])};r.forEach(f=>{const E=u.find(N=>N.id===f);E?f==="about"?z(E):f==="partners"?q(E):f==="hero"?P(E):f==="contactpage"?we(E):f==="eventspage"?tt(E):f==="newspage"?ke(E):f==="gallerypage"?zt(E):f==="driverspage"?J(E):f==="footer"?Pt(E):f==="categoryleaders"?Xa(E):f==="nextrace"?Ja(E):f==="rulespage"?ei(E):f==="privacypolicypage"?ti(E):f==="termsofservicepage"&&ai(E):u.push({id:f,title:ma[f]||f,sections:[{id:`${f}-default`,type:"text",label:"Bölmə",value:""}],images:[]})});const ii=u.find(f=>f.id==="about");ii&&z(ii);const si=u.find(f=>f.id==="partners");si&&q(si);const li=u.find(f=>f.id==="hero");li&&P(li);const ni=u.find(f=>f.id==="contactpage");ni&&we(ni);const ri=u.find(f=>f.id==="eventspage");ri&&tt(ri);const di=u.find(f=>f.id==="newspage");di&&ke(di);const oi=u.find(f=>f.id==="gallerypage");oi&&zt(oi);const ci=u.find(f=>f.id==="driverspage");ci&&J(ci);const ui=u.find(f=>f.id==="footer");ui&&Pt(ui);const pi=u.find(f=>f.id==="categoryleaders");pi&&Xa(pi);const mi=u.find(f=>f.id==="nextrace");mi&&Ja(mi);const xi=u.find(f=>f.id==="rulespage");xi&&ei(xi);const hi=u.find(f=>f.id==="privacypolicypage");hi&&ti(hi);const fi=u.find(f=>f.id==="termsofservicepage");fi&&ai(fi);const wt=new Map(r.map((f,E)=>[f,E]));u.sort((f,E)=>{const N=wt.has(f.id)?wt.get(f.id):Number.MAX_SAFE_INTEGER,_=wt.has(E.id)?wt.get(E.id):Number.MAX_SAFE_INTEGER;return N!==_?N-_:(f.title||f.id).localeCompare(E.title||E.id)});const Bs=u.map(f=>({...f,sections:(f.sections||[]).map((E,N)=>{if(E.type!=="text")return E;const ie=pn(E)?je(E.value||""):(E.value||"").replace(/\u00a0/g," "),he=$i(E.label||"")?je(E.label||""):E.label;return{...E,label:he,value:ie,...E.url?{url:yt(E.url)}:{},order:xe(E.order,N)}}).sort((E,N)=>xe(E.order,0)-xe(N.order,0)),images:(f.images||[]).map((E,N)=>({...E,order:xe(E.order,N)})).sort((E,N)=>xe(E.order,0)-xe(N.order,0))}));l(Bs)}const[s,n,d,p,b,h]=await Promise.all([fetch(`/api/all-images?v=${Date.now()}`).then(r=>r.json()).catch(()=>({})),fetch("/api/events").then(r=>r.json()).catch(()=>[]),fetch("/api/news").then(r=>r.json()).catch(()=>[]),fetch("/api/drivers").then(r=>r.json()).catch(()=>[]),fetch("/api/gallery-photos").then(r=>r.json()).catch(()=>[]),fetch("/api/videos").then(r=>r.json()).catch(()=>[])]);s?.local&&k(s.local),Array.isArray(n)&&(ce(n),n.length>0&&Ae===null&&(pe(n[0].id),c(n[0]))),Array.isArray(d)&&(M(d),d.length>0&&H===null&&(V(d[0].id),me({...d[0]}))),Array.isArray(p)&&($e(p),p.length>0&&ae===null&&xt(p[0].id)),Array.isArray(b)&&Rt(b),Array.isArray(h)&&(Nt(h),h.length>0&&pt===null&&Fa(h[0].id))}catch(t){console.error("Content load error:",t)}};g.useEffect(()=>{La()},[]),g.useEffect(()=>{if(!i.length)return;const t=i.findIndex(h=>h.id==="about");if(t===-1||(i[t].sections||[]).some(h=>at(h.id)))return;const n=[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}],d=[...i],p={...d[t]},b=[...p.sections||[]];n.forEach((h,r)=>{const u=`${r+1}`;b.push({id:`${Fe}${u}`,type:"text",label:`Statistika Etiketi ${r+1}`,value:h.label},{id:`${Ye}${u}`,type:"text",label:`Statistika Dəyəri ${r+1}`,value:h.value})}),p.sections=b,d[t]=p,l(d)},[i]),g.useEffect(()=>{Na.current||(Na.current=!0)},[]),g.useEffect(()=>{const t=new URLSearchParams(ta.search),a=t.get("mode"),s=t.get("page");if(a&&["extract","events","news","drivers","videos","photos"].includes(a))Ne(a);else if(s){Ne("extract");const n=ji(s),d=i.findIndex(p=>n.includes(p.id));d!==-1&&x(d)}},[ta.search,i]);const Wi=async()=>{j(!0),w("Front-end komponentləri skan edilir..."),C(30);const t=Date.now(),a=A.loading("Sinxronizasiya başladı...");try{const s=await fetch("/api/extract-content",{method:"POST"});if(!s.ok){const h=await s.text();throw new Error(h||"Extraction failed")}C(60),w("Bulud bazası ilə sinxronizasiya edilir...");const n=await s.json(),d=n.pages||n,p=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!p.ok){const h=await p.text();throw new Error(h||"Save failed")}C(90),l(d);const b=Date.now()-t;b<800&&await new Promise(h=>setTimeout(h,800-b)),C(100),w("Tamamlandı!"),setTimeout(()=>{j(!1),localStorage.setItem("forsaj_extracted","true"),localStorage.setItem(xa,Date.now().toString()),A.success("Sinxronizasiya tamamlandı! Baza yeniləndi.",{id:a})},500)}catch(s){console.error("Extraction error:",s),j(!1),A.error(`Sinxronizasiya xətası: ${s.message}`,{id:a})}},Pe=(t,a,s,n)=>{const d=[...i],p=d[t].sections.findIndex(b=>b.id===a);if(p!==-1){const b=d[t].sections[p];if(!$t(b,s))return;let h=n;const u=!!ct(b)||at(b.id)||b.id.startsWith("val-")||b.id.startsWith("txt-");(s==="value"||s==="label")&&u&&(h=je(n)),d[t].sections[p][s]=h,l(d)}},Zi=(t,a)=>{const s=i[t];if(!s)return;const n=s.sections.find(p=>p.id===a);if(!n||!n.url)return;const d=yt(n.url);d&&d!==n.url&&Pe(t,a,"url",d)},_a=(t,a,s)=>{const n=[...i],d=n[t].images.findIndex(p=>p.id===a);d!==-1&&(n[t].images[d].alt=s,l(n))},Xi=()=>{if(!Me.trim()){A.error("Başlıq daxil edin!");return}const a={id:Me.toLowerCase().replace(/\s+/g,"-"),title:Me,sections:[{id:"text-0",type:"text",label:"Bölmə",value:"Yeni bölmə məzmunu..."}],images:[]};l([...i,a]),x(i.length),m(!1),ut(""),A.success("Yeni bölmə əlavə edildi!")},Ia=(t,a,s)=>{if(o<0||o>=i.length)return;const n=[...i],d=n[o];if(d){if(t==="text"){const p=`text-${d.sections.length}-${Date.now()}`,b=d.sections.reduce((h,r,u)=>Math.max(h,xe(r.order,u)),-1)+1;d.sections.push({id:p,type:"text",label:"Bölmə",value:"Yeni mətn sahəsi...",order:b}),A.success("Yeni mətn sahəsi əlavə edildi")}else{const p=`img-${d.images.length}-${Date.now()}`,b=d.images.reduce((h,r,u)=>Math.max(h,xe(r.order,u)),-1)+1;d.images.push({id:p,path:"",alt:"",type:"local",order:b}),A.success("Yeni şəkil sahəsi əlavə edildi")}l(n)}},Oa=(t,a,s=o)=>{if(s<0||s>=i.length)return;const n=[...i],d=n[s];d&&(t==="text"?(d.sections=d.sections.filter(p=>p.id!==a),d.sections=d.sections.map((p,b)=>({...p,order:b}))):(d.images=d.images.filter(p=>p.id!==a),d.images=d.images.map((p,b)=>({...p,order:b}))),l(n),A.success("Sahə silindi"))},Lt=(t,a,s,n=o)=>{if(n<0||n>=i.length)return;const d=[...i],p=d[n];if(!p)return;const b=t==="text"?p.sections:p.images,h=b.findIndex(z=>z.id===a);if(h===-1)return;const r=s==="up"?h-1:h+1;if(r<0||r>=b.length)return;const u=b[h];b[h]=b[r],b[r]=u,t==="text"?p.sections=(p.sections||[]).map((z,q)=>({...z,order:q})):p.images=(p.images||[]).map((z,q)=>({...z,order:q})),l(d)},la=(t=o)=>{if(t<0||t>=i.length)return;const a=[...i],s=a[t];if(!s||s.id!=="about")return;const n=`${Date.now()}`;s.sections.push({id:`${Fe}${n}`,type:"text",label:"Statistika Etiketi",value:"YENİ STATİSTİKA"},{id:`${Ye}${n}`,type:"text",label:"Statistika Dəyəri",value:"0+"}),l(a),A.success("Yeni statistika əlavə edildi")},_t=(t,a,s,n=o)=>{if(n<0||n>=i.length)return;const d=[...i],p=d[n];if(!p||p.id!=="about")return;const b=a==="label"?`${Fe}${t}`:`${Ye}${t}`,h=p.sections.findIndex(u=>u.id===b),r=je(s);h!==-1?p.sections[h].value=r:p.sections.push({id:b,type:"text",label:a==="label"?"Statistika Etiketi":"Statistika Dəyəri",value:r}),l(d)},Ca=(t,a=o)=>{if(a<0||a>=i.length)return;const s=[...i],n=s[a];!n||n.id!=="about"||(n.sections=n.sections.filter(d=>d.id!==`${Fe}${t}`&&d.id!==`${Ye}${t}`),l(s),A.success("Statistika silindi"))},Ji=(t=o)=>{const a=[...i];let s=t;if((s<0||s>=a.length||!["about","values"].includes(a[s]?.id))&&(s=a.findIndex(p=>p.id==="about")),s<0||s>=a.length)return;const n=a[s],d=`${Date.now()}`;n.sections.push({id:`val-icon-${d}`,type:"text",label:"İkon Kodu (Shield/Users/Leaf/Zap)",value:"Shield"},{id:`val-title-${d}`,type:"text",label:"Dəyər Başlığı",value:"YENİ DƏYƏR"},{id:`val-desc-${d}`,type:"text",label:"Dəyər Təsviri",value:"Dəyər təsvirini daxil edin."}),l(a),A.success("Yeni dəyər əlavə edildi")},ft=t=>{if(!t)return[];const a=new Map;return(t.sections||[]).forEach(s=>{const n=s.id.match(ua);if(!n)return;const d=Number(n[1]),p=fn(n[2]);if(!p)return;const b=a.get(d)||{index:d,name:"",tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${d}`};b[p]=s.value||"",a.set(d,b)}),Array.from(a.values()).sort((s,n)=>s.index-n.index)},It=t=>{if(o<0||o>=i.length)return;const a=[...i],s=a[o];if(!s||s.id!=="partners")return;const n=(s.sections||[]).filter(r=>!ua.test(r.id)),d=[];t.forEach(r=>{d.push({id:`PARTNER_${r.index}_NAME`,type:"text",label:`Tərəfdaş ${r.index} Ad`,value:r.name},{id:`PARTNER_${r.index}_TAG`,type:"text",label:`Tərəfdaş ${r.index} Etiket`,value:r.tag},{id:`PARTNER_${r.index}_ICON`,type:"text",label:`Tərəfdaş ${r.index} İkon`,value:r.icon},{id:`PARTNER_${r.index}_USE_IMAGE`,type:"text",label:`Tərəfdaş ${r.index} Görsel İstifadə`,value:r.useImage},{id:`PARTNER_${r.index}_IMAGE_ID`,type:"text",label:`Tərəfdaş ${r.index} Görsel ID`,value:r.imageId||`partner-image-${r.index}`})});const p=s.images||[],b=new Set(t.map(r=>r.imageId||`partner-image-${r.index}`)),h=[...p];b.forEach(r=>{h.some(u=>u.id===r)||h.push({id:r,path:"",alt:r,type:"local",order:h.length})}),s.sections=[...n,...d],s.images=h.map((r,u)=>({...r,order:u})),l(a)},gt=(t,a,s)=>{const n=ft(i[o]).map(d=>d.index===t?{...d,[a]:s}:d);It(n)},es=()=>{const t=ft(i[o]),a=(t[t.length-1]?.index||0)+1;t.push({index:a,name:`PARTNER ${a}`,tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${a}`}),It(t)},ts=t=>{const a=ft(i[o]).filter(s=>s.index!==t);It(a)},ka=(t,a)=>{const s=ft(i[o]),n=s.findIndex(h=>h.index===t);if(n===-1)return;const d=a==="up"?n-1:n+1;if(d<0||d>=s.length)return;const p=s[n];s[n]=s[d],s[d]=p;const b=s.map((h,r)=>({...h,index:r+1,imageId:h.imageId||`partner-image-${r+1}`}));It(b)},Da=(t,a)=>je(t||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||a,as=[{id:"pilot",icon:"Info",titleKey:"RULES_PILOT_TITLE",titleFallback:"PİLOT PROTOKOLU",docNameFallback:"PILOT_PROTOKOLU.PDF",items:[{titleKey:"RULES_PILOT_SUB1",titleFallback:"İSTİFADƏÇİ ÖHDƏLİKLƏRİ",descKey:"RULES_PILOT_DESC1",descFallback:"HƏR BİR İŞTİRAKÇI FEDERASİYANIN MÜƏYYƏN ETDİYİ BÜTÜN TEXNİKİ VƏ ETİK NORMALARI QEYD-ŞƏRTSİZ QƏBUL EDİR."},{titleKey:"RULES_PILOT_SUB2",titleFallback:"DİSKVALİFİKASİYA",descKey:"RULES_PILOT_DESC2",descFallback:"PROTOKOLDAN KƏNARA ÇIXMAQ VƏ YA HAKİM QƏRARLARINA ETİRAZ ETMƏK DƏRHAL DİSKVALİFİKASİYA İLƏ NƏTİCƏLƏNƏ BİLƏR."},{titleKey:"RULES_PILOT_SUB3",titleFallback:"TEXNİKİ TƏLƏBLƏR",descKey:"RULES_PILOT_DESC3",descFallback:"BÜTÜN AVADANLIQLAR YARIŞDAN 24 SAAT ƏVVƏL TEXNİKİ KOMİSSİYA TƏRƏFİNDƏN YOXLANILMALI VƏ TƏHLÜKƏSİZLİK SERTİFİKATI İLƏ TƏMİN EDİLMƏLİDİR."}]},{id:"technical",icon:"Settings",titleKey:"RULES_TECH_TITLE",titleFallback:"TEXNİKİ NORMARTİVLƏR",docNameFallback:"TEXNIKI_NORMATIVLER.PDF",items:[{titleKey:"RULES_TECH_SUB1",titleFallback:"TƏKƏR ÖLÇÜLƏRİ",descKey:"RULES_TECH_DESC1",descFallback:"PRO CLASS ÜÇÜN MAKSİMUM TƏKƏR ÖLÇÜSÜ 37 DÜYM, AMATEUR CLASS ÜÇÜN İSƏ 33 DÜYM OLARAQ MÜƏYYƏN EDİLMİŞDİR."},{titleKey:"RULES_TECH_SUB2",titleFallback:"MÜHƏRRİK GÜCÜ",descKey:"RULES_TECH_DESC2",descFallback:"MÜHƏRRİK ÜZƏRİNDƏ APARILAN MODİFİKASİYALAR KATEQORİYA ÜZRƏ LİMİTLƏRİ AŞMAMALIDIR. TURBO SİSTEMLƏRİ YALNIZ XÜSUSİ KLASLARDA İCAZƏLİDİR."},{titleKey:"RULES_TECH_SUB3",titleFallback:"ASQI SİSTEMİ",descKey:"RULES_TECH_DESC3",descFallback:"AVTOMOBİLİN KLİRENSİ (YERDƏN HÜNDÜRLÜYÜ) VƏ ASQI ARTIKULYASİYASI TƏHLÜKƏSİZLİK STANDARTLARINA UYĞUN OLMALIDIR."}]},{id:"safety",icon:"ShieldAlert",titleKey:"RULES_SAFETY_TITLE",titleFallback:"TƏHLÜKƏSİZLİK QAYDALARI",docNameFallback:"TEHLUKESIZLIK_QAYDALARI.PDF",items:[{titleKey:"RULES_SAFETY_SUB1",titleFallback:"KARKAS TƏLƏBİ",descKey:"RULES_SAFETY_DESC1",descFallback:"BÜTÜN AÇIQ VƏ YA MODİFİKASİYA OLUNMUŞ AVTOMOBİLLƏRDƏ FIA STANDARTLARINA UYĞUN TƏHLÜKƏSİZLİK KARKASI (ROLL CAGE) MƏCBURİDİR."},{titleKey:"RULES_SAFETY_SUB2",titleFallback:"YANĞIN SÖNDÜRMƏ",descKey:"RULES_SAFETY_DESC2",descFallback:"HƏR BİR AVTOMOBİLDƏ ƏN AZI 2 KİLOQRAMLIQ, ASAN ƏLÇATAN YERDƏ YERLƏŞƏN YANĞINSÖNDÜRƏN BALON OLMALIDIR."},{titleKey:"RULES_SAFETY_SUB3",titleFallback:"KƏMƏR VƏ DƏBİLQƏ",descKey:"RULES_SAFETY_DESC3",descFallback:"5 NÖQTƏLİ TƏHLÜKƏSİZLİK KƏMƏRLƏRİ VƏ SERTİFİKATLI KASKALARIN (DƏBİLQƏLƏRİN) İSTİFADƏSİ BÜTÜN MƏRHƏLƏLƏRDƏ MƏCBURİDİR."}]},{id:"eco",icon:"Leaf",titleKey:"RULES_ECO_TITLE",titleFallback:"EKOLOJİ MƏSULİYYƏT",docNameFallback:"EKOLOJI_MESULIYYET.PDF",items:[{titleKey:"RULES_ECO_SUB1",titleFallback:"TULLANTILARIN İDARƏ EDİLMƏSİ",descKey:"RULES_ECO_DESC1",descFallback:'YARIŞ ƏRAZİSİNDƏ VƏ TRASDA HƏR HANSI BİR TULLANTININ ATILMASI QƏTİ QADAĞANDIR. İŞTİRAKÇILAR "LEAVE NO TRACE" PRİNSİPİNƏ ƏMƏL ETMƏLİDİR.'},{titleKey:"RULES_ECO_SUB2",titleFallback:"MAYE SIZMALARI",descKey:"RULES_ECO_DESC2",descFallback:"AVTOMOBİLDƏN YAĞ VƏ YA SOYUDUCU MAYE SIZMASI OLDUĞU TƏQDİRDƏ PİLOT DƏRHAL DAYANMALI VƏ ƏRAZİNİN ÇİRKLƏNMƏSİNİN QARŞISINI ALMALIDIR."},{titleKey:"RULES_ECO_SUB3",titleFallback:"MARŞRUTDAN KƏNARA ÇIXMAMAQ",descKey:"RULES_ECO_DESC3",descFallback:"TƏBİİ ÖRTÜYÜ QORUMAQ MƏQSƏDİ İLƏ MÜƏYYƏN OLUNMUŞ TRASDANKƏNAR SÜRÜŞLƏR VƏ YA YAŞIL SAHƏLƏRƏ ZƏRƏR VERMƏK QADAĞANDIR."}]}],Ot=(t,a,s)=>{const n=je((t.find(d=>d.id===a)?.value||"").toString());return!n||Wt(n)?s:n},is=t=>{const a=Ot(t,"BTN_DOWNLOAD_PDF","PDF YÜKLƏ"),s=yt((t.find(n=>n.id==="BTN_DOWNLOAD_PDF")?.url||"").toString());return as.map((n,d)=>({index:d+1,id:n.id,title:Ot(t,n.titleKey,n.titleFallback),icon:n.icon,docName:n.docNameFallback,docButton:a,docUrl:s,items:n.items.map((p,b)=>({index:b+1,title:Ot(t,p.titleKey,p.titleFallback),desc:Ot(t,p.descKey,p.descFallback)}))}))},na=t=>Da(t||"",""),Ce=t=>{if(!t||t.id!=="rulespage")return[];const a=new Map;(t.sections||[]).forEach(h=>{const r=h.id.match(xn);if(r){const z=Number(r[1]),q=r[2],P=a.get(z)||{id:`tab-${z}`,title:"",icon:"Info",docName:"",docButton:"",docUrl:"",items:new Map};q==="ID"&&(P.id=h.value||`tab-${z}`),q==="TITLE"&&(P.title=h.value||""),q==="ICON"&&(P.icon=h.value||"Info"),q==="DOC_NAME"&&(P.docName=h.value||""),q==="DOC_BUTTON"&&(P.docButton=h.value||""),q==="DOC_URL"&&(P.docUrl=yt(h.url||h.value||"")),a.set(z,P);return}const u=h.id.match(hn);if(u){const z=Number(u[1]),q=Number(u[2]),P=u[3],$=a.get(z)||{id:`tab-${z}`,title:"",icon:"Info",docName:"",docButton:"",docUrl:"",items:new Map},ee=$.items.get(q)||{title:"",desc:""};P==="TITLE"&&(ee.title=h.value||""),P==="DESC"&&(ee.desc=h.value||""),$.items.set(q,ee),a.set(z,$)}});const s=Array.from(a.entries()).sort((h,r)=>h[0]-r[0]).map(([h,r])=>({index:h,id:r.id||`tab-${h}`,title:r.title||"",icon:r.icon||"Info",docName:r.docName||"",docButton:r.docButton||"",docUrl:r.docUrl||"",items:Array.from(r.items.entries()).sort((u,z)=>u[0]-z[0]).map(([u,z])=>({index:u,title:z.title||"",desc:z.desc||""}))})).filter(h=>h.title||h.items.length>0),n=is(t.sections||[]);if(!s.length)return n;const d=new Map;s.forEach(h=>{d.set(na(h.id||h.title||""),h)});const p=new Set,b=n.map(h=>{const r=na(h.id||h.title||""),u=d.get(r);return u?(p.add(r),{...h,...u,id:u.id||h.id,title:u.title||h.title,icon:u.icon||h.icon,docName:u.docName||h.docName,docButton:u.docButton||h.docButton,docUrl:u.docUrl||h.docUrl,items:u.items&&u.items.length>0?u.items:h.items}):h});return s.forEach(h=>{const r=na(h.id||h.title||"");p.has(r)||b.push(h)}),b.map((h,r)=>({...h,index:r+1}))},Ge=(t,a=o)=>{if(a<0||a>=i.length)return;const s=[...i],n=s[a];if(!n||n.id!=="rulespage")return;const d=(n.sections||[]).filter(b=>!pa.test(b.id)),p=[];return t.forEach((b,h)=>{const r=h+1,u=Da(b.id||b.title||"",`tab-${r}`),z=je(b.title||`SEKME ${r}`),q=ca.includes(b.icon)?b.icon:"Info",P=je(b.docName||`${u.toUpperCase()}_PROTOKOLU.PDF`),$=je(b.docButton||"PDF YÜKLƏ"),ee=cn(b.docUrl||"");p.push({id:`RULE_TAB_${r}_ID`,type:"text",label:`Qayda Sekməsi ${r} ID`,value:u},{id:`RULE_TAB_${r}_TITLE`,type:"text",label:`Qayda Sekməsi ${r} Başlıq`,value:z},{id:`RULE_TAB_${r}_ICON`,type:"text",label:`Qayda Sekməsi ${r} İkon`,value:q},{id:`RULE_TAB_${r}_DOC_NAME`,type:"text",label:`Sekmə ${r} Sənəd Adı`,value:P},{id:`RULE_TAB_${r}_DOC_BUTTON`,type:"text",label:`Sekmə ${r} Sənəd Düyməsi`,value:$},{id:`RULE_TAB_${r}_DOC_URL`,type:"text",label:`Sekmə ${r} Sənəd Linki`,value:ee,...ee?{url:ee}:{}}),(b.items||[]).forEach((we,tt)=>{const ke=tt+1;p.push({id:`RULE_TAB_${r}_ITEM_${ke}_TITLE`,type:"text",label:`Sekmə ${r} Maddə ${ke} Başlıq`,value:je(we.title||"")},{id:`RULE_TAB_${r}_ITEM_${ke}_DESC`,type:"text",label:`Sekmə ${r} Maddə ${ke} Təsvir`,value:je(we.desc||"")})})}),n.sections=[...d,...p].map((b,h)=>({...b,order:h})),l(s),s},Ba=(t=o)=>{const a=Ce(i[t]),s=a.length+1;a.push({index:s,id:`tab-${s}`,title:`SEKME ${s}`,icon:"Info",docName:`TAB_${s}_PROTOKOLU.PDF`,docButton:"PDF YÜKLƏ",docUrl:"",items:[{index:1,title:"YENİ MADDƏ",desc:"Maddə təsviri..."}]}),Ge(a,t),A.success("Yeni sekmə əlavə edildi")},Ma=(t,a=o)=>{const s=Ce(i[a]).filter((n,d)=>d!==t);Ge(s,a),A.success("Sekmə silindi")},Ct=(t,a,s=o)=>{const n=Ce(i[s]),d=a==="up"?t-1:t+1;if(d<0||d>=n.length)return;const p=n[t];n[t]=n[d],n[d]=p,Ge(n,s)},Te=(t,a,s,n=o)=>{const d=Ce(i[n]);d[t]&&(d[t]={...d[t],[a]:s},Ge(d,n))},za=(t,a=o)=>{const s=Ce(i[a]);if(!s[t])return;const n=(s[t].items?.length||0)+1;s[t].items=[...s[t].items||[],{index:n,title:`MADDƏ ${n}`,desc:"Maddə təsviri..."}],Ge(s,a)},Pa=(t,a,s=o)=>{const n=Ce(i[s]);n[t]&&(n[t].items=(n[t].items||[]).filter((d,p)=>p!==a),Ge(n,s))},kt=(t,a,s,n,d=o)=>{const p=Ce(i[d]);!p[t]||!p[t].items[a]||(p[t].items[a]={...p[t].items[a],[s]:n},Ge(p,d))},wa=(t,a)=>{We({pageIdx:t,imgId:a}),B(!0)},ra=async(t,a)=>{const s=new FormData;s.append("image",t);const n=A.loading(a?.loadingText||"Şəkil yüklənir...");try{const d=await fetch("/api/upload-image",{method:"POST",body:s});if(d.ok){const p=await d.json();return A.success(a?.successText||"Şəkil uğurla yükləndi",{id:n}),p.url}else throw new Error("Upload fail")}catch(d){return console.error("Upload error:",d),A.error(a?.errorText||"Görsəl yüklənərkən xəta baş verdi",{id:n}),null}},Xe=async t=>ra(t),ss=async t=>t.type!=="application/pdf"&&!t.name.toLowerCase().endsWith(".pdf")?(A.error("Yalnız PDF faylı yüklənə bilər"),null):ra(t,{loadingText:"PDF yüklənir...",successText:"PDF uğurla yükləndi",errorText:"PDF yüklənərkən xəta baş verdi"}),ls=async t=>{try{(await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&localStorage.setItem(xa,Date.now().toString())}catch(a){console.error("Silent save failed:",a)}},Ua=async(t,a,s=o)=>{const n=await ss(t);if(!n)return;const d=Ce(i[s]);if(!d[a])return;d[a]={...d[a],docName:t.name,docUrl:n};const p=Ge(d,s);p&&le==="extract"&&await ls(p)},ns=async(t,a,s)=>{const n=t.target.files?.[0];if(!n)return;const d=await Xe(n);if(d){const p=[...i],b=p[a].images.findIndex(h=>h.id===s);b!==-1&&(p[a].images[b].path=d,p[a].images[b].type="local",l(p))}},rs=t=>{if(!I)return;const a=[...i];if(L){const s=`img-${a[I.pageIdx].images.length}-${Date.now()}`;a[I.pageIdx].images.push({id:s,path:t,alt:"Daxil edildi",type:"local"}),X(!1)}else{const s=a[I.pageIdx].images.findIndex(n=>n.id===I.imgId);s!==-1&&(a[I.pageIdx].images[s].path=t,a[I.pageIdx].images[s].type="local")}l(a),B(!1),A.success("Şəkil seçildi")},da=async()=>{S(!0);const t=A.loading("Yadda saxlanılır...");try{if(le==="extract"){const a=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok)throw new Error(await a.text());localStorage.setItem(xa,Date.now().toString())}else if(le==="events"){const a=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Oe)});if(!a.ok)throw new Error(await a.text())}else if(le==="news"){const a=await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(!a.ok)throw new Error(await a.text())}else if(le==="drivers"){const a=await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Se)});if(!a.ok)throw new Error(await a.text())}else if(le==="videos"){const a=await fetch("/api/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)});if(!a.ok)throw new Error(await a.text())}else if(le==="photos"){const a=await fetch("/api/gallery-photos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ia)});if(!a.ok)throw new Error(await a.text())}A.success("Dəyişikliklər bulud bazasına qeyd edildi!",{id:t}),await La()}catch(a){console.error("Save error:",a),A.error(`Yadda saxlama xətası: ${a.message} `,{id:t})}finally{S(!1)}},ds=t=>{const a=Oe.find(s=>s.id===t);a&&(pe(t),c({...a}))},Re=(t,a,s)=>{const n=s||Ae;c(d=>{const b=!s||s===Ae?{...d,[t]:a}:d;return n&&ce(h=>h.map(r=>r.id===n?{...r,[t]:a}:r)),b})},os=()=>{const t=Oe.length>0?Math.max(...Oe.map(s=>s.id))+1:1,a={id:t,title:"Yeni Tədbir",date:new Date().toISOString().split("T")[0],location:"Bakı",category:"OFFROAD",img:"https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?q=80&w=2070&auto=format&fit=crop",description:"",rules:"",status:"planned"};ce([...Oe,a]),pe(t),c(a),A.success("Yeni tədbir yaradıldı")},cs=async(t,a)=>{a.stopPropagation(),window.confirm("Bu tədbiri silmək istədiyinizə əminsiniz?")&&(ce(Oe.filter(s=>s.id!==t)),Ae===t&&pe(null),A.success("Tədbir silindi"))},us=t=>{const a=R.find(s=>s.id===t);a&&(V(t),me({...a}))},Je=(t,a,s)=>{const n=s||H;me(d=>{const b=!s||s===H?{...d,[t]:a}:d;return n&&M(h=>h.map(r=>r.id===n?{...r,[t]:a}:r)),b})},ps=()=>{const t=R.length>0?Math.max(...R.map(s=>s.id))+1:1,a={id:t,title:"Yeni Xəbər",date:new Date().toISOString().split("T")[0],img:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=2070&auto=format&fit=crop",description:"",category:"BLOQ",status:"draft"};M([...R,a]),V(t),me(a),A.success("Yeni xəbər yaradıldı")},Fa=t=>{Jt(t);const a=ge.find(s=>s.id===t);a&&ea({...a})},Dt=(t,a,s)=>{const n=pt;ea(d=>{let b={...d,[t]:a};if(t==="youtubeUrl"){const h=Ya(a);h&&(b={...b,videoId:h,thumbnail:`https://img.youtube.com/vi/${h}/maxresdefault.jpg`})}return n&&Nt(h=>h.map(r=>{if(r.id===n){let u={...r,[t]:a};if(t==="youtubeUrl"){const z=Ya(a);z&&(u.videoId=z,u.thumbnail=`https://img.youtube.com/vi/${z}/maxresdefault.jpg`)}return u}return r})),b})},Ya=t=>{const a=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,s=t.match(a);return s&&s[2].length===11?s[2]:null},Ka=t=>{Ra(t);const a=ia.find(s=>s.id===t);a&&sa({...a})},ms=()=>{const t=Date.now(),a={id:t,title:"Yeni Şəkil",url:""};Rt(s=>[...s,a]),Ka(t)},xs=async(t,a)=>{a.stopPropagation(),window.confirm("Bu şəkli silmək istədiyinizə əminsiniz?")&&(Rt(s=>s.filter(n=>n.id!==t)),mt===t&&(Ra(null),sa({})),A.success("Şəkil silindi"))},oa=(t,a)=>{sa(s=>{const n={...s,[t]:a};return mt&&Rt(d=>d.map(p=>p.id===mt?n:p)),n})},hs=async t=>{const a=t.target.files?.[0];if(!a)return;const s=await Xe(a);s&&oa("url",s)},fs=()=>{const t=ge.length>0?Math.max(...ge.map(s=>s.id))+1:1,a={id:t,title:"Yeni Video",youtubeUrl:"",videoId:"",duration:"00:00",thumbnail:"",created_at:new Date().toISOString()};Nt([...ge,a]),Jt(t),ea(a),A.success("Yeni video əlavə edildi")},gs=async(t,a)=>{a.stopPropagation(),window.confirm("Bu videonu silmək istədiyinizə əminsiniz?")&&(Nt(ge.filter(s=>s.id!==t)),pt===t&&Jt(null),A.success("Video silindi"))},bs=async(t,a)=>{a.stopPropagation(),window.confirm("Bu xəbəri silmək istədiyinizə əminsiniz?")&&(M(R.filter(s=>s.id!==t)),H===t&&V(null),A.success("Xəbər silindi"))},vs=t=>{xt(t),ht(null),st({})},ys=t=>{ht(t);const s=Se.find(n=>n.id===ae)?.drivers.find(n=>n.id===t);s&&st({...s})},et=(t,a)=>{!ae||!it||st(s=>{const n={...s,[t]:a};return $e(d=>d.map(p=>p.id===ae?{...p,drivers:p.drivers.map(b=>b.id===it?n:b)}:p)),n})},Ss=()=>{if(!ae){A.error("Öncə kateqoriya seçin və ya yaradın");return}const t=Date.now(),a={id:t,rank:99,name:"Yeni Sürücü",license:"PILOT LICENSE",team:"TEAM NAME",wins:0,points:0,img:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=400&fit=crop"};$e(s=>s.map(n=>n.id===ae?{...n,drivers:[...n.drivers,a]}:n)),ht(t),st(a),A.success("Yeni sürücü siyahıya əlavə edildi")},Ts=t=>{window.confirm("Bu sürücünü silmək istədiyinizə əminsiniz?")&&($e(a=>a.map(s=>s.id===ae?{...s,drivers:s.drivers.filter(n=>n.id!==t)}:s)),it===t&&(ht(null),st({})),A.success("Sürücü silindi"))},js=async()=>{const t=be,a=Se.map(n=>n.id===ae?{...n,drivers:n.drivers.map(d=>d.id===it?{...d,...t}:d)}:n);S(!0);const s=A.loading("Yadda saxlanılır...");try{if(!(await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw new Error("Yadda saxlama uğursuz oldu");$e(a),A.success("Bütün sürücü məlumatları qeyd edildi",{id:s})}catch{A.error("Xəta baş verdi",{id:s})}finally{S(!1)}},Es=()=>{const t=window.prompt("Kateqoriya adı (Məs: UNLIMITED CLASS):");if(!t)return;const a=t.toLowerCase().replace(/[^a-z0-9]+/g,"-");if(Se.find(n=>n.id===a)){A.error("Bu adda kateqoriya artıq mövcuddur");return}const s={id:a,name:t,drivers:[]};$e([...Se,s]),xt(a),A.success("Kateqoriya əlavə edildi")},As=()=>{if(!ae)return;const t=Se.find(a=>a.id===ae);if(t&&window.confirm(`"${t.name}" kateqoriyasını və içindəki bütün sürücüləri silmək istədiyinizə əminsiniz?`)){const a=Se.filter(s=>s.id!==ae);$e(a),a.length>0?xt(a[0].id):xt(null),ht(null),st({}),A.success("Kateqoriya silindi")}},Ns=t=>{if(!ae)return;const a=t.trim();if(!a){A.error("Kateqoriya adı boş ola bilməz");return}$e(s=>s.map(n=>n.id===ae?{...n,name:a}:n))};if(i.length===0&&!v&&!localStorage.getItem("forsaj_extracted"))return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card fade-in",children:[e.jsx(Ee,{size:64,className:"text-primary",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Sayt Məzmununu və Görselləri Çıxarın"}),e.jsx("p",{children:"Front-end layihənizdəki bütün səhifələri, mətnləri və şəkilləri avtomatik olaraq bu panelə yükləyin."}),e.jsx("button",{className:"extract-btn",onClick:Wi,children:"Sinxronizasiyanı Başlat"})]})});if(v)return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card",children:[e.jsx("div",{className:"loader-ring",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Avtomatik Sinxronizasiya"}),e.jsx("p",{children:"Zəhmət olmasa gözləyin, front-end məlumatları oxunur..."}),e.jsx("div",{className:"progress-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${O}%`}})}),e.jsx("div",{className:"step-label",children:U})]})});const K=i[o],qa=ji(qe).map(t=>{const a=i.findIndex(s=>s.id===t);return a===-1?null:{page:i[a],pageIdx:a}}).filter(Boolean),Rs=!!qe&&(!!dt[qe]||!!Gi[qe]),Ls=le==="extract"&&Rs&&qa.length>0,He=_e.trim().toLowerCase(),ve=(...t)=>He?t.some(a=>(a||"").toString().toLowerCase().includes(He)):!0,lt=(K?.sections||[]).filter(t=>Ti(t)||K?.id==="about"&&at(t.id)||K?.id==="partners"&&(ua.test(t.id)||t.id==="SECTION_TITLE")||K?.id==="rulespage"&&pa.test(t.id)||K?.id==="rulespage"&&t.id.startsWith("RULES_")?!1:ve(t.id,t.label,t.value,t.url)).sort((t,a)=>xe(t.order,0)-xe(a.order,0)),$a=K?.id==="about"?(()=>{const t=new Map;return(K.sections||[]).forEach(s=>{if(!at(s.id))return;const n=Si(s.id)||s.id,d=t.get(n)||{label:"",value:""};s.id.startsWith(Fe)&&(d.label=s.value||""),s.id.startsWith(Ye)&&(d.value=s.value||""),t.set(n,d)}),Array.from(t.entries()).sort(([s],[n])=>s.localeCompare(n,void 0,{numeric:!0})).map(([s,n])=>({suffix:s,...n})).filter(s=>ve(s.suffix,s.label,s.value))})():[],Ga=K?.id==="partners"?ft(K):[],Ha=K?.id==="rulespage"?Ce(K):[],Bt=(K?.images||[]).filter(t=>ve(t.id,t.alt,t.path)).sort((t,a)=>xe(t.order,0)-xe(a.order,0)),_s=t=>{const a=(t.value||"").toLowerCase();return a.includes("<p")||a.includes("<br")||a.includes("[b]")||a.includes("[i]")||a.includes("[u]")||a.includes("[url")||a.includes("[img")||a.includes("[center]")},Is=t=>t.id.startsWith("val-icon-")||/ikon|icon/i.test(t.label||""),Os=(t,a)=>!a||a!=="privacypolicypage"&&a!=="termsofservicepage"?!1:t.id==="INTRO_TEXT"?!0:/^SECTION_\d+_BODY$/.test(t.id),Cs=(t,a)=>`${t}::${a}`,Mt=(t,a,s=o,n=K)=>{const d=ct(t),p=$t(t,"label"),b=$t(t,"value"),h=$t(t,"url"),r=!!(t.url||"").trim(),u=mn(t),z=n?.sections||[],q=z.findIndex(J=>J.id===t.id),P=q>0,$=q>=0&&q<z.length-1,ee=Is(t),we=n?.id||K?.id||"unknown",tt=Cs(we,t.id),ke=!!oe[tt],zt=Os(t,n?.id)?8:4;return e.jsxs("div",{className:"field-item-wrapper",style:{background:"#fcfcfd",padding:"1.25rem",borderRadius:"14px",border:"1px solid #e5e7eb"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",marginBottom:"0.75rem",flexWrap:"wrap"},children:[e.jsx("input",{type:"text",value:Wt(t.label)?on(t.label):t.label,onChange:J=>Pe(s,t.id,"label",J.target.value),disabled:!p,style:{fontSize:"0.85rem",fontWeight:800,textTransform:"uppercase",color:"var(--primary)",border:"none",background:"none",width:"auto",padding:0}}),d&&e.jsx("span",{style:{fontSize:"10px",color:"#475569",background:"#f1f5f9",borderRadius:"999px",padding:"3px 8px",fontWeight:700},children:"Açar mətn"}),e.jsxs("span",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginLeft:"auto"},children:["Sıra: ",a+1]}),e.jsxs("label",{className:"section-hide-toggle",children:[e.jsx("input",{type:"checkbox",checked:ke,onChange:J=>{Ie(Pt=>({...Pt,[tt]:J.target.checked}))}}),e.jsx("span",{children:"Paneldə gizlə"})]})]}),ke?e.jsx("div",{className:"section-collapsed-tip",children:"Bu section paneldə gizlidir. Yenidən göstərmək üçün “Paneldə gizlə” seçimini söndürün."}):e.jsxs(e.Fragment,{children:[ee?e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 1fr",gap:"8px"},children:[e.jsx("select",{value:t.value||"",onChange:J=>Pe(s,t.id,"value",J.target.value),disabled:!b,style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px"},children:nn.map(J=>e.jsx("option",{value:J,children:J},J))}),e.jsx("input",{type:"text",value:t.value||"",onChange:J=>Pe(s,t.id,"value",J.target.value),disabled:!b,style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px"}})]}):d||!_s(t)?e.jsx("textarea",{value:t.value||"",onChange:J=>Pe(s,t.id,"value",J.target.value),disabled:!b,rows:zt,style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:"1.4",resize:"vertical"}}):e.jsx(qt,{id:`editor-${t.id}`,value:Kt(t.value||""),onChange:J=>Pe(s,t.id,"value",J),readOnly:!b}),r&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"0.75rem"},children:[e.jsx(Ee,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:yt(t.url||""),onChange:J=>Pe(s,t.id,"url",J.target.value),onBlur:()=>Zi(s,t.id),disabled:!h,placeholder:"URL (Məs: /about veya https://...)",style:{fontSize:"12px",padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",flex:1}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",marginTop:"0.9rem"},children:[!r&&h&&e.jsxs("button",{title:"Link əlavə et",onClick:()=>Pe(s,t.id,"url",`${window.location.origin}/`),style:{background:"#fff",border:"1px solid #dbeafe",color:"#2563eb",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(Ee,{size:12})," Link əlavə et"]}),e.jsxs("button",{title:"Yuxarı daşı",onClick:()=>Lt("text",t.id,"up",s),disabled:!P,style:{background:"#fff",border:"1px solid #e2e8f0",color:P?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:P?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(bt,{size:12})," Yuxarı"]}),e.jsxs("button",{title:"Aşağı daşı",onClick:()=>Lt("text",t.id,"down",s),disabled:!$,style:{background:"#fff",border:"1px solid #e2e8f0",color:$?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:$?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(vt,{size:12})," Aşağı"]}),u&&e.jsxs("button",{className:"field-delete-btn",onClick:()=>Oa("text",t.id,s),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(ue,{size:12})," Sil"]})]})]})]},`${t.id}-${a}`)},ks=(()=>{if(K?.id!=="contactpage")return[];const t=new Set,a=rn.map(n=>{const d=n.ids.map(p=>lt.find(b=>b.id===p)).filter(Boolean);return d.forEach(p=>t.add(p.id)),{title:n.title,subtitle:n.subtitle,sections:d}}).filter(n=>n.sections.length>0),s=lt.filter(n=>!t.has(n.id));return s.length>0&&a.push({title:"Digər Sahələr",subtitle:"Avtomatik qruplaşdırıla bilməyən sahələr",sections:s}),a})(),Ds=(()=>{if(!K?.id||!yi[K.id])return[];const t=new Set,a=yi[K.id].map(n=>{const d=n.ids.map(p=>lt.find(b=>b.id===p)).filter(Boolean);return d.forEach(p=>t.add(p.id)),{title:n.title,subtitle:n.subtitle,sections:d}}).filter(n=>n.sections.length>0),s=lt.filter(n=>!t.has(n.id));return s.length>0&&a.push({title:"Digər Sahələr",subtitle:"Avtomatik qruplaşdırıla bilməyən əlavə sahələr",sections:s}),a})(),Va=R.filter(t=>ve(t.title,t.date,t.category,t.status,t.description)),Qa=Oe.filter(t=>ve(t.title,t.date,t.location,t.category,t.status,t.description)),Wa=ge.filter(t=>ve(t.title,t.duration,t.youtubeUrl,t.videoId,t.created_at)),Za=ia.filter(t=>ve(t.title,t.url));return e.jsxs("div",{className:"visual-editor fade-in",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("div",{className:"header-top-row",children:[e.jsx("div",{className:"header-info",children:e.jsxs("h1",{children:[e.jsx(Ee,{size:20})," Admin Panel"]})}),e.jsxs("div",{className:"header-search-container",children:[e.jsx(Mi,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{placeholder:"Komponentləri və məzmunu axtar...",type:"text",value:_e,onChange:t=>ze(t.target.value),className:"header-search-input"})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:`save-btn ${y?"saving":""}`,onClick:da,disabled:y,children:y?"Gözləyin...":e.jsxs(e.Fragment,{children:[e.jsx(ja,{size:16})," Saxla"]})})})]}),e.jsxs("div",{className:"mode-switcher",children:[e.jsx("button",{className:`mode-btn ${le==="extract"?"active":""}`,onClick:()=>Ne("extract"),children:"Ana Səhifə"}),e.jsx("button",{className:`mode-btn ${le==="events"?"active":""}`,onClick:()=>Ne("events"),children:"Tədbirlər"}),e.jsx("button",{className:`mode-btn ${le==="news"?"active":""}`,onClick:()=>Ne("news"),children:"Xəbərlər"}),e.jsx("button",{className:`mode-btn ${le==="drivers"?"active":""}`,onClick:()=>Ne("drivers"),children:"Sürücülər"}),e.jsx("button",{className:`mode-btn ${le==="videos"?"active":""}`,onClick:()=>Ne("videos"),children:"Videolar"}),e.jsx("button",{className:`mode-btn ${le==="photos"?"active":""}`,onClick:()=>Ne("photos"),children:"Fotolar"})]})]}),le==="news"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Xəbərlər"}),e.jsx("button",{className:"add-section-btn",onClick:ps,children:e.jsx(se,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:Va.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:He?"Axtarışa uyğun xəbər tapılmadı.":'Hələ heç bir xəbər yoxdur. Yeni xəbər yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):Va.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${H===t.id?"active":""}`,onClick:()=>us(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(Tt,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>bs(t.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ue,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:H!==null&&G.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(Tt,{size:22})," Xəbəri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[G.title," // ID: ",G.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"BAŞLIQ (AZ)"}),e.jsx("input",{type:"text",value:G.title,onChange:t=>Je("title",t.target.value,G.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:G.date,onChange:t=>Je("date",t.target.value,G.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:G.category,onChange:t=>Je("category",t.target.value,G.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:G.status,onChange:t=>Je("status",t.target.value,G.id),children:[e.jsx("option",{value:"draft",children:"Qaralama"}),e.jsx("option",{value:"published",children:"Dərc edilib"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:G.img?e.jsx("img",{src:G.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:G.img,onChange:t=>Je("img",t.target.value,G.id)}),e.jsx("input",{type:"file",id:"news-full-img",style:{display:"none"},onChange:async t=>{const a=t.target.files?.[0];if(a){const s=await Xe(a);s&&Je("img",s,G.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("news-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"MƏZMUN"}),e.jsx(qt,{id:"news-full-desc",value:Kt(G.description||""),onChange:t=>Je("description",t,G.id)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:da,children:"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Tt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən xəbər seçin və ya yeni yaradın."})]})})]}):le==="events"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Tədbirlər"}),e.jsx("button",{className:"add-section-btn",onClick:os,children:e.jsx(se,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:Qa.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:He?"Axtarışa uyğun tədbir tapılmadı.":'Hələ heç bir tədbir yoxdur. Yeni tədbir yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):Qa.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${Ae===t.id?"active":""}`,onClick:()=>ds(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(Gt,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>cs(t.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ue,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:Ae!==null&&W.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(Gt,{size:22})," Tədbiri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[W.title," // ID: ",W.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TƏDBİR ADI"}),e.jsx("input",{type:"text",value:W.title,onChange:t=>Re("title",t.target.value,W.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:W.date,onChange:t=>Re("date",t.target.value,W.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MƏKAN"}),e.jsx("input",{type:"text",value:W.location,onChange:t=>Re("location",t.target.value,W.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:W.category,onChange:t=>Re("category",t.target.value,W.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:W.status,onChange:t=>Re("status",t.target.value,W.id),children:[e.jsx("option",{value:"planned",children:"Gələcək"}),e.jsx("option",{value:"past",children:"Keçmiş"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:W.img?e.jsx("img",{src:W.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:W.img,onChange:t=>Re("img",t.target.value,W.id)}),e.jsx("input",{type:"file",id:"event-full-img",style:{display:"none"},onChange:async t=>{const a=t.target.files?.[0];if(a){const s=await Xe(a);s&&Re("img",s,W.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("event-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"TƏSVİR"}),e.jsx(qt,{id:"event-full-desc",value:Kt(W.description||""),onChange:t=>Re("description",t,W.id)})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"PDF URL"}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:W.pdfUrl||"",onChange:t=>Re("pdfUrl",t.target.value,W.id),placeholder:"https://.../rules.pdf"}),e.jsx("input",{type:"file",id:"event-full-pdf",accept:".pdf,application/pdf",style:{display:"none"},onChange:async t=>{const a=t.target.files?.[0];if(!a)return;if(a.type!=="application/pdf"&&!a.name.toLowerCase().endsWith(".pdf")){A.error("Yalnız PDF faylı yüklənə bilər");return}const s=await ra(a,{loadingText:"PDF yüklənir...",successText:"PDF uğurla yükləndi",errorText:"PDF yüklənərkən xəta baş verdi"});s&&Re("pdfUrl",s,W.id),t.target.value=""}}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("event-full-pdf")?.click(),className:"btn-secondary",children:"PDF Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"QAYDALAR"}),e.jsx(qt,{id:"event-full-rules",value:Kt(W.rules||""),onChange:t=>Re("rules",t,W.id)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:da,children:"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Gt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən tədbir seçin və ya yeni yaradın."})]})})]}):le==="drivers"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Kateqoriyalar"}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"add-section-btn",onClick:Es,title:"Kateqoriya əlavə et",children:e.jsx(se,{size:16})}),e.jsx("button",{className:"delete-section-btn",onClick:As,title:"Seçilmiş kateqoriyanı sil",style:{background:"none",border:"none",color:"#ff4d4f",cursor:"pointer",padding:"4px"},children:e.jsx(ue,{size:16})})]})]}),e.jsx("select",{value:ae||"",onChange:t=>vs(t.target.value),style:{width:"100%",padding:"10px",marginBottom:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"},children:Se.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),ae&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"11px",fontWeight:800,color:"#64748b",textTransform:"uppercase"},children:"Kateqoriya adı"}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:e.jsx("input",{type:"text",value:Se.find(t=>t.id===ae)?.name||"",onChange:t=>Ns(t.target.value),placeholder:"Kateqoriya adı",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"}})})]}),e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Sürücülər"}),e.jsx("button",{className:"add-section-btn",onClick:Ss,children:e.jsx(se,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 400px)"},children:ae&&(Se.find(t=>t.id===ae)?.drivers||[]).filter(t=>ve(t.name,t.license,t.team,t.rank,t.points,t.wins)).length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:He?"Axtarışa uyğun sürücü tapılmadı.":"Bu kateqoriyada sürücü yoxdur."}):(Se.find(t=>t.id===ae)?.drivers||[]).filter(t=>ve(t.name,t.license,t.team,t.rank,t.points,t.wins)).map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${it===t.id?"active":""}`,onClick:()=>ys(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsxs("span",{style:{fontWeight:"900",color:"var(--primary)",marginRight:"8px"},children:["#",t.rank]})," ",t.name]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>{a.stopPropagation(),Ts(t.id)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ue,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:it!==null&&be.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:be.name}),e.jsxs("p",{style:{color:"#64748b"},children:[Se.find(t=>t.id===ae)?.name," // RANK #",be.rank]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"SÜRÜCÜNÜN ADI VƏ SOYADI"}),e.jsx("input",{type:"text",value:be.name,onChange:t=>et("name",t.target.value),placeholder:"Məs: Əli Məmmədov",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARIŞ SIRALAMASI (RANK)"}),e.jsx("input",{type:"number",value:be.rank,readOnly:!0,style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",background:"#f8fafc",color:"#94a3b8",cursor:"not-allowed"}}),e.jsx("p",{style:{fontSize:"11px",color:"#3b82f6",marginTop:"6px",fontWeight:"bold"},children:"ℹ️ Bu sıra ballara görə avtomatik hesablanır"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT LİSENZİYASI"}),e.jsx("input",{type:"text",value:be.license,onChange:t=>et("license",t.target.value),placeholder:"Məs: A-SİNFİ",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"TƏMSİL ETDİYİ KOMANDA"}),e.jsx("input",{type:"text",value:be.team,onChange:t=>et("team",t.target.value),placeholder:"Məs: FORSAJ RACING",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"QALİBİYYƏT (WINS)"}),e.jsx("input",{type:"number",value:be.wins,onChange:t=>et("wins",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"XAL (POINTS)"}),e.jsx("input",{type:"number",value:be.points,onChange:t=>et("points",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT ŞƏKLİ"}),e.jsxs("div",{className:"input-row",children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",overflow:"hidden",background:"#f1f5f9",border:"2px solid var(--primary)"},children:be.img?e.jsx("img",{src:be.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(De,{size:24,style:{opacity:.2}})})}),e.jsxs("div",{className:"input-row",style:{flex:1},children:[e.jsx("input",{type:"text",value:be.img||"",onChange:t=>et("img",t.target.value),placeholder:"Şəkil URL və ya yol...",style:{flex:1,padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}}),e.jsx("input",{type:"file",id:"driver-img-upload",style:{display:"none"},accept:"image/*",onChange:async t=>{const a=t.target.files?.[0];if(a){const s=await Xe(a);s&&et("img",s)}}}),e.jsx("button",{onClick:()=>document.getElementById("driver-img-upload")?.click(),style:{background:"#f1f5f9",border:"1px solid #e2e8f0",padding:"12px",borderRadius:"8px",cursor:"pointer"},children:"Yüklə"})]})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:js,disabled:y,children:y?"Gözləyin...":"Sürücünü Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(St,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən sürücü seçin."})]})})]}):le==="videos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Videolar"}),e.jsx("button",{className:"add-section-btn",onClick:fs,children:e.jsx(se,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:Wa.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:He?"Axtarışa uyğun video tapılmadı.":"Heç bir video əlavə edilməyib."}):Wa.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${pt===t.id?"active":""}`,onClick:()=>Fa(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"16px",background:"#333",borderRadius:"2px",overflow:"hidden"},children:t.thumbnail&&e.jsx("img",{src:t.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>{a.stopPropagation(),gs(t.id,a)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ue,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:pt!==null&&ye.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Video Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[ye.title," // ID: ",ye.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO BAŞLIĞI"}),e.jsx("input",{type:"text",value:ye.title,onChange:t=>Dt("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YOUTUBE URL"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(Ee,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{type:"text",value:ye.youtubeUrl,onChange:t=>Dt("youtubeUrl",t.target.value),placeholder:"https://www.youtube.com/watch?v=...",style:{width:"100%",padding:"12px 12px 12px 40px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsx("p",{style:{fontSize:"11px",color:"#64748b",marginTop:"6px"},children:"YouTube linkini daxil etdikdə şəkil və ID avtomatik təyin olunacaq."})]}),e.jsxs("div",{className:"edit-grid grid-2-compact",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"MÜDDƏT (MƏS: 05:20)"}),e.jsx("input",{type:"text",value:ye.duration,onChange:t=>Dt("duration",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO ID (AVTOMATİK)"}),e.jsx("input",{type:"text",value:ye.videoId,readOnly:!0,style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",background:"#f8fafc",color:"#94a3b8"}})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARADILMA TARİXİ"}),e.jsx("input",{type:"text",value:ye.created_at||"",onChange:t=>Dt("created_at",t.target.value),placeholder:"2026-02-16T10:30:00.000Z",style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ÖNİZLƏMƏ (THUMBNAIL)"}),e.jsxs("div",{style:{width:"100%",aspectRatio:"16/9",borderRadius:"12px",overflow:"hidden",background:"#000",border:"1px solid #e2e8f0",position:"relative"},children:[ye.thumbnail?e.jsx("img",{src:ye.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(fa,{size:48,style:{opacity:.1,color:"white"}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"YouTube linki daxil edin"})]}),ye.videoId&&e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.3)",cursor:"pointer"},onClick:()=>window.open(ye.youtubeUrl,"_blank"),children:e.jsx("div",{style:{background:"#FF4D00",color:"white",padding:"12px",borderRadius:"50%",boxShadow:"0 0 20px rgba(255,77,0,0.4)"},children:e.jsx(tl,{size:24,fill:"currentColor"})})})]})]})]})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(fa,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən video seçin və ya yeni əlavə edin."})]})})]}):le==="photos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Foto Arxiv"}),e.jsx("button",{className:"add-section-btn",onClick:ms,title:"Yeni şəkil əlavə et",children:e.jsx(se,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},children:Za.length===0?e.jsx("p",{style:{padding:"20px",color:"#94a3b8",textAlign:"center",fontSize:"13px"},children:He?"Axtarışa uyğun şəkil tapılmadı.":"Şəkil yoxdur"}):Za.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${mt===t.id?"active":""}`,onClick:()=>Ka(t.id),style:{width:"100%",paddingRight:"40px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",overflow:"hidden",flexShrink:0,background:"#eee"},children:t.url?e.jsx("img",{src:t.url,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(De,{size:12,style:{margin:"6px",opacity:.3}})}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>xs(t.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ue,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:mt!==null&&Ze.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Şəkil Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[Ze.title," // ID: ",Ze.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ŞƏKİL BAŞLIĞI"}),e.jsx("input",{type:"text",value:Ze.title,onChange:t=>oa("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"FOTO"}),e.jsxs("div",{style:{width:"100%",minHeight:"300px",borderRadius:"12px",overflow:"hidden",background:"#f8fafc",border:"1px dashed #cbd5e1",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[Ze.url?e.jsx("img",{src:Ze.url,alt:"",style:{maxWidth:"100%",maxHeight:"400px",objectFit:"contain"}}):e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(De,{size:48,style:{opacity:.1}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"Şəkil seçilməyib"})]}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem"},children:[e.jsx("input",{type:"file",id:"gallery-photo-upload",style:{display:"none"},accept:"image/*",onChange:hs}),e.jsxs("button",{onClick:()=>document.getElementById("gallery-photo-upload")?.click(),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(se,{size:18})," Şəkil Yüklə"]}),e.jsx("input",{type:"text",value:Ze.url||"",onChange:t=>oa("url",t.target.value),placeholder:"URL və ya yol...",style:{padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",width:"250px"}})]})]})]})]})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(De,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən şəkil seçin və ya yeni əlavə edin."})]})})]}):e.jsx("div",{className:"editor-layout",children:e.jsx("main",{className:"editor-canvas",style:{width:"100%"},children:Ls?e.jsxs("div",{className:"edit-fields",style:{width:"100%"},children:[qe==="home"&&e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"Ana Səhifə Blokları"})}),qe==="abouttab"&&e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"HAQQIMIZDA"})}),qa.map(({page:t,pageIdx:a})=>{const s=t.id==="marquee",n=s&&!!F[t.id],d=(t.sections||[]).filter(r=>Ti(r)||t.id==="about"&&at(r.id)||t.id==="rulespage"&&pa.test(r.id)||t.id==="rulespage"&&r.id.startsWith("RULES_")?!1:ve(r.id,r.label,r.value,r.url)).sort((r,u)=>xe(r.order,0)-xe(u.order,0)),p=(t.images||[]).filter(r=>ve(r.id,r.alt,r.path)).sort((r,u)=>xe(r.order,0)-xe(u.order,0)),b=t.id==="about"?(()=>{const r=new Map;return(t.sections||[]).forEach(u=>{if(!at(u.id))return;const z=Si(u.id)||u.id,q=r.get(z)||{label:"",value:""};u.id.startsWith(Fe)&&(q.label=u.value||""),u.id.startsWith(Ye)&&(q.value=u.value||""),r.set(z,q)}),Array.from(r.entries()).sort(([u],[z])=>u.localeCompare(z,void 0,{numeric:!0})).map(([u,z])=>({suffix:u,...z})).filter(u=>ve(u.suffix,u.label,u.value))})():[],h=t.id==="rulespage"?Ce(t).filter(r=>ve(r.id,r.title,r.icon,r.docName,r.docButton,r.docUrl,...(r.items||[]).flatMap(u=>[u.title,u.desc]))):[];return He&&d.length===0&&p.length===0&&b.length===0&&h.length===0?null:e.jsxs("div",{className:"field-group",children:[e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.05rem",fontWeight:800,color:"var(--text-main)"},children:ma[t.id]||t.title})}),s&&e.jsxs("div",{className:"marquee-control-panel",children:[e.jsxs("div",{className:"marquee-control-item",children:[e.jsxs("div",{className:"marquee-control-copy",children:[e.jsx("div",{className:"marquee-control-title",children:"Marquee aktivdir"}),e.jsx("div",{className:"marquee-control-desc",children:"Frontenddə sürüşən yazı göstərilsin"})]}),e.jsxs("label",{className:"marquee-switch","aria-label":"Marquee aktivdir",children:[e.jsx("input",{type:"checkbox",checked:t.active!==!1,onChange:r=>{const u=[...i];u[a]&&(u[a].active=r.target.checked,l(u))}}),e.jsx("span",{className:"marquee-switch-slider"})]})]}),e.jsxs("div",{className:"marquee-control-item",children:[e.jsxs("div",{className:"marquee-control-copy",children:[e.jsx("div",{className:"marquee-control-title",children:"Paneldə gizlə"}),e.jsx("div",{className:"marquee-control-desc",children:"Bu kartı editorda daralt və yadda saxla"})]}),e.jsxs("label",{className:"marquee-switch","aria-label":"Paneldə gizlə",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:r=>{fe(u=>({...u,[t.id]:r.target.checked}))}}),e.jsx("span",{className:"marquee-switch-slider"})]})]})]}),(t.id!=="marquee"||!n)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.9rem"},children:[t.id==="about"&&e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:800},children:"Statistikalar"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>la(a),children:[e.jsx(se,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:b.map(r=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:r.label,onChange:u=>_t(r.suffix,"label",u.target.value,a),placeholder:"Statistika adı",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:r.value,onChange:u=>_t(r.suffix,"value",u.target.value,a),placeholder:"Dəyər",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{type:"button",onClick:()=>Ca(r.suffix,a),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(ue,{size:14})})]},r.suffix))})]}),t.id==="rulespage"&&e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:800},children:"Qaydalar Sekmələri"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>Ba(a),children:[e.jsx(se,{size:14})," Yeni Sekmə"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:h.map((r,u)=>{const z=u>0,q=u<h.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"10px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px 160px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:r.title,onChange:P=>Te(u,"title",P.target.value,a),placeholder:"Sekmə başlığı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("input",{type:"text",value:r.id,onChange:P=>Te(u,"id",P.target.value,a),placeholder:"Sekmə ID",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("select",{value:r.icon,onChange:P=>Te(u,"icon",P.target.value,a),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:ca.map(P=>e.jsx("option",{value:P,children:P},P))}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{type:"button",title:"Yuxarı",onClick:()=>Ct(u,"up",a),disabled:!z,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:z?"#334155":"#cbd5e1"},children:e.jsx(bt,{size:14})}),e.jsx("button",{type:"button",title:"Aşağı",onClick:()=>Ct(u,"down",a),disabled:!q,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:q?"#334155":"#cbd5e1"},children:e.jsx(vt,{size:14})}),e.jsx("button",{type:"button",title:"Sekməni sil",onClick:()=>Ma(u,a),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ue,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:r.docName||"",onChange:P=>Te(u,"docName",P.target.value,a),placeholder:"Sənəd adı (Məs: PILOT_PROTOKOLU.PDF)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:r.docButton||"",onChange:P=>Te(u,"docButton",P.target.value,a),placeholder:"Düymə mətni (Məs: PDF YÜKLƏ)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(Ee,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:r.docUrl||"",onChange:P=>Te(u,"docUrl",P.target.value,a),placeholder:"Sənəd linki (Məs: /uploads/pilot.pdf və ya https://...)",style:{width:"100%",padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`rules-doc-upload-${a}-${u}`,type:"file",accept:".pdf,application/pdf",style:{display:"none"},onChange:async P=>{const $=P.target.files?.[0];$&&(await Ua($,u,a),P.target.value="")}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`rules-doc-upload-${a}-${u}`)?.click(),children:"PDF Yüklə"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(r.items||[]).map((P,$)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:P.title,onChange:ee=>kt(u,$,"title",ee.target.value,a),placeholder:"Maddə başlığı",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("button",{type:"button",title:"Maddəni sil",onClick:()=>Pa(u,$,a),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ue,{size:14})})]}),e.jsx("textarea",{rows:3,value:P.desc,onChange:ee=>kt(u,$,"desc",ee.target.value,a),placeholder:"Maddə təsviri",style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",lineHeight:1.4,resize:"vertical"}})]},`rules-tab-item-group-${r.index}-${P.index}`)),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>za(u,a),children:[e.jsx(se,{size:14})," Maddə Əlavə Et"]})]})]},`rules-tab-group-${r.index}-${r.id}`)})})]}),d.map((r,u)=>Mt(r,u,a,t))]}),e.jsxs("div",{style:{marginTop:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:700},children:"Şəkillər"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>{const r=[...i],u=r[a];u&&(u.images.push({id:`img-${u.images.length}-${Date.now()}`,path:"",alt:"",type:"local",order:u.images.length}),l(r))},children:[e.jsx(se,{size:14})," Yeni Şəkil"]})]}),e.jsxs("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1rem"},children:[p.length===0&&e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Bu bölmədə şəkil yoxdur."}),p.map(r=>e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",padding:"0.75rem",background:"#fff"},children:[e.jsx("div",{style:{height:"120px",background:"#f8fafc",borderRadius:"8px",marginBottom:"8px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:r.path?e.jsx("img",{src:r.path,alt:r.alt||r.id,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{fontSize:"11px",color:"#94a3b8"},children:"Önizləmə yoxdur"})}),e.jsx("input",{type:"text",value:r.path,placeholder:"Tam şəkil linki",onChange:u=>{const z=[...i],q=z[a];if(!q)return;const P=q.images.findIndex($=>$.id===r.id);P!==-1&&(q.images[P].path=u.target.value,l(z))},style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",marginBottom:"8px"}}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{id:`group-file-up-${t.id}-${r.id}`,type:"file",accept:"image/*",style:{display:"none"},onChange:async u=>{const z=u.target.files?.[0];if(!z)return;const q=await Xe(z);if(!q)return;const P=[...i],$=P[a];if(!$)return;const ee=$.images.findIndex(we=>we.id===r.id);ee!==-1&&($.images[ee].path=q,$.images[ee].type="local",l(P))}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`group-file-up-${t.id}-${r.id}`)?.click(),style:{fontSize:"11px",padding:"6px 10px"},children:"Fayldan yüklə"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>wa(a,r.id),style:{fontSize:"11px",padding:"6px 10px"},children:"Kitabxanadan seç"})]}),e.jsx("input",{type:"text",value:r.alt,placeholder:"Alt mətni",onChange:u=>_a(a,r.id,u.target.value),style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px"}})]},`${t.id}-${r.id}`))]})]})]}),n&&e.jsx("div",{className:"empty-fields-tip",style:{textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Marquee bölməsi paneldə gizlədildi. Yuxarıdakı checkbox ilə geri aça bilərsiniz."})]},t.id)})]}):K?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"canvas-header",children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:ma[K.id]||K.title}),e.jsxs("div",{className:"canvas-actions",children:[K.id==="about"&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>la(),style:{background:"#f5f3ff",color:"#7c3aed",border:"1px solid #ddd6fe"},children:[e.jsx(St,{size:14})," Statistika Əlavə Et"]}),(K.id==="about"||K.id==="values")&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>Ji(),style:{background:"#f0fdf4",color:"#16a34a",border:"1px solid #bbf7d0"},children:[e.jsx(se,{size:14})," Yeni Dəyər Əlavə Et"]}),e.jsx("div",{style:{width:"1px",height:"24px",background:"#e2e8f0",margin:"0 4px"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"#f8fafc",padding:"4px 12px",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:800,color:"#64748b"},children:"VƏZİYYƏT:"}),e.jsx("button",{onClick:()=>{const t=[...i];t[o].active=K?.active===!1,l(t),A.success(t[o].active?"Bölmə aktivləşdirildi":"Bölmə deaktiv edildi")},style:{width:"36px",height:"18px",borderRadius:"9px",background:K?.active!==!1?"#10b981":"#cbd5e1",position:"relative",cursor:"pointer",border:"none",transition:"background 0.3s"},children:e.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:K?.active!==!1?"20px":"2px",transition:"left 0.3s"}})})]})]})]}),e.jsxs("div",{className:"edit-fields",children:[K.id==="about"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(St,{size:16})," Statistikalar"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>la(),children:[e.jsx(se,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:$a.length>0?$a.map(t=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"10px",background:"#fff"},children:[e.jsx("input",{type:"text",value:t.label,onChange:a=>_t(t.suffix,"label",a.target.value),placeholder:"Statistika adı (Məs: PİLOTLAR)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:t.value,onChange:a=>_t(t.suffix,"value",a.target.value),placeholder:"Dəyər (Məs: 140+)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{onClick:()=>Ca(t.suffix),title:"Statistikanı sil",style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(ue,{size:14})})]},t.suffix)):e.jsx("div",{style:{padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:_e?"Axtarışa uyğun statistika tapılmadı.":'Hələ statistika yoxdur. "Yeni Statistika" ilə əlavə edin.'})})]}),K.id==="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(St,{size:16})," Tərəfdaş Kartları"]}),e.jsxs("button",{className:"add-field-minimal",onClick:es,children:[e.jsx(se,{size:14})," Tərəfdaş Əlavə Et"]})]}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("label",{style:{display:"block",fontSize:"12px",color:"#64748b",marginBottom:"6px",fontWeight:700},children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:K.sections.find(t=>t.id==="SECTION_TITLE")?.value||"",onChange:t=>Pe(o,"SECTION_TITLE","value",t.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Ga.map((t,a)=>{const s=a>0,n=a<Ga.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"12px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 200px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.name,onChange:d=>gt(t.index,"name",d.target.value),placeholder:"Tərəfdaş adı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:t.tag,onChange:d=>gt(t.index,"tag",d.target.value),placeholder:"Etiket",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:t.icon,onChange:d=>gt(t.index,"icon",d.target.value),placeholder:"ShieldCheck / Truck / Globe / Zap",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı",onClick:()=>ka(t.index,"up"),disabled:!s,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:s?"#334155":"#cbd5e1"},children:e.jsx(bt,{size:14})}),e.jsx("button",{title:"Aşağı",onClick:()=>ka(t.index,"down"),disabled:!n,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:n?"#334155":"#cbd5e1"},children:e.jsx(vt,{size:14})}),e.jsx("button",{title:"Sil",onClick:()=>ts(t.index),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ue,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"170px 1fr",gap:"8px",alignItems:"center"},children:[e.jsxs("select",{value:t.useImage,onChange:d=>gt(t.index,"useImage",d.target.value),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:[e.jsx("option",{value:"false",children:"İkon istifadə et"}),e.jsx("option",{value:"true",children:"Görsel istifadə et"})]}),e.jsx("input",{type:"text",value:t.imageId,onChange:d=>gt(t.index,"imageId",d.target.value),placeholder:"Görsel ID (Məs: partner-image-1)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]})]},t.index)})})]}),K.id==="rulespage"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Vt,{size:16})," Qaydalar Sekmələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Ba(),children:[e.jsx(se,{size:14})," Yeni Sekmə"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Ha.map((t,a)=>{const s=a>0,n=a<Ha.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"12px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px 170px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.title,onChange:d=>Te(a,"title",d.target.value),placeholder:"Sekmə başlığı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("input",{type:"text",value:t.id,onChange:d=>Te(a,"id",d.target.value),placeholder:"Sekmə ID",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("select",{value:t.icon,onChange:d=>Te(a,"icon",d.target.value),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:ca.map(d=>e.jsx("option",{value:d,children:d},d))}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı",onClick:()=>Ct(a,"up"),disabled:!s,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:s?"#334155":"#cbd5e1"},children:e.jsx(bt,{size:14})}),e.jsx("button",{title:"Aşağı",onClick:()=>Ct(a,"down"),disabled:!n,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:n?"#334155":"#cbd5e1"},children:e.jsx(vt,{size:14})}),e.jsx("button",{title:"Sekməni sil",onClick:()=>Ma(a),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ue,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:t.docName||"",onChange:d=>Te(a,"docName",d.target.value),placeholder:"Sənəd adı (Məs: PILOT_PROTOKOLU.PDF)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:t.docButton||"",onChange:d=>Te(a,"docButton",d.target.value),placeholder:"Düymə mətni (Məs: PDF YÜKLƏ)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(Ee,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:t.docUrl||"",onChange:d=>Te(a,"docUrl",d.target.value),placeholder:"Sənəd linki (Məs: /uploads/pilot.pdf və ya https://...)",style:{width:"100%",padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`rules-doc-upload-current-${a}`,type:"file",accept:".pdf,application/pdf",style:{display:"none"},onChange:async d=>{const p=d.target.files?.[0];p&&(await Ua(p,a),d.target.value="")}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`rules-doc-upload-current-${a}`)?.click(),children:"PDF Yüklə"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(t.items||[]).map((d,p)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:d.title,onChange:b=>kt(a,p,"title",b.target.value),placeholder:"Maddə başlığı",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("button",{title:"Maddəni sil",onClick:()=>Pa(a,p),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ue,{size:14})})]}),e.jsx("textarea",{rows:3,value:d.desc,onChange:b=>kt(a,p,"desc",b.target.value),placeholder:"Maddə təsviri",style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",lineHeight:1.4,resize:"vertical"}})]},`rules-item-${t.index}-${d.index}`)),e.jsxs("button",{className:"add-field-minimal",onClick:()=>za(a),children:[e.jsx(se,{size:14})," Maddə Əlavə Et"]})]})]},`rules-tab-${t.index}-${t.id}`)})})]}),K.id!=="rulespage"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Bi,{size:16})," Mətn Sahələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Ia("text"),children:[e.jsx(se,{size:14})," Mətn Əlavə Et"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:lt.length===0&&_e?e.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:"Bu səhifədə sorğuya uyğun mətn tapılmadı."}):K?.id==="contactpage"?ks.map(t=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",border:"1px solid #e2e8f0",borderRadius:"12px",background:"#f8fafc",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",padding:"4px 2px 8px 2px",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#334155",fontWeight:900,textTransform:"uppercase"},children:t.title}),e.jsx("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:t.subtitle})]}),t.sections.map((a,s)=>Mt(a,s))]},t.title)):K?.id==="privacypolicypage"||K?.id==="termsofservicepage"?Ds.map(t=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",border:"1px solid #e2e8f0",borderRadius:"12px",background:"#f8fafc",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",padding:"4px 2px 8px 2px",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#334155",fontWeight:900,textTransform:"uppercase"},children:t.title}),e.jsx("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:t.subtitle})]}),t.sections.map((a,s)=>Mt(a,s))]},t.title)):lt.map((t,a)=>Mt(t,a))})]}),e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(De,{size:16})," Bölmədəki Şəkillər"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Ia("image"),children:[e.jsx(se,{size:14})," Yeni Şəkil Yeri"]})]}),Bt.length>0&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:800,color:"#64748b",marginBottom:"8px"},children:"Komponent Daxili Önizləmə (Sıra ilə)"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"10px"},children:Bt.map((t,a)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",overflow:"hidden",background:"#fff"},children:[e.jsx("div",{style:{height:"84px",background:"#f8fafc"},children:t.path?e.jsx("img",{src:t.path,alt:t.alt||`Preview ${a+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",fontSize:"11px"},children:"Şəkil yoxdur"})}),e.jsxs("div",{style:{padding:"6px 8px",fontSize:"10px",color:"#475569",fontWeight:700},children:["#",a+1," • ",t.id]})]},`preview-${t.id}`))})]}),e.jsx("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1.5rem"},children:Bt.length>0?Bt.map((t,a)=>{const s=K?.images||[],n=s.findIndex(b=>b.id===t.id),d=n>0,p=n>=0&&n<s.length-1;return e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",overflow:"hidden",background:"#fff",position:"relative"},children:[e.jsx("button",{className:"field-delete-btn",onClick:()=>Oa("image",t.id),style:{position:"absolute",right:"8px",top:"8px",zIndex:10,background:"rgba(255,255,255,0.9)",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(ue,{size:12})}),e.jsxs("div",{style:{position:"absolute",right:"40px",top:"8px",zIndex:10,display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı daşı",onClick:()=>Lt("image",t.id,"up"),disabled:!d,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:d?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:d?"pointer":"not-allowed"},children:e.jsx(bt,{size:12})}),e.jsx("button",{title:"Aşağı daşı",onClick:()=>Lt("image",t.id,"down"),disabled:!p,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:p?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:p?"pointer":"not-allowed"},children:e.jsx(vt,{size:12})})]}),e.jsx("div",{style:{height:"120px",background:"#f8fafc",position:"relative",overflow:"hidden"},children:t.path&&(t.path.startsWith("http")||t.path.startsWith("/"))?e.jsx("img",{src:t.path,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#f1f5f9"},children:[e.jsx(De,{size:32,style:{opacity:.1}}),e.jsx("span",{style:{fontSize:"10px",color:"#999",position:"absolute",bottom:"10px"},children:"Yol yoxdur"})]})}),e.jsxs("div",{style:{padding:"0.75rem"},children:[e.jsxs("div",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginBottom:"6px"},children:["Sıra: ",a+1]}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginBottom:"4px"},children:[e.jsx("input",{type:"text",placeholder:"Resur yolu...",value:t.path,onChange:b=>{if(o<0||o>=i.length)return;const h=[...i],r=h[o];if(!r)return;const u=r.images.findIndex(z=>z.id===t.id);u!==-1&&(r.images[u].path=b.target.value,l(h))},style:{fontSize:"0.75rem",flex:1,padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}}),e.jsx("button",{onClick:()=>wa(o,t.id),title:"Sistemdən seç",style:{padding:"0 8px",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer"},children:e.jsx(Ee,{size:14})}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"file",id:`file-up-${t.id}`,style:{display:"none"},accept:"image/*",onChange:b=>ns(b,o,t.id)}),e.jsx("button",{onClick:()=>document.getElementById(`file-up-${t.id}`)?.click(),title:"Kompüterdən yüklə",style:{padding:"0 8px",height:"100%",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},children:e.jsx(se,{size:14})})]})]}),e.jsx("input",{type:"text",placeholder:"Alt mətni...",value:t.alt,onChange:b=>_a(o,t.id,b.target.value),style:{fontSize:"0.75rem",width:"100%",padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}})]})]},t.id)}):e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"2rem",background:"#f8fafc",borderRadius:"12px",border:"1px dashed #cbd5e1",color:"#64748b"},children:_e?"Sorğuya uyğun şəkil tapılmadı.":"Bu bölmədə redaktə ediləcək şəkil yoxdur."})})]}),e.jsxs("div",{className:"field-group",children:[e.jsxs("label",{children:[e.jsx(De,{size:16})," Yeni Şəkil Yüklə"]}),e.jsxs("div",{className:"upload-dropzone",children:[e.jsx(se,{size:24}),e.jsx("p",{children:"Şəkil yükləmək üçün seçin"}),e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=async a=>{const s=a.target.files?.[0];if(!s)return;const n=await Xe(s);if(n&&o>=0&&o<i.length){const d=[...i],p=d[o];if(p){const b=`img-${p.images.length}-${Date.now()}`;p.images.push({id:b,path:n,alt:"",type:"local"}),l(d),A.success("Yeni şəkil əlavə edildi")}}},t.click()},children:"Cihazdan Yüklə"}),e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=`img-${(K.images||[]).length}`;We({pageIdx:o,imgId:t}),X(!0),B(!0)},children:"Kitabxanadan Seç"})]})]})]})]})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",gap:"1rem"},children:[e.jsx(Vt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən bir komponent seçin."})]})})}),T&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Yeni Bölmə Əlavə Et"}),e.jsx("button",{onClick:()=>m(!1),children:e.jsx(ga,{size:20})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:Me,onChange:t=>ut(t.target.value),placeholder:"Məs: Xidmətlərimiz, Kampaniyalar...",autoFocus:!0})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>m(!1),children:"Ləğv et"}),e.jsx("button",{className:"btn-primary",onClick:Xi,children:"Əlavə et"})]})]})}),D&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",style:{maxWidth:"800px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Sistem Şəkilləri"}),e.jsx("button",{onClick:()=>B(!1),children:e.jsx(ga,{size:20})})]}),e.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:e.jsx("div",{className:"image-selector-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"1rem"},children:re.length>0?re.map((t,a)=>e.jsxs("div",{className:"selector-image-card",onClick:()=>rs(t),style:{cursor:"pointer",border:"2px solid #f1f5f9",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s"},children:[e.jsx("div",{style:{aspectRatio:"1/1",background:"#f8fafc"},children:e.jsx("img",{src:t,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("div",{style:{padding:"0.5rem",fontSize:"10px",color:"#64748b",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:t.split("/").pop()})]},a)):e.jsx("div",{style:{gridColumn:"1/-1",textAlign:"center",padding:"3rem",color:"#94a3b8"},children:"Sistemdə heç bir şəkil tapılmadı."})})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-secondary",onClick:()=>B(!1),children:"Bağla"})})]})})]})},Hi="forsaj_admin_user",Vi="forsaj_admin_token",Sa="forsaj:session-expired",jt=()=>{const i=localStorage.getItem(Vi);return!i||i==="null"||i==="undefined"?null:i},Le=()=>{localStorage.removeItem(Hi),localStorage.removeItem(Vi),window.dispatchEvent(new Event(Sa))},bn=({currentUser:i})=>{const[l,o]=g.useState([]),[x,y]=g.useState(!0),[S,v]=g.useState(!1),[j,O]=g.useState(null),C=async()=>{try{const m=jt();if(!m){Le();return}const D=await fetch("/api/users",{headers:{Authorization:`Bearer ${m}`}});if(D.status===401||D.status===403){Le(),A.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(!D.ok)throw new Error("Yükləmə uğursuz oldu");const B=await D.json();o(B||[])}catch{A.error("İstifadəçiləri yükləmək mümkün olmadı")}finally{y(!1)}};g.useEffect(()=>{C()},[]);const U=async m=>{if(m.preventDefault(),!j?.username||!j?.name||!j?.id&&!j?.password){A.error("Zəhmət olmasa bütün sahələri doldurun");return}try{const D=jt();if(!D){Le();return}const B=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify(j)});if(B.status===401||B.status===403){Le(),A.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(B.ok)A.success(j.id?"İstifadəçi yeniləndi":"Yeni istifadəçi yaradıldı"),v(!1),O(null),C();else{const L=await B.json();A.error(L.error||"Xəta baş verdi")}}catch{A.error("Serverlə bağlantı kəsildi")}},w=async m=>{if(window.confirm("Bu istifadəçini silmək istədiyinizə əminsiniz?"))try{const D=jt();if(!D){Le();return}const B=await fetch(`/api/users/${m}`,{method:"DELETE",headers:{Authorization:`Bearer ${D}`}});if(B.status===401||B.status===403){Le(),A.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(B.ok)A.success("İstifadəçi silindi"),C();else{const L=await B.json();A.error(L.error||"Silmək mümkün olmadı")}}catch{A.error("Serverlə bağlantı kəsildi")}},T=(m=null)=>{O(m?{...m}:{username:"",name:"",password:"",role:"secondary"}),v(!0)};return x?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"users-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Admin Hesabları"}),e.jsx("p",{children:"Sistemi idarə edən bütün administratorların siyahısı və səlahiyyətləri"})]}),i.role==="master"&&e.jsxs("button",{className:"add-user-btn",onClick:()=>T(),children:[e.jsx(al,{size:18})," Yeni idarəçi"]})]}),e.jsx("div",{className:"users-grid",children:l.map(m=>e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-avatar",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${m.name}&background=${m.role==="master"?"3b82f6":"f59e0b"}&color=fff`,alt:m.name}),e.jsxs("div",{className:`role-badge ${m.role||"secondary"}`,children:[e.jsx(gi,{size:10})," ",m.role==="master"?"Baş admin":"Redaktor"]})]}),e.jsxs("div",{className:"user-details",children:[e.jsx("h3",{children:m.name}),e.jsxs("span",{children:["@",m.username||"username"]})]}),i.role==="master"&&e.jsxs("div",{className:"user-actions",children:[e.jsx("button",{className:"edit-btn",onClick:()=>T(m),title:"Düzəliş et",children:e.jsx(il,{size:16})}),e.jsx("button",{className:"delete-btn",onClick:()=>w(m.id.toString()),title:"Sil",children:e.jsx(ue,{size:16})})]})]},m.id))}),S&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:j?.id?"İstifadəçini redaktə et":"Yeni idarəçi hesabı"}),e.jsx("button",{onClick:()=>v(!1),children:e.jsx(ga,{size:20})})]}),e.jsxs("form",{onSubmit:U,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Et,{size:14})," Tam Ad"]}),e.jsx("input",{type:"text",value:j?.name||"",onChange:m=>O({...j,name:m.target.value}),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Et,{size:14})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:j?.username||"",onChange:m=>O({...j,username:m.target.value}),placeholder:"Məs: alimm",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(ba,{size:14})," Şifrə ",j?.id&&e.jsx("span",{className:"helper-text",children:"(Dəyişmək istəmirsinizsə boş saxlayın)"})]}),e.jsx("input",{type:"password",value:j?.password||"",onChange:m=>O({...j,password:m.target.value}),placeholder:"••••••••",required:!j?.id})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(gi,{size:14})," Yetki (Rol)"]}),e.jsxs("select",{value:j?.role||"secondary",onChange:m=>O({...j,role:m.target.value}),children:[e.jsx("option",{value:"master",children:"Baş Admin (Tam səlahiyyət)"}),e.jsx("option",{value:"secondary",children:"Redaktor (Məhdud səlahiyyət)"})]})]}),j?.role==="master"&&e.jsxs("div",{className:"role-warning",children:[e.jsx(sl,{size:14})," Baş Admin bütün sistem daxilində tam səlahiyyətə malikdir."]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>v(!1),children:"Ləğv et"}),e.jsxs("button",{type:"submit",className:"save-btn",children:[e.jsx(ja,{size:18})," Yadda Saxla"]})]})]})]})})]})},vn=()=>{const[i,l]=g.useState(!1),o=async()=>{l(!0);const y=A.loading("Front qovluğu skan edilir...");try{if(!(await fetch("/api/extract-content",{method:"POST"})).ok)throw new Error("Skan xətası");A.success("Skan tamamlandı! Panel yenilənir...",{id:y}),setTimeout(()=>window.location.reload(),1500)}catch{A.error("Skan uğursuz oldu!",{id:y})}finally{l(!1)}},x=[{id:1,title:"Sitemap Faylını Yaradın",description:"public/sitemap.json faylına menyu strukturunuzu əlavə edin və ya front-dan gətirin.",path:"public/sitemap.json",icon:ll},{id:2,title:"Front Layihəsini Sinxronlaşdırın",description:"/front qovluğundakı React layihəsini skan edərək bütün səhifələri menyuya çıxarın.",path:"/front/src/pages",icon:nl},{id:3,title:"Sistem Ayarlarını Tənzimləyin",description:"Saytın ümumi tənzimləmələrini, loqo və əlaqə məlumatlarını idarə edin.",path:"Sistem Ayarları",icon:Oi}];return e.jsxs("div",{className:"setup-guide",children:[e.jsxs("div",{className:"setup-header",children:[e.jsxs("div",{className:"setup-brand",children:[e.jsx("div",{className:"octo-logo",children:"🏎️"}),e.jsx("h2",{children:"Forsaj Club İdarəetmə"})]}),e.jsx("h1",{children:"Xoş Gəlmisiniz! Paneli Qurmağa Başlayaq"}),e.jsx("p",{children:"Forsaj Club platformanız üçün premium admin paneli artıq hazırdır. Aşağıdakı addımları izləyərək front layihənizi adminlə birləşdirin."})]}),e.jsxs("div",{className:"setup-grid",children:[e.jsx("div",{className:"steps-container",children:x.map(y=>e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-icon",children:e.jsx(y.icon,{size:26})}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:y.title}),e.jsx("p",{children:y.description}),e.jsx("span",{className:"step-badge",children:y.path})]})]},y.id))}),e.jsxs("div",{className:"setup-sidebar-actions",children:[e.jsxs("div",{className:"action-card primary",children:[e.jsx(rl,{size:32}),e.jsx("h4",{children:"Yeni Səhifə Əlavə Et"}),e.jsx("p",{children:"Dinamik olaraq yeni admin səhifəsi yaradın."})]}),e.jsxs("div",{className:"action-card secondary",children:[e.jsx(Mi,{size:32}),e.jsx("h4",{children:"Front Skaner"}),e.jsx("p",{children:"/front qosulub. Skanlamağa hazırdır."}),e.jsx("button",{className:`scan-btn ${i?"loading":""}`,onClick:o,disabled:i,children:i?e.jsx(zi,{className:"animate-spin"}):"İndi Skan Et"})]})]})]}),e.jsx("div",{className:"setup-footer",children:e.jsxs("div",{className:"info-box",children:[e.jsx("strong",{children:"Məlumat:"})," /front qovluğu aşkar edildi. Sitemap avtomatik generasiya olunduqda bu ekran Dashboard ilə əvəzlənəcək."]})})]})},yn=({onLogin:i})=>{const[l,o]=g.useState(!0),[x,y]=g.useState(""),[S,v]=g.useState(""),[j,O]=g.useState(""),[C,U]=g.useState(!1);g.useEffect(()=>{(async()=>{try{(await(await fetch("/api/check-setup")).json()).needsSetup&&o(!1)}catch(m){console.error("Setup check failed",m)}})()},[]);const w=async T=>{T.preventDefault();const m=x.trim(),D=j.trim();if(!m||!S.trim()){A.error("İstifadəçi adı və şifrə mütləqdir");return}if(!l&&!D){A.error("Tam ad mütləqdir");return}if(!l&&S.length<6){A.error("Şifrə ən azı 6 simvol olmalıdır");return}U(!0);try{const X=await fetch(l?"/api/login":"/api/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l?{username:m,password:S}:{username:m,password:S,name:D})}),re=await X.json();if(!X.ok)throw new Error(re.error||(l?"Giriş uğursuz oldu":"Quraşdırma uğursuz oldu"));l?(localStorage.setItem("forsaj_admin_token",re.token),localStorage.setItem("forsaj_admin_user",JSON.stringify(re.user)),i(re.user),A.success("Xoş gəldiniz!")):(A.success("Baza uğurla başladıldı! İndi daxil ola bilərsiniz."),o(!0))}catch(B){A.error(B.message||"Əməliyyat uğursuz oldu")}finally{U(!1)}};return e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-card fade-in",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"login-logo",children:l?e.jsx(dl,{size:40,className:"logo-icon"}):e.jsx(ba,{size:40,className:"logo-icon"})}),e.jsx("h1",{children:l?"Forsaj İdarəetmə Paneli":"Sistem Quraşdırılması"}),e.jsx("p",{children:l?"Sistemə daxil olmaq üçün məlumatlarınızı daxil edin":"İlkin Baş Admin hesabını yaradaraq sistemi başladın"})]}),e.jsxs("form",{className:"login-form",onSubmit:w,children:[!l&&e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Et,{size:16})," Tam Adınız"]}),e.jsx("input",{type:"text",value:j,onChange:T=>O(T.target.value),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Et,{size:16})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:x,onChange:T=>y(T.target.value),placeholder:"Məs: admin",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(ba,{size:16})," Şifrə"]}),e.jsx("input",{type:"password",value:S,onChange:T=>v(T.target.value),placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",className:"login-btn",disabled:C,children:C?e.jsxs("div",{className:"loader-container",children:[e.jsx(zi,{className:"animate-spin",size:20}),e.jsx("span",{children:"Gözləyin..."})]}):l?"Daxil ol":"Sistemi başlat"})]}),e.jsx("div",{className:"login-footer",children:e.jsx("p",{children:"© 2026 Forsaj Club. Platformanın təhlükəsizliyi üçün mütəmadi olaraq şifrənizi yeniləyin."})})]})})},Sn=()=>{const[i,l]=g.useState([]),[o,x]=g.useState(null),[y,S]=g.useState(!0),[v,j]=g.useState("all"),O=async()=>{const m=localStorage.getItem("forsaj_admin_token");try{const D=await fetch("/api/applications",{headers:{Authorization:`Bearer ${m}`}});if(D.ok){const B=await D.json();l(B)}}catch{A.error("Müraciətlər yüklənərkən xəta baş verdi")}finally{S(!1)}};g.useEffect(()=>{O()},[]);const C=async m=>{const D=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${m}/read`,{method:"POST",headers:{Authorization:`Bearer ${D}`}})).ok&&(l(L=>L.map(X=>X.id===m?{...X,status:"read"}:X)),o?.id===m&&x(L=>L?{...L,status:"read"}:null))}catch(B){console.error(B)}},U=async m=>{if(!window.confirm("Bu müraciəti silmək istədiyinizə əminsiniz?"))return;const D=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${m}`,{method:"DELETE",headers:{Authorization:`Bearer ${D}`}})).ok&&(l(L=>L.filter(X=>X.id!==m)),o?.id===m&&x(null),A.success("Müraciət silindi"))}catch{A.error("Silinmə zamanı xəta baş verdi")}},w=i.filter(m=>v==="unread"?m.status==="unread":v==="read"?m.status==="read":!0),T=m=>{try{const D=JSON.parse(m);return e.jsx("div",{className:"app-details-grid",children:Object.entries(D).map(([B,L])=>e.jsxs("div",{className:"detail-item",children:[e.jsxs("span",{className:"detail-label",children:[B.toUpperCase(),":"]}),e.jsx("span",{className:"detail-value",children:String(L)})]},B))})}catch{return e.jsx("div",{className:"detail-text",children:m})}};return y?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"applications-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Müraciətlər"}),e.jsx("p",{children:"İstifadəçilər tərəfindən göndərilən formlar və qeydiyyatlar"})]}),e.jsxs("div",{className:"filter-tabs",children:[e.jsx("button",{className:v==="all"?"active":"",onClick:()=>j("all"),children:"Hamısı"}),e.jsx("button",{className:v==="unread"?"active":"",onClick:()=>j("unread"),children:"Oxunmamış"}),e.jsx("button",{className:v==="read"?"active":"",onClick:()=>j("read"),children:"Oxunmuş"})]})]}),e.jsxs("div",{className:"manager-body",children:[e.jsx("div",{className:"applications-list",children:w.length===0?e.jsx("div",{className:"empty-list",children:"Heç bir müraciət tapılmadı"}):w.map(m=>e.jsxs("div",{className:`application-item ${m.status} ${o?.id===m.id?"selected":""}`,onClick:()=>{x(m),m.status==="unread"&&C(m.id)},children:[e.jsx("div",{className:"app-item-icon",children:m.status==="unread"?e.jsx(Di,{className:"icon-unread"}):e.jsx(ol,{className:"icon-read"})}),e.jsxs("div",{className:"app-item-main",children:[e.jsxs("div",{className:"app-item-header",children:[e.jsx("span",{className:"app-item-name",children:m.name}),e.jsx("span",{className:"app-item-date",children:new Date(m.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"app-item-type",children:m.type})]}),e.jsx(cl,{size:16,className:"chevron"})]},m.id))}),e.jsx("div",{className:"application-details",children:o?e.jsxs("div",{className:"details-card fade-in",children:[e.jsxs("div",{className:"details-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Müraciət Təfərrüatları"}),e.jsx("span",{className:`status-badge ${o.status}`,children:o.status==="unread"?"Yeni":"Oxunub"})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"btn-delete",onClick:()=>U(o.id),children:e.jsx(ue,{size:18})})})]}),e.jsxs("div",{className:"details-info",children:[e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Et,{size:16})," Göndərən"]}),e.jsx("p",{children:o.name})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(ki,{size:16})," Əlaqə"]}),e.jsx("p",{children:o.contact})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Tt,{size:16})," Kateqoriya"]}),e.jsx("p",{children:o.type})]})]}),e.jsxs("div",{className:"details-content",children:[e.jsx("label",{children:"Məzmun"}),e.jsx("div",{className:"content-box",children:T(o.content)})]})]}):e.jsxs("div",{className:"details-placeholder",children:[e.jsx(Ci,{size:48}),e.jsx("p",{children:"Baxmaq üçün siyahıdan müraciət seçin"})]})})]})]})},Ni="forsaj_general_hidden_cards",Tn={general:"SİSTEM AYARLARI",marquee:"MARQUEE"},jn=["SOCIAL_INSTAGRAM","SOCIAL_YOUTUBE","SOCIAL_FACEBOOK"],Ri=i=>{const l=(i||"").trim();return l?/^[a-z][a-z0-9+.-]*:/i.test(l)?l:l.startsWith("//")?`https:${l}`:/^[\w.-]+\.[a-z]{2,}(?:[/?#]|$)/i.test(l)?`https://${l}`:l:""},En=()=>{const[i,l]=g.useState([]),[o,x]=g.useState(!1),[y,S]=g.useState(!0),[v,j]=g.useState(()=>{try{const c=localStorage.getItem(Ni),R=c?JSON.parse(c):[];return Array.isArray(R)?R:[]}catch{return[]}}),O=Ta(),U=new URLSearchParams(O.search).get("tab")==="hidden",w=c=>v.includes(c),T=c=>U?w(c):!w(c),m=c=>`settings-card shadow-sm${T(c)?"":" settings-card-hidden"}`,D=c=>{j(R=>R.includes(c)?R:[...R,c])},B=c=>{j(R=>R.filter(M=>M!==c))},L=c=>{const R=w(c),M=U&&R;return e.jsx("button",{type:"button",className:"card-visibility-btn",onClick:()=>R?B(c):D(c),title:M?"Kartı geri gətir":"Kartı gizlət","aria-label":M?"Kartı geri gətir":"Kartı gizlət",children:M?e.jsx(Ii,{size:16}):e.jsx(pl,{size:16})})},X=async()=>{try{const R=await(await fetch("/api/site-content")).json();l(R),S(!1)}catch{A.error("Ayarlar yüklənərkən xəta baş verdi")}};g.useEffect(()=>{X()},[]),g.useEffect(()=>{localStorage.setItem(Ni,JSON.stringify(v))},[v]),g.useEffect(()=>{if(y)return;const R=new URLSearchParams(O.search).get("tab"),H=R?{seo:"seo-basic",general:"branding",contact:"contact-details",social:"branding",stats:"stats",marquee:"marquee-settings"}[R]:"";H&&setTimeout(()=>{const V=document.querySelector(`[data-settings-section="${H}"]`);V&&V.scrollIntoView({behavior:"smooth",block:"start"})},50)},[O.search,y]);const re=(c,R)=>{let M=c.findIndex(H=>H.id===R);return M===-1&&(c.push({id:R,title:Tn[R]||R.toUpperCase(),sections:[],images:[],active:!0}),M=c.length-1),Array.isArray(c[M].sections)||(c[M].sections=[]),Array.isArray(c[M].images)||(c[M].images=[]),M},k=(c,R,M=!1,H="general")=>{const V=[...i],G=re(V,H);if(M){const me=V[G].images.findIndex(ge=>ge.id===c);me===-1?V[G].images.push({id:c,path:R,alt:c,type:"local"}):V[G].images[me].path=R}else{const me=V[G].sections.findIndex(ge=>ge.id===c);me===-1?V[G].sections.push({id:c,type:"text",label:c,value:R}):V[G].sections[me].value=R}l(V)},I=(c,R=!1,M="general")=>{const H=i.find(V=>V.id===M);return H?R?H.images.find(V=>V.id===c)?.path||"":H.sections.find(V=>V.id===c)?.value||"":""},We=(c,R=!0)=>{const M=i.find(H=>H.id===c);return!M||M.active===void 0?R:!!M.active},Me=(c,R)=>{const M=[...i],H=re(M,c);M[H].active=R,l(M)},ut=()=>{const c=i.find(R=>R.id==="marquee");return c&&(c.sections?.find(R=>R.id==="MARQUEE_TEXT")?.value||c.sections?.[0]?.value)||""},_e=c=>{const R=[...i],M=re(R,"marquee"),H=R[M].sections,V=H.findIndex(G=>G.id==="MARQUEE_TEXT");V>=0?H[V].value=c:H.length>0?H[0].value=c:H.push({id:"MARQUEE_TEXT",type:"text",label:"MARQUEE_TEXT",value:c}),l(R)},ze=c=>{const R=i.find(M=>M.id==="marquee");return R&&R.sections?.find(M=>M.id===c)?.value||""},F=(c,R)=>{const M=[...i],H=re(M,"marquee"),V=M[H].sections,G=V.findIndex(me=>me.id===c);G>=0?V[G].value=R:V.push({id:c,type:"text",label:c,value:R}),l(M)},fe=()=>ze("MARQUEE_LINK"),oe=c=>F("MARQUEE_LINK",c),Ie=()=>{const c=(ze("MARQUEE_LINK_ACTIVE")||"").toString().trim().toLowerCase();return c==="1"||c==="true"||c==="yes"||c==="on"},Oe=c=>{F("MARQUEE_LINK_ACTIVE",c?"1":"0")},ce=c=>Ri(I(c)),Ae=c=>c.map(R=>R?.id!=="general"||!Array.isArray(R.sections)?R:{...R,sections:R.sections.map(M=>jn.includes(M?.id)?{...M,value:Ri(M?.value||"")}:M)}),pe=async(c,R,M="general")=>{const H=c.target.files?.[0];if(!H)return;const V=new FormData;V.append("image",H);const G=A.loading("Şəkil yüklənir...");try{const me=await fetch("/api/upload-image",{method:"POST",body:V});if(me.ok){const ge=await me.json();k(R,ge.url,!0,M),A.success("Şəkil yükləndi",{id:G})}}catch{A.error("Yükləmə xətası",{id:G})}},W=async()=>{x(!0);const c=A.loading("Yadda saxlanılır..."),R=Ae(i);l(R);try{await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),A.success("Ayarlar qeyd edildi!",{id:c})}catch{A.error("Xəta baş verdi",{id:c})}finally{x(!1)}};return y?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"general-settings fade-in",children:[e.jsxs("div",{className:"settings-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Sistem Ayarları"}),e.jsx("p",{children:U?"Gizlədilmiş ayar kartları":"SEO, Brendinq və ümumi sayt tənzimləmələri"})]}),e.jsxs("button",{className:"save-btn",onClick:W,disabled:o,children:[e.jsx(ja,{size:18}),e.jsx("span",{children:"Yadda Saxla"})]})]}),U&&v.length===0&&e.jsx("div",{className:"hidden-settings-empty",children:"Gizlənmiş kart yoxdur. Kartları gizlətmək üçün normal görünüşdə kartın üzərinə gəlib göz ikonuna klikləyin."}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:m("seo-basic"),"data-settings-section":"seo-basic",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Ee,{size:20,className:"text-blue-500"}),e.jsx("h2",{children:"SEO və axtarış motoru"}),L("seo-basic")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta başlıq (sayt adı)"}),e.jsx("input",{type:"text",value:I("SEO_TITLE"),onChange:c=>k("SEO_TITLE",c.target.value),placeholder:"Məs: Forsaj Club - Offroad & Motorsport"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta təsvir"}),e.jsx("textarea",{value:I("SEO_DESCRIPTION"),onChange:c=>k("SEO_DESCRIPTION",c.target.value),placeholder:"Sayt haqqında qısa məlumat..."})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Açar sözlər"}),e.jsx("input",{type:"text",value:I("SEO_KEYWORDS"),onChange:c=>k("SEO_KEYWORDS",c.target.value),placeholder:"offroad, baki, yarış, mitsubishi, pajero"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Kanonik URL"}),e.jsx("input",{type:"text",value:I("SEO_CANONICAL_URL"),onChange:c=>k("SEO_CANONICAL_URL",c.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Robots direktivi"}),e.jsx("input",{type:"text",value:I("SEO_ROBOTS"),onChange:c=>k("SEO_ROBOTS",c.target.value),placeholder:"index,follow"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Müəllif"}),e.jsx("input",{type:"text",value:I("SEO_AUTHOR"),onChange:c=>k("SEO_AUTHOR",c.target.value),placeholder:"Forsaj Club"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Dil (html lang)"}),e.jsx("input",{type:"text",value:I("SEO_LANGUAGE"),onChange:c=>k("SEO_LANGUAGE",c.target.value),placeholder:"az"})]})]})]}),e.jsxs("div",{className:m("seo-social"),"data-settings-section":"seo-social",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Ee,{size:20,className:"text-cyan-500"}),e.jsx("h2",{children:"Sosial paylaşım SEO (OG / Twitter)"}),L("seo-social")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG başlıq"}),e.jsx("input",{type:"text",value:I("SEO_OG_TITLE"),onChange:c=>k("SEO_OG_TITLE",c.target.value),placeholder:"Sosial şəbəkə başlığı"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG təsvir"}),e.jsx("textarea",{value:I("SEO_OG_DESCRIPTION"),onChange:c=>k("SEO_OG_DESCRIPTION",c.target.value),placeholder:"Sosial şəbəkə paylaşım təsviri"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG URL"}),e.jsx("input",{type:"text",value:I("SEO_OG_URL"),onChange:c=>k("SEO_OG_URL",c.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter kart növü"}),e.jsx("input",{type:"text",value:I("SEO_TWITTER_CARD"),onChange:c=>k("SEO_TWITTER_CARD",c.target.value),placeholder:"summary_large_image"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter hesabı (site)"}),e.jsx("input",{type:"text",value:I("SEO_TWITTER_SITE"),onChange:c=>k("SEO_TWITTER_SITE",c.target.value),placeholder:"@forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter müəllif"}),e.jsx("input",{type:"text",value:I("SEO_TWITTER_CREATOR"),onChange:c=>k("SEO_TWITTER_CREATOR",c.target.value),placeholder:"@forsajclub"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"140px"},children:I("SEO_OG_IMAGE",!0)?e.jsx("img",{src:I("SEO_OG_IMAGE",!0),alt:"OG Şəkli"}):e.jsx("div",{className:"no-logo",children:"OG şəkli yoxdur"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(Ft,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>pe(c,"SEO_OG_IMAGE")})]}),e.jsx("input",{type:"text",value:I("SEO_OG_IMAGE",!0),onChange:c=>k("SEO_OG_IMAGE",c.target.value,!0),placeholder:"https://forsaj.az/og-cover.jpg"})]})]})]})]}),e.jsxs("div",{className:m("seo-verify"),"data-settings-section":"seo-verify",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(bi,{size:20,className:"text-violet-500"}),e.jsx("h2",{children:"Axtarış motoru təsdiqləri"}),L("seo-verify")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Google təsdiq kodu"}),e.jsx("input",{type:"text",value:I("SEO_GOOGLE_VERIFICATION"),onChange:c=>k("SEO_GOOGLE_VERIFICATION",c.target.value),placeholder:"google-site-verification kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bing təsdiq kodu"}),e.jsx("input",{type:"text",value:I("SEO_BING_VERIFICATION"),onChange:c=>k("SEO_BING_VERIFICATION",c.target.value),placeholder:"msvalidate.01 kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yandex təsdiq kodu"}),e.jsx("input",{type:"text",value:I("SEO_YANDEX_VERIFICATION"),onChange:c=>k("SEO_YANDEX_VERIFICATION",c.target.value),placeholder:"yandex-verification kodu"})]})]})]}),e.jsxs("div",{className:m("contact-details"),"data-settings-section":"contact-details",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(De,{size:20,className:"text-red-500"}),e.jsx("h2",{children:"Əlaqə & Ünvan Məlumatları"}),L("contact-details")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 1)"}),e.jsx("input",{type:"text",value:I("CONTACT_ADDRESS_1"),onChange:c=>k("CONTACT_ADDRESS_1",c.target.value),placeholder:"Məs: AZADLIQ 102, BAKI"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 2)"}),e.jsx("input",{type:"text",value:I("CONTACT_ADDRESS_2"),onChange:c=>k("CONTACT_ADDRESS_2",c.target.value),placeholder:"Məs: AZƏRBAYCAN // SECTOR_01"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"İş Saatları"}),e.jsx("input",{type:"text",value:I("CONTACT_HOURS"),onChange:c=>k("CONTACT_HOURS",c.target.value),placeholder:"Məs: 09:00 - 18:00"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə Nömrəsi"}),e.jsx("input",{type:"text",value:I("CONTACT_PHONE"),onChange:c=>k("CONTACT_PHONE",c.target.value),placeholder:"+994 50 000 00 00"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə E-poçtu"}),e.jsx("input",{type:"text",value:I("CONTACT_EMAIL"),onChange:c=>k("CONTACT_EMAIL",c.target.value),placeholder:"info@forsaj.az"})]})]})]})]}),e.jsxs("div",{className:m("departments"),"data-settings-section":"departments",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(ul,{size:20,className:"text-purple-500"}),e.jsx("h2",{children:"Şöbə E-poçtları"}),L("departments")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis (HQ)"}),e.jsx("input",{type:"text",value:I("DEPT_HQ_EMAIL"),onChange:c=>k("DEPT_HQ_EMAIL",c.target.value),placeholder:"hq@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Media və PR"}),e.jsx("input",{type:"text",value:I("DEPT_PR_EMAIL"),onChange:c=>k("DEPT_PR_EMAIL",c.target.value),placeholder:"pr@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Texniki Dəstək"}),e.jsx("input",{type:"text",value:I("DEPT_TECH_EMAIL"),onChange:c=>k("DEPT_TECH_EMAIL",c.target.value),placeholder:"tech@forsaj.az"})]})]})]}),e.jsxs("div",{className:m("branding"),"data-settings-section":"branding",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(De,{size:20,className:"text-orange-500"}),e.jsx("h2",{children:"Brendinq & Loqo"}),L("branding")]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"logo-upload-grid",children:[e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Əsas Loqo (Light)"}),e.jsx("div",{className:"logo-preview",children:I("SITE_LOGO_LIGHT",!0)?e.jsx("img",{src:I("SITE_LOGO_LIGHT",!0),alt:"Logo Light"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(Ft,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>pe(c,"SITE_LOGO_LIGHT")})]})]}),e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Alternativ Loqo (Dark)"}),e.jsx("div",{className:"logo-preview dark-bg",children:I("SITE_LOGO_DARK",!0)?e.jsx("img",{src:I("SITE_LOGO_DARK",!0),alt:"Logo Dark"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(Ft,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>pe(c,"SITE_LOGO_DARK")})]})]})]})})]}),e.jsxs("div",{className:m("social-links"),"data-settings-section":"social-links",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Ee,{size:20,className:"text-pink-500"}),e.jsx("h2",{children:"Sosial Media Linkləri"}),L("social-links")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Instagram"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:I("SOCIAL_INSTAGRAM"),onChange:c=>k("SOCIAL_INSTAGRAM",c.target.value),placeholder:"https://instagram.com/forsajclub"}),e.jsx("a",{href:ce("SOCIAL_INSTAGRAM")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${ce("SOCIAL_INSTAGRAM")?"":" disabled"}`,onClick:c=>{ce("SOCIAL_INSTAGRAM")||c.preventDefault()},children:"Test et"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Youtube"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:I("SOCIAL_YOUTUBE"),onChange:c=>k("SOCIAL_YOUTUBE",c.target.value),placeholder:"https://youtube.com/@forsajclub"}),e.jsx("a",{href:ce("SOCIAL_YOUTUBE")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${ce("SOCIAL_YOUTUBE")?"":" disabled"}`,onClick:c=>{ce("SOCIAL_YOUTUBE")||c.preventDefault()},children:"Test et"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Facebook"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:I("SOCIAL_FACEBOOK"),onChange:c=>k("SOCIAL_FACEBOOK",c.target.value),placeholder:"https://facebook.com/forsajclub"}),e.jsx("a",{href:ce("SOCIAL_FACEBOOK")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${ce("SOCIAL_FACEBOOK")?"":" disabled"}`,onClick:c=>{ce("SOCIAL_FACEBOOK")||c.preventDefault()},children:"Test et"})]}),e.jsx("small",{className:"field-help",children:"Domen ilə başlayan linklərdə (`instagram.com/...`) `https://` avtomatik əlavə ediləcək."})]})]})]}),e.jsxs("div",{className:m("marquee-settings"),"data-settings-section":"marquee-settings",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(_i,{size:20,className:"text-amber-500"}),e.jsx("h2",{children:"Marquee Ayarları"}),L("marquee-settings")]}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"field-group",children:e.jsxs("label",{className:"toggle-row",children:[e.jsx("input",{type:"checkbox",checked:We("marquee",!0),onChange:c=>Me("marquee",c.target.checked)}),e.jsx("span",{children:"Marquee aktivdir (səhifədə göstər)"})]})}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Marquee mətni"}),e.jsx("textarea",{value:ut(),onChange:c=>_e(c.target.value),placeholder:"Məs: FORSAJ CLUB // OFFROAD MOTORSPORT HUB"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Link əlavə et"}),e.jsx("input",{type:"text",value:fe(),onChange:c=>oe(c.target.value),placeholder:"Məs: /events və ya https://forsaj.az/events"})]}),e.jsx("div",{className:"field-group",children:e.jsxs("label",{className:"toggle-row",children:[e.jsx("input",{type:"checkbox",checked:Ie(),onChange:c=>Oe(c.target.checked)}),e.jsx("span",{children:"Link aktivdir (aktiv/deaktiv)"})]})}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Marquee arxa plan şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"90px"},children:I("marquee-image",!0,"marquee")?e.jsx("img",{src:I("marquee-image",!0,"marquee"),alt:"Marquee Background"}):e.jsx("div",{className:"no-logo",children:"Arxa plan şəkli yoxdur"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(Ft,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>pe(c,"marquee-image","marquee")})]}),e.jsx("input",{type:"text",value:I("marquee-image",!0,"marquee"),onChange:c=>k("marquee-image",c.target.value,!0,"marquee"),placeholder:"https://forsaj.az/marquee-bg.jpg"})]})]})]})]}),e.jsxs("div",{className:m("stats"),"data-settings-section":"stats",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(bi,{size:20,className:"text-green-500"}),e.jsx("h2",{children:"Sayt Statistikaları"}),L("stats")]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"stats-edit-grid",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Pilot Sayı"}),e.jsx("input",{type:"text",value:I("STATS_PILOTS"),onChange:c=>k("STATS_PILOTS",c.target.value),placeholder:"Susmaya görə: 140+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yarış Sayı"}),e.jsx("input",{type:"text",value:I("STATS_RACES"),onChange:c=>k("STATS_RACES",c.target.value),placeholder:"Susmaya görə: 50+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Gənc İştirakçı"}),e.jsx("input",{type:"text",value:I("STATS_YOUTH"),onChange:c=>k("STATS_YOUTH",c.target.value),placeholder:"Susmaya görə: 20+"})]})]})})]})]})]})},de=i=>i.toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),An={DASHBOARD:"Panel Ana Səhifə","ANA SƏHİFƏ":"Sayt Məzmunu",HAQQIMIZDA:"Haqqımızda",XƏBƏRLƏR:"Xəbərlər",TƏDBİRLƏR:"Tədbirlər",SÜRÜCÜLƏR:"Sürücülər",QALEREYA:"Qalereya",QAYDALAR:"Qaydalar",ƏLAQƏ:"Əlaqə","ADMİN HESABLARI":"İstifadəçi İdarəsi","SİSTEM AYARLARI":"Sistem Ayarları",SOSYAL:"Sosyal","MƏXFİLİK SİYASƏTİ":"PRIVACY POLICY","XİDMƏT ŞƏRTLƏRİ":"TERMS OF SERVICE"},Nn={"Ümumi Görünüş":"Ana Səhifə Blokları",Naviqasiya:"Menyu və Naviqasiya","Giriş Hissəsi":"Hero Bölməsi","Sürüşən Yazı":"Marquee Yazısı","Sayt Sonu":"Footer","Xəbər Siyahısı":"Xəbər Məzmunu","Xəbər Səhifəsi":"Xəbər Səhifəsi Mətni","Tədbir Təqvimi":"Tədbir Siyahısı","Tədbir Səhifəsi":"Tədbir Səhifəsi Mətni","Sürücü Reytinqi":"Sürücü Cədvəli","Sürücülər Səhifəsi":"Sürücülər Səhifəsi Mətni"},Rn=i=>{const l=An[i.title]||i.title;return{...i,title:l,children:i.children?.map(o=>({...o,title:Nn[o.title]||o.title}))}},ot=i=>i&&(i==="/frontend-settings"||i==="/admin/frontend-settings"||i==="/general-settings"||i==="/admin/general-settings"?"/general-settings?tab=general":i),Qi=i=>({...i,path:ot(i.path),children:i.children?.map(Qi)}),ha=(i=[])=>{const l=new Map;return i.forEach(o=>{const x=`${de(o.title||"")}|${de(o.path||"")}`;x&&l.set(x,o)}),Array.from(l.values())},Li=i=>{const l=de(i?.title||""),o=de(ot(i?.path)||"");return l==="sistem ayarlari"||o==="/frontend-settings"||o==="/admin/frontend-settings"||o==="/general-settings"||o==="/admin/general-settings"||o.startsWith("/general-settings?")},Ln=()=>{const[i,l]=g.useState(null),[o,x]=g.useState([]),[y,S]=g.useState(0),[v,j]=g.useState(!0);if(g.useEffect(()=>{const C=localStorage.getItem(Hi),U=jt();if(C&&U)try{l(JSON.parse(C))}catch{Le(),l(null)}else Le(),l(null);j(!1)},[]),g.useEffect(()=>{const C=()=>l(null);return window.addEventListener(Sa,C),()=>window.removeEventListener(Sa,C)},[]),g.useEffect(()=>{const C=async()=>{const w=jt();if(!w){Le();return}try{let T=y;const m=await fetch("/api/applications/unread-count",{headers:{Authorization:`Bearer ${w}`}});if(m.status===401||m.status===403){Le();return}if(m.ok){const{count:B}=await m.json();T=Number(B)||0,S(T)}const D=await fetch(`/api/sitemap?v=${Date.now()}`);if(D.ok){const B=await D.json();let L=Array.isArray(B)?B:[];L=L.map(F=>Rn(F)).map(F=>Qi(F));const X=L.find(F=>F.path==="/applications");X?T>0?X.badge={text:T.toString(),color:"bg-red-500"}:delete X.badge:L=[...L,{title:"Müraciətlər",path:"/applications",icon:"Inbox",badge:T>0?{text:T.toString(),color:"bg-red-500"}:void 0}];const re=[{title:"SEO Ayarları",path:"/general-settings?tab=seo",icon:"Globe"},{title:"Ümumi Parametrlər",path:"/general-settings?tab=general",icon:"Sliders"},{title:"Əlaqə və Sosial",path:"/general-settings?tab=contact",icon:"Phone"},{title:"Marquee Ayarları",path:"/general-settings?tab=marquee",icon:"Activity"},{title:"Tətbiq Ayarları",path:"/general-settings?tab=stats",icon:"Activity"},{title:"Gizlənən Ayarlar",path:"/general-settings?tab=hidden",icon:"Eye"}],k=L.filter(F=>Li(F));L=L.filter(F=>!Li(F));const We={title:"Sistem Ayarları",icon:"Settings",path:"/general-settings?tab=general",children:ha([...re,...k.flatMap(F=>F.children||[])])},Me=L.findIndex(F=>de(F.path||"")==="/users-management");if(Me>=0?L.splice(Me+1,0,We):L.push(We),!L.some(F=>de(F.title||"")==="sosyal"||de(ot(F.path)||"")==="/general-settings?tab=social")){const F={title:"Sosyal",icon:"Globe",path:"/general-settings?tab=social"},fe=L.findIndex(Ie=>de(Ie.title||"")==="sistem ayarlari"||de(ot(Ie.path)||"")==="/general-settings?tab=general"),oe=L.findIndex(Ie=>de(Ie.path||"")==="/applications");fe>=0?L.splice(fe+1,0,F):oe>=0?L.splice(oe,0,F):L.push(F)}const _e=(F,fe=[])=>{const oe=de(ot(F.path)||""),Ie=de(F.title||"");if(L.some(pe=>de(pe.title||"")===Ie||de(ot(pe.path)||"")===oe))return;const ce=L.findIndex(pe=>{const W=de(pe.title||"");return fe.some(c=>W===de(c))});if(ce>=0){L.splice(ce+1,0,F);return}const Ae=L.findIndex(pe=>de(pe.path||"")==="/applications");if(Ae>=0){L.splice(Ae,0,F);return}L.push(F)};_e({title:"PRIVACY POLICY",icon:"FileText",path:"/?page=privacypolicypage"},["Qaydalar","QAYDALAR"]),_e({title:"TERMS OF SERVICE",icon:"FileText",path:"/?page=termsofservicepage"},["PRIVACY POLICY"]);const ze=new Map;for(const F of L){const fe=de(F.title||"");if(!fe)continue;const oe=ze.get(fe);if(!oe){ze.set(fe,{...F,children:ha(F.children||[])});continue}ze.set(fe,{...oe,path:oe.path||F.path,icon:oe.icon||F.icon,badge:oe.badge||F.badge,children:ha([...oe.children||[],...F.children||[]])})}x(Array.from(ze.values()))}}catch(T){console.error("Fetch data failed",T)}finally{j(!1)}};C();const U=setInterval(C,3e4);return()=>clearInterval(U)},[i]),v)return e.jsx("div",{style:{display:"flex",height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",background:"#f4f6f9",color:"#3b82f6",fontSize:"1.2rem",fontWeight:"600"},children:"Yüklənir..."});const O=!o||o.length===0;return e.jsx(Ps,{basename:"/admin",children:e.jsxs("div",{className:"app-container",children:[e.jsx(sn,{containerStyle:{zIndex:10001},position:"top-right",reverseOrder:!1}),i?e.jsxs(e.Fragment,{children:[e.jsx(xl,{menuItems:o,user:i,onLogout:()=>{Le(),l(null)}}),e.jsxs("main",{className:"main-content",children:[e.jsx(hl,{user:i}),e.jsx("div",{className:"content-body",children:e.jsx(ws,{children:O?e.jsx(rt,{path:"*",element:e.jsx(vn,{})}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{path:"/",element:e.jsx(gn,{})}),e.jsx(rt,{path:"/applications",element:e.jsx(Sn,{})}),e.jsx(rt,{path:"/general-settings",element:e.jsx(En,{})}),e.jsx(rt,{path:"/users-management",element:e.jsx(bn,{currentUser:i})}),e.jsx(rt,{path:"*",element:e.jsx("div",{className:"fade-in",children:e.jsx("h1",{children:"Səhifə tapılmadı"})})})]})})})]})]}):e.jsx(yn,{onLogin:l})]})})};Us.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(Ln,{})}));
